(self.webpackChunkgame_room_utn_app=self.webpackChunkgame_room_utn_app||[]).push([[179],{8255:He=>{function Ee(F){return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+F+"'");throw m.code="MODULE_NOT_FOUND",m})}Ee.keys=()=>[],Ee.resolve=Ee,Ee.id=8255,He.exports=Ee},3018:(He,Ee,F)=>{"use strict";F.d(Ee,{deG:()=>dh,tb:()=>F0,AFp:()=>nD,ip1:()=>qf,CZH:()=>Qa,hGG:()=>_x,z2F:()=>Yf,sBO:()=>XA,Sil:()=>Wf,_Vd:()=>hl,EJc:()=>cy,SBq:()=>ds,qLn:()=>xe,vpe:()=>uo,gxx:()=>Fa,tBr:()=>ba,XFs:()=>Ie,OlP:()=>un,zs3:()=>Ot,ZZ4:()=>$o,aQg:()=>ro,soG:()=>ly,YKP:()=>oI,v3s:()=>ox,h0i:()=>Go,PXZ:()=>yD,R0b:()=>hi,FiY:()=>rs,Lbi:()=>ay,g9A:()=>k0,Qsj:()=>Dm,FYo:()=>Ho,JOm:()=>$s,Tiy:()=>li,q3G:()=>ln,tp0:()=>is,EAV:()=>ID,Rgc:()=>Hi,dDg:()=>Z0,DyG:()=>Ru,q4F:()=>fl,GfV:()=>ME,s_b:()=>Rf,ifc:()=>Ut,eFA:()=>Ol,G48:()=>rx,Gpc:()=>ee,X6Q:()=>K0,_c5:()=>lo,VLi:()=>z0,c2e:()=>uy,zSh:()=>Qh,wAp:()=>Ke,vHH:()=>Te,EiD:()=>Gu,mCW:()=>Mo,qzn:()=>Us,JVY:()=>Ro,pB0:()=>Sa,eBb:()=>Yp,L6k:()=>Kp,LAX:()=>Ah,cg1:()=>od,Tjo:()=>hx,kL8:()=>fE,yhl:()=>xi,dqk:()=>V,sIi:()=>Xu,CqO:()=>Uv,QGY:()=>Ua,F4k:()=>fb,RDi:()=>da,AaK:()=>B,z3N:()=>Vr,qOj:()=>me,TTD:()=>Or,_Bn:()=>Tf,xp6:()=>cC,uIk:()=>Qs,ekj:()=>Yv,Suo:()=>Uf,Xpm:()=>na,lG2:()=>cp,Yz7:()=>Jt,cJS:()=>Gi,oAB:()=>Zi,Yjl:()=>$d,Y36:()=>Wc,_UZ:()=>Kc,qZA:()=>Lv,TgZ:()=>em,n5z:()=>Tu,Ikx:()=>vf,LFG:()=>Cn,$8M:()=>Su,NdJ:()=>Vo,CRH:()=>Ad,kcU:()=>rc,O4$:()=>nc,Q6J:()=>zc,iGM:()=>g0,LSH:()=>os,kYT:()=>ou,_uU:()=>Xv,Oqu:()=>Ba});var m=F(9765),ie=F(5319),H=F(7574),te=F(6682),pe=F(2441);var he=F(1307);function z(){return new m.xQ}function j(o){for(let a in o)if(o[a]===j)return a;throw Error("Could not find renamed property on target object.")}function $(o,a){for(const l in a)a.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=a[l])}function B(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(B).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function q(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const ue=j({__forward_ref__:j});function ee(o){return o.__forward_ref__=ee,o.toString=function(){return B(this())},o}function X(o){return Ae(o)?o():o}function Ae(o){return"function"==typeof o&&o.hasOwnProperty(ue)&&o.__forward_ref__===ee}class Te extends Error{constructor(a,l){super(function(o,a){return`${o?`NG0${o}: `:""}${a}`}(a,l)),this.code=a}}function Me(o){return"string"==typeof o?o:null==o?"":String(o)}function le(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Me(o)}function ne(o,a){const l=a?` in ${a}`:"";throw new Te("201",`No provider for ${le(o)} found${l}`)}function ft(o,a){null==o&&function(o,a,l,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${l} ${d} ${a} <=Actual]`))}(a,o,null,"!=")}function Jt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Gi(o){return{providers:o.providers||[],imports:o.imports||[]}}function Gn(o){return fo(o,Sn)||fo(o,zr)}function fo(o,a){return o.hasOwnProperty(a)?o[a]:null}function qi(o){return o&&(o.hasOwnProperty(pi)||o.hasOwnProperty(ct))?o[pi]:null}const Sn=j({\u0275prov:j}),pi=j({\u0275inj:j}),zr=j({ngInjectableDef:j}),ct=j({ngInjectorDef:j});var Ie=(()=>((Ie=Ie||{})[Ie.Default=0]="Default",Ie[Ie.Host=1]="Host",Ie[Ie.Self=2]="Self",Ie[Ie.SkipSelf=4]="SkipSelf",Ie[Ie.Optional=8]="Optional",Ie))();let Nt;function Zt(o){const a=Nt;return Nt=o,a}function Ft(o,a,l){const d=Gn(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&Ie.Optional?null:void 0!==a?a:void ne(B(o),"Injector")}function Be(o){return{toString:o}.toString()}var yr=(()=>((yr=yr||{})[yr.OnPush=0]="OnPush",yr[yr.Default=1]="Default",yr))(),Ut=(()=>((Ut=Ut||{})[Ut.Emulated=0]="Emulated",Ut[Ut.None=2]="None",Ut[Ut.ShadowDom=3]="ShadowDom",Ut))();const _r="undefined"!=typeof globalThis&&globalThis,jd="undefined"!=typeof window&&window,Wt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,G="undefined"!=typeof global&&global,V=_r||G||jd||Wt,Y={},ve=[],We=j({\u0275cmp:j}),bt=j({\u0275dir:j}),vt=j({\u0275pipe:j}),pt=j({\u0275mod:j}),hn=j({\u0275loc:j}),on=j({\u0275fac:j}),xn=j({__NG_ELEMENT_ID__:j});let vs=0;function na(o){return Be(()=>{const l={},d={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===yr.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||ve,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Ut.Emulated,id:"c",styles:o.styles||ve,_:null,setInput:null,schemas:o.schemas||null,tView:null},h=o.directives,g=o.features,v=o.pipes;return d.id+=vs++,d.inputs=ia(o.inputs,l),d.outputs=ia(o.outputs),g&&g.forEach(w=>w(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(ra):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(Ll):null,d})}function ra(o){return Vn(o)||function(o){return o[bt]||null}(o)}function Ll(o){return function(o){return o[vt]||null}(o)}const Hd={};function Zi(o){return Be(()=>{const a={type:o.type,bootstrap:o.bootstrap||ve,declarations:o.declarations||ve,imports:o.imports||ve,exports:o.exports||ve,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(Hd[o.id]=o.type),a})}function ou(o,a){return Be(()=>{const l=Tt(o,!0);l.declarations=a.declarations||ve,l.imports=a.imports||ve,l.exports=a.exports||ve})}function ia(o,a){if(null==o)return Y;const l={};for(const d in o)if(o.hasOwnProperty(d)){let h=o[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),l[h]=d,a&&(a[h]=g)}return l}const cp=na;function $d(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function Vn(o){return o[We]||null}function Tt(o,a){const l=o[pt]||null;if(!l&&!0===a)throw new Error(`Type ${B(o)} does not have '\u0275mod' property.`);return l}function mi(o){return Array.isArray(o)&&"object"==typeof o[1]}function pn(o){return Array.isArray(o)&&!0===o[1]}function Jr(o){return 0!=(8&o.flags)}function Ul(o){return 2==(2&o.flags)}function la(o){return 1==(1&o.flags)}function yi(o){return null!==o.template}function Zd(o){return 0!=(512&o[2])}function bs(o,a){return o.hasOwnProperty(on)?o[on]:null}class jl{constructor(a,l,d){this.previousValue=a,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Or(){return Hl}function Hl(o){return o.type.prototype.ngOnChanges&&(o.setInput=gp),Vw}function Vw(){const o=Gl(this),a=null==o?void 0:o.current;if(a){const l=o.previous;if(l===Y)o.previous=a;else for(let d in a)l[d]=a[d];o.current=null,this.ngOnChanges(a)}}function gp(o,a,l,d){const h=Gl(o)||function(o,a){return o[$l]=a}(o,{previous:Y,current:null}),g=h.current||(h.current={}),v=h.previous,w=this.declaredInputs[l],D=v[w];g[w]=new jl(D&&D.currentValue,a,v===Y),o[d]=a}Or.ngInherit=!0;const $l="__ngSimpleChanges__";function Gl(o){return o[$l]||null}const Zl="http://www.w3.org/2000/svg";let vo;function da(o){vo=o}function zt(o){return!!o.listen}const Kl={createRenderer:(o,a)=>void 0!==vo?vo:"undefined"!=typeof document?document:void 0};function Kt(o){for(;Array.isArray(o);)o=o[0];return o}function Yl(o,a){return Kt(a[o])}function kr(o,a){return Kt(a[o.index])}function Is(o,a){return o.data[a]}function ir(o,a){const l=a[o];return mi(l)?l:l[0]}function pu(o){return 4==(4&o[2])}function Jd(o){return 128==(128&o[2])}function Ts(o,a){return null==a?null:o[a]}function Jl(o){o[18]=0}function Xd(o,a){o[5]+=a;let l=o,d=o[3];for(;null!==d&&(1===a&&1===l[5]||-1===a&&0===l[5]);)d[5]+=a,l=d,d=d[3]}const Qe={lFrame:By(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function eh(){return Qe.bindingsEnabled}function we(){return Qe.lFrame.lView}function gt(){return Qe.lFrame.tView}function wn(){let o=ec();for(;null!==o&&64===o.type;)o=o.parent;return o}function ec(){return Qe.lFrame.currentTNode}function Xr(o,a){const l=Qe.lFrame;l.currentTNode=o,l.isParent=a}function th(){return Qe.lFrame.isParent}function ha(){return Qe.isInCheckNoChangesMode}function Ss(o){Qe.isInCheckNoChangesMode=o}function xs(){return Qe.lFrame.bindingIndex++}function yu(o,a){const l=Qe.lFrame;l.bindingIndex=l.bindingRootIndex=o,Ns(a)}function Ns(o){Qe.lFrame.currentDirectiveIndex=o}function Ip(){return Qe.lFrame.currentQueryIndex}function Dp(o){Qe.lFrame.currentQueryIndex=o}function Ly(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function Vy(o,a,l){if(l&Ie.SkipSelf){let h=a,g=o;for(;!(h=h.parent,null!==h||l&Ie.Host||(h=Ly(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;a=h,o=g}const d=Qe.lFrame=Uy();return d.currentTNode=a,d.lView=o,!0}function _u(o){const a=Uy(),l=o[1];Qe.lFrame=a,a.currentTNode=l.firstChild,a.lView=o,a.tView=l,a.contextLView=o,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function Uy(){const o=Qe.lFrame,a=null===o?null:o.child;return null===a?By(o):a}function By(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Tp(){const o=Qe.lFrame;return Qe.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Bw=Tp;function Ap(){const o=Tp();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Un(){return Qe.lFrame.selectedIndex}function Er(o){Qe.lFrame.selectedIndex=o}function Yt(){const o=Qe.lFrame;return Is(o.tView,o.selectedIndex)}function nc(){Qe.lFrame.currentNamespace=Zl}function rc(){Qe.lFrame.currentNamespace=null}function ic(o,a){for(let l=a.directiveStart,d=a.directiveEnd;l<d;l++){const g=o.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:A,ngOnDestroy:S}=g;v&&(o.contentHooks||(o.contentHooks=[])).push(-l,v),w&&((o.contentHooks||(o.contentHooks=[])).push(l,w),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(l,w)),D&&(o.viewHooks||(o.viewHooks=[])).push(-l,D),A&&((o.viewHooks||(o.viewHooks=[])).push(l,A),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(l,A)),null!=S&&(o.destroyHooks||(o.destroyHooks=[])).push(l,S)}}function Co(o,a,l){xp(o,a,3,l)}function sc(o,a,l,d){(3&o[2])===l&&xp(o,a,l,d)}function Sp(o,a){let l=o[2];(3&l)===a&&(l&=2047,l+=1,o[2]=l)}function xp(o,a,l,d){const g=null!=d?d:-1,v=a.length-1;let w=0;for(let D=void 0!==d?65535&o[18]:0;D<v;D++)if("number"==typeof a[D+1]){if(w=a[D],null!=d&&w>=d)break}else a[D]<0&&(o[18]+=65536),(w<g||-1==g)&&($y(o,l,a,D),o[18]=(4294901760&o[18])+D+2),D++}function $y(o,a,l,d){const h=l[d]<0,g=l[d+1],w=o[h?-l[d]:l[d]];if(h){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class Rs{constructor(a,l,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function Ps(o,a,l){const d=zt(o);let h=0;for(;h<l.length;){const g=l[h];if("number"==typeof g){if(0!==g)break;h++;const v=l[h++],w=l[h++],D=l[h++];d?o.setAttribute(a,w,D,v):a.setAttributeNS(v,w,D)}else{const v=g,w=l[++h];ac(v)?d&&o.setProperty(a,v,w):d?o.setAttribute(a,v,w):a.setAttribute(v,w),h++}}return h}function oh(o){return 3===o||4===o||6===o}function ac(o){return 64===o.charCodeAt(0)}function ah(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let l=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?l=h:0===l||Gy(o,l,h,null,-1===l||2===l?a[++d]:null)}}return o}function Gy(o,a,l,d,h){let g=0,v=o.length;if(-1===a)v=-1;else for(;g<o.length;){const w=o[g++];if("number"==typeof w){if(w===a){v=-1;break}if(w>a){v=g-1;break}}}for(;g<o.length;){const w=o[g];if("number"==typeof w)break;if(w===l){if(null===d)return void(null!==h&&(o[g+1]=h));if(d===o[g+1])return void(o[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==v&&(o.splice(v,0,a),g=v+1),o.splice(g++,0,l),null!==d&&o.splice(g++,0,d),null!==h&&o.splice(g++,0,h)}function uh(o){return-1!==o}function Eu(o){return 32767&o}function fa(o,a){let l=function(o){return o>>16}(o),d=a;for(;l>0;)d=d[15],l--;return d}let pa=!0;function ga(o){const a=pa;return pa=o,a}let Qt=0;function wr(o,a){const l=Fr(o,a);if(-1!==l)return l;const d=a[1];d.firstCreatePass&&(o.injectorIndex=a.length,wu(d.data,o),wu(a,null),wu(d.blueprint,null));const h=Cu(o,a),g=o.injectorIndex;if(uh(h)){const v=Eu(h),w=fa(h,a),D=w[1].data;for(let A=0;A<8;A++)a[g+A]=w[v+A]|D[v+A]}return a[g+8]=h,g}function wu(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Fr(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Cu(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,d=null,h=a;for(;null!==h;){const g=h[1],v=g.type;if(d=2===v?g.declTNode:1===v?h[6]:null,null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function bu(o,a,l){!function(o,a,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(xn)&&(d=l[xn]),null==d&&(d=l[xn]=Qt++);const h=255&d;a.data[o+(h>>5)]|=1<<h}(o,a,l)}function Rp(o,a,l){if(l&Ie.Optional)return o;ne(a,"NodeInjector")}function Mp(o,a,l,d){if(l&Ie.Optional&&void 0===d&&(d=null),0==(l&(Ie.Self|Ie.Host))){const h=o[9],g=Zt(void 0);try{return h?h.get(a,d,l&Ie.Optional):Ft(a,d,l&Ie.Optional)}finally{Zt(g)}}return Rp(d,a,l)}function Op(o,a,l,d=Ie.Default,h){if(null!==o){const g=function(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(xn)?o[xn]:void 0;return"number"==typeof a?a>=0?255&a:qy:a}(l);if("function"==typeof g){if(!Vy(a,o,d))return d&Ie.Host?Rp(h,l,d):Mp(a,l,d,h);try{const v=g(d);if(null!=v||d&Ie.Optional)return v;ne(l)}finally{Bw()}}else if("number"==typeof g){let v=null,w=Fr(o,a),D=-1,A=d&Ie.Host?a[16][6]:null;for((-1===w||d&Ie.SkipSelf)&&(D=-1===w?Cu(o,a):a[w+8],-1!==D&&Wy(d,!1)?(v=a[1],w=Eu(D),a=fa(D,a)):w=-1);-1!==w;){const S=a[1];if(Du(g,w,S.data)){const R=Pp(w,a,l,v,d,A);if(R!==Cr)return R}D=a[w+8],-1!==D&&Wy(d,a[1].data[w+8]===A)&&Du(g,w,a)?(v=S,w=Eu(D),a=fa(D,a)):w=-1}}}return Mp(a,l,d,h)}const Cr={};function qy(){return new Yi(wn(),we())}function Pp(o,a,l,d,h,g){const v=a[1],w=v.data[o+8],S=ma(w,v,l,null==d?Ul(w)&&pa:d!=v&&0!=(3&w.type),h&Ie.Host&&g===w);return null!==S?Iu(a,v,S,w):Cr}function ma(o,a,l,d,h){const g=o.providerIndexes,v=a.data,w=1048575&g,D=o.directiveStart,S=g>>20,P=h?w+S:o.directiveEnd;for(let U=d?w:w+S;U<P;U++){const s=v[U];if(U<D&&l===s||U>=D&&s.type===l)return U}if(h){const U=v[D];if(U&&yi(U)&&U.type===l)return D}return null}function Iu(o,a,l,d){let h=o[l];const g=a.data;if(function(o){return o instanceof Rs}(h)){const v=h;v.resolving&&function(o,a){throw new Te("200",`Circular dependency in DI detected for ${o}`)}(le(g[l]));const w=ga(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?Zt(v.injectImpl):null;Vy(o,d,Ie.Default);try{h=o[l]=v.factory(void 0,g,o,d),a.firstCreatePass&&l>=d.directiveStart&&function(o,a,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=a.type.prototype;if(d){const v=Hl(a);(l.preOrderHooks||(l.preOrderHooks=[])).push(o,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-o,h),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(o,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,g))}(l,g[l],a)}finally{null!==D&&Zt(D),ga(w),v.resolving=!1,Bw()}}return h}function Du(o,a,l){return!!(l[a+(o>>5)]&1<<o)}function Wy(o,a){return!(o&Ie.Self||o&Ie.Host&&a)}class Yi{constructor(a,l){this._tNode=a,this._lView=l}get(a,l){return Op(this._tNode,this._lView,a,void 0,l)}}function Tu(o){return Be(()=>{const a=o.prototype.constructor,l=a[on]||Au(a),d=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==d;){const g=h[on]||Au(h);if(g&&g!==l)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Au(o){return Ae(o)?()=>{const a=Au(X(o));return a&&a()}:bs(o)}function Su(o){return function(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const l=o.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const g=l[h];if(oh(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(g===a)return l[h+1];h+=2}}}return null}(wn(),o)}const Io="__parameters__";function an(o,a,l){return Be(()=>{const d=function(o){return function(...l){if(o){const d=o(...l);for(const h in d)this[h]=d[h]}}}(a);function h(...g){if(this instanceof h)return d.apply(this,g),this;const v=new h(...g);return w.annotation=v,w;function w(D,A,S){const R=D.hasOwnProperty(Io)?D[Io]:Object.defineProperty(D,Io,{value:[]})[Io];for(;R.length<=S;)R.push(null);return(R[S]=R[S]||[]).push(v),D}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class un{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Jt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const dh=new un("AnalyzeForEntryComponents"),Ru=Function;function ni(o,a){void 0===a&&(a=o);for(let l=0;l<o.length;l++){let d=o[l];Array.isArray(d)?(a===o&&(a=o.slice(0,l)),ni(d,a)):a!==o&&a.push(d)}return a}function ri(o,a){o.forEach(l=>Array.isArray(l)?ri(l,a):a(l))}function Mu(o,a,l){a>=o.length?o.push(l):o.splice(a,0,l)}function Ji(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function or(o,a,l){let d=Fs(o,a);return d>=0?o[1|d]=l:(d=~d,function(o,a,l,d){let h=o.length;if(h==a)o.push(l,d);else if(1===h)o.push(d,o[0]),o[0]=l;else{for(h--,o.push(o[h-1],o[h]);h>a;)o[h]=o[h-2],h--;o[a]=l,o[a+1]=d}}(o,d,a,l)),d}function mh(o,a){const l=Fs(o,a);if(l>=0)return o[1|l]}function Fs(o,a){return function(o,a,l){let d=0,h=o.length>>l;for(;h!==d;){const g=d+(h-d>>1),v=o[g<<l];if(a===v)return g<<l;v>a?h=g:d=g+1}return~(h<<l)}(o,a,1)}const Ls={},Ea="__NG_DI_FLAG__",Vs="ngTempTokenPath",vh=/\n/gm,at="__source",es=j({provide:String,useValue:j});let wa;function ts(o){const a=wa;return wa=o,a}function Eh(o,a=Ie.Default){if(void 0===wa)throw new Error("inject() must be called from an injection context");return null===wa?Ft(o,void 0,a):wa.get(o,a&Ie.Optional?null:void 0,a)}function Cn(o,a=Ie.Default){return(Nt||Eh)(X(o),a)}function Si(o){const a=[];for(let l=0;l<o.length;l++){const d=X(o[l]);if(Array.isArray(d)){if(0===d.length)throw new Error("Arguments array must have arguments.");let h,g=Ie.Default;for(let v=0;v<d.length;v++){const w=d[v],D=$p(w);"number"==typeof D?-1===D?h=w.token:g|=D:h=w}a.push(Cn(h,g))}else a.push(Cn(d))}return a}function Ca(o,a){return o[Ea]=a,o.prototype[Ea]=a,o}function $p(o){return o[Ea]}function Gp(o,a,l,d){const h=o[Vs];throw a[at]&&h.unshift(a[at]),o.message=function(o,a,l,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let h=B(a);if(Array.isArray(a))h=a.map(B).join(" -> ");else if("object"==typeof a){let g=[];for(let v in a)if(a.hasOwnProperty(v)){let w=a[v];g.push(v+":"+("string"==typeof w?JSON.stringify(w):B(w)))}h=`{${g.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${o.replace(vh,"\n  ")}`}("\n"+o.message,h,l,d),o.ngTokenPath=h,o[Vs]=null,o}const ba=Ca(an("Inject",o=>({token:o})),-1),rs=Ca(an("Optional"),8),is=Ca(an("SkipSelf"),4);let So;function xo(o){var a;return(null===(a=function(){if(void 0===So&&(So=null,V.trustedTypes))try{So=V.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return So}())||void 0===a?void 0:a.createHTML(o))||o}class Aa{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class No extends Aa{getTypeName(){return"HTML"}}class s_ extends Aa{getTypeName(){return"Style"}}class o_ extends Aa{getTypeName(){return"Script"}}class Th extends Aa{getTypeName(){return"URL"}}class zp extends Aa{getTypeName(){return"ResourceURL"}}function Vr(o){return o instanceof Aa?o.changingThisBreaksApplicationSecurity:o}function Us(o,a){const l=xi(o);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===a}function xi(o){return o instanceof Aa&&o.getTypeName()||null}function Ro(o){return new No(o)}function Kp(o){return new s_(o)}function Yp(o){return new o_(o)}function Ah(o){return new Th(o)}function Sa(o){return new zp(o)}class a_{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const l=(new window.DOMParser).parseFromString(xo(a),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(a):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class gc{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(a){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=xo(a),l;const d=this.inertDocument.createElement("body");return d.innerHTML=xo(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const l=a.attributes;for(let h=l.length-1;0<h;h--){const v=l.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&a.removeAttribute(v)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const mc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Nh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Mo(o){return(o=String(o)).match(mc)||o.match(Nh)?o:"unsafe:"+o}function ar(o){const a={};for(const l of o.split(","))a[l]=!0;return a}function xa(...o){const a={};for(const l of o)for(const d in l)l.hasOwnProperty(d)&&(a[d]=!0);return a}const Jp=ar("area,br,col,hr,img,wbr"),Hu=ar("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xp=ar("rp,rt"),vc=xa(Jp,xa(Hu,ar("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xa(Xp,ar("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xa(Xp,Hu)),Ec=ar("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Oh=ar("srcset"),tg=xa(Ec,Oh,ar("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ar("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ng=ar("script,style,template");class rg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let l=a.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(a){const l=a.nodeName.toLowerCase();if(!vc.hasOwnProperty(l))return this.sanitizedSomething=!0,!ng.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=a.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),v=g.name,w=v.toLowerCase();if(!tg.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let D=g.value;Ec[w]&&(D=Mo(D)),Oh[w]&&(o=D,D=(o=String(o)).split(",").map(a=>Mo(a.trim())).join(", ")),this.buf.push(" ",v,'="',Cc(D),'"')}var o;return this.buf.push(">"),!0}endElement(a){const l=a.nodeName.toLowerCase();vc.hasOwnProperty(l)&&!Jp.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(a){this.buf.push(Cc(a))}checkClobberedElement(a,l){if(l&&(a.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return l}}const wc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u_=/([^\#-~ |!])/g;function Cc(o){return o.replace(/&/g,"&amp;").replace(wc,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(u_,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $u;function Gu(o,a){let l=null;try{$u=$u||function(o){const a=new gc(o);return function(){try{return!!(new window.DOMParser).parseFromString(xo(""),"text/html")}catch(o){return!1}}()?new a_(a):a}(o);let d=a?String(a):"";l=$u.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=l.innerHTML,l=$u.getInertBodyElement(d)}while(d!==g);return xo((new rg).sanitizeChildren(Na(l)||l))}finally{if(l){const d=Na(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Na(o){return"content"in o&&function(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var ln=(()=>((ln=ln||{})[ln.NONE=0]="NONE",ln[ln.HTML=1]="HTML",ln[ln.STYLE=2]="STYLE",ln[ln.SCRIPT=3]="SCRIPT",ln[ln.URL=4]="URL",ln[ln.RESOURCE_URL=5]="RESOURCE_URL",ln))();function os(o){const a=function(){const o=we();return o&&o[12]}();return a?a.sanitize(ln.URL,o)||"":Us(o,"URL")?Vr(o):Mo(Me(o))}const Fh="__ngContext__";function At(o,a){o[Fh]=a}function Ra(o){const a=function(o){return o[Fh]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function O(o){return o.ngOriginalError}function ge(o,...a){o.error(...a)}class xe{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a),d=this._findContext(a),h=(o=a)&&o.ngErrorLogger||ge;var o;h(this._console,"ERROR",a),l&&h(this._console,"ORIGINAL ERROR",l),d&&h(this._console,"ERROR CONTEXT",d)}_findContext(a){return a?a.ngDebugContext||this._findContext(O(a)):null}_findOriginalError(a){let l=a&&O(a);for(;l&&O(l);)l=O(l);return l||null}}const Vh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(V))();function Oi(o){return o instanceof Function?o():o}var $s=(()=>(($s=$s||{})[$s.Important=1]="Important",$s[$s.DashCase=2]="DashCase",$s))();function g_(o,a){return undefined(o,a)}function fg(o){const a=o[3];return pn(a)?a[3]:a}function pg(o){return Ww(o[13])}function gg(o){return Ww(o[4])}function Ww(o){for(;null!==o&&!pn(o);)o=o[4];return o}function xc(o,a,l,d,h){if(null!=d){let g,v=!1;pn(d)?g=d:mi(d)&&(v=!0,d=d[0]);const w=Kt(d);0===o&&null!==l?null==h?Bh(a,l,w):Zu(a,l,w,h||null,!0):1===o&&null!==l?Zu(a,l,w,h||null,!0):2===o?function(o,a,l){const d=Oo(o,a);d&&function(o,a,l,d){zt(o)?o.removeChild(a,l,d):a.removeChild(l)}(o,d,a,l)}(a,w,v):3===o&&a.destroyNode(w),null!=g&&function(o,a,l,d,h){const g=l[7];g!==Kt(l)&&xc(a,o,d,g,h);for(let w=10;w<l.length;w++){const D=l[w];$h(D[1],D,o,a,d,g)}}(a,o,g,l,h)}}function w_(o,a,l){return zt(o)?o.createElement(a,l):null===l?o.createElement(a):o.createElementNS(l,a)}function Yw(o,a){const l=o[9],d=l.indexOf(a),h=a[3];1024&a[2]&&(a[2]&=-1025,Xd(h,-1)),l.splice(d,1)}function b_(o,a){if(o.length<=10)return;const l=10+a,d=o[l];if(d){const h=d[17];null!==h&&h!==o&&Yw(h,d),a>0&&(o[l-1][4]=d[4]);const g=Ji(o,10+a);!function(o,a){$h(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function Qw(o,a){if(!(256&a[2])){const l=a[11];zt(l)&&l.destroyNode&&$h(o,a,l,3,null,null),function(o){let a=o[13];if(!a)return I_(o[1],o);for(;a;){let l=null;if(mi(a))l=a[13];else{const d=a[10];d&&(l=d)}if(!l){for(;a&&!a[4]&&a!==o;)mi(a)&&I_(a[1],a),a=a[3];null===a&&(a=o),mi(a)&&I_(a[1],a),l=a&&a[4]}a=l}}(a)}}function I_(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function(o,a){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let d=0;d<l.length;d+=2){const h=a[l[d]];if(!(h instanceof Rs)){const g=l[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const w=h[g[v]],D=g[v+1];try{D.call(w)}finally{}}else try{g.call(h)}finally{}}}}(o,a),function(o,a){const l=o.cleanup,d=a[7];let h=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const v=l[g+1],w="function"==typeof v?v(a):Kt(a[v]),D=d[h=l[g+2]],A=l[g+3];"boolean"==typeof A?w.removeEventListener(l[g],D,A):A>=0?d[h=A]():d[h=-A].unsubscribe(),g+=2}else{const v=d[h=l[g+1]];l[g].call(v)}if(null!==d){for(let g=h+1;g<d.length;g++)d[g]();a[7]=null}}(o,a),1===a[1].type&&zt(a[11])&&a[11].destroy();const l=a[17];if(null!==l&&pn(a[3])){l!==a[3]&&Yw(l,a);const d=a[19];null!==d&&d.detachView(o)}}}function Xw(o,a,l){return function(o,a,l){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return l[0];if(2&d.flags){const h=o.data[d.directiveStart].encapsulation;if(h===Ut.None||h===Ut.Emulated)return null}return kr(d,l)}(o,a.parent,l)}function Zu(o,a,l,d,h){zt(o)?o.insertBefore(a,l,d,h):a.insertBefore(l,d,h)}function Bh(o,a,l){zt(o)?o.appendChild(a,l):a.appendChild(l)}function mg(o,a,l,d,h){null!==d?Zu(o,a,l,d,h):Bh(o,a,l)}function Oo(o,a){return zt(o)?o.parentNode(a):a.parentNode}let tC=function(o,a,l){return 40&o.type?kr(o,l):null};function jh(o,a,l,d){const h=Xw(o,d,a),g=a[11],w=function(o,a,l){return tC(o,a,l)}(d.parent||a[6],d,a);if(null!=h)if(Array.isArray(l))for(let D=0;D<l.length;D++)mg(g,h,l[D],w,!1);else mg(g,h,l,w,!1)}function Hh(o,a){if(null!==a){const l=a.type;if(3&l)return kr(a,o);if(4&l)return rC(-1,o[a.index]);if(8&l){const d=a.child;if(null!==d)return Hh(o,d);{const h=o[a.index];return pn(h)?rC(-1,h):Kt(h)}}if(32&l)return g_(a,o)()||Kt(o[a.index]);{const d=vg(o,a);return null!==d?Array.isArray(d)?d[0]:Hh(fg(o[16]),d):Hh(o,a.next)}}return null}function vg(o,a){return null!==a?o[16][6].projection[a.projection]:null}function rC(o,a){const l=10+o+1;if(l<a.length){const d=a[l],h=d[1].firstChild;if(null!==h)return Hh(d,h)}return a[7]}function Eg(o,a,l,d,h,g,v){for(;null!=l;){const w=d[l.index],D=l.type;if(v&&0===a&&(w&&At(Kt(w),d),l.flags|=4),64!=(64&l.flags))if(8&D)Eg(o,a,l.child,d,h,g,!1),xc(a,o,h,w,g);else if(32&D){const A=g_(l,d);let S;for(;S=A();)xc(a,o,h,S,g);xc(a,o,h,w,g)}else 16&D?iC(o,a,d,l,h,g):xc(a,o,h,w,g);l=v?l.projectionNext:l.next}}function $h(o,a,l,d,h,g){Eg(l,d,o.firstChild,a,h,g,!1)}function iC(o,a,l,d,h,g){const v=l[16],D=v[6].projection[d.projection];if(Array.isArray(D))for(let A=0;A<D.length;A++)xc(a,o,h,D[A],g);else Eg(o,a,D,v[3],h,g,!0)}function oC(o,a,l){zt(o)?o.setAttribute(a,"style",l):a.style.cssText=l}function T_(o,a,l){zt(o)?""===l?o.removeAttribute(a,"class"):o.setAttribute(a,"class",l):a.className=l}function A_(o,a,l){let d=o.length;for(;;){const h=o.indexOf(a,l);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const g=a.length;if(h+g===d||o.charCodeAt(h+g)<=32)return h}l=h+1}}const aC="ng-template";function yT(o,a,l){let d=0;for(;d<o.length;){let h=o[d++];if(l&&"class"===h){if(h=o[d],-1!==A_(h.toLowerCase(),a,0))return!0}else if(1===h){for(;d<o.length&&"string"==typeof(h=o[d++]);)if(h.toLowerCase()===a)return!0;return!1}}return!1}function wg(o){return 4===o.type&&o.value!==aC}function _T(o,a,l){return a===(4!==o.type||l?o.value:aC)}function vT(o,a,l){let d=4;const h=o.attrs||[],g=function(o){for(let a=0;a<o.length;a++)if(oh(o[a]))return a;return o.length}(h);let v=!1;for(let w=0;w<a.length;w++){const D=a[w];if("number"!=typeof D){if(!v)if(4&d){if(d=2|1&d,""!==D&&!_T(o,D,l)||""===D&&1===a.length){if(Pi(d))return!1;v=!0}}else{const A=8&d?D:a[++w];if(8&d&&null!==o.attrs){if(!yT(o.attrs,A,l)){if(Pi(d))return!1;v=!0}continue}const R=ET(8&d?"class":D,h,wg(o),l);if(-1===R){if(Pi(d))return!1;v=!0;continue}if(""!==A){let P;P=R>g?"":h[R+1].toLowerCase();const U=8&d?P:null;if(U&&-1!==A_(U,A,0)||2&d&&A!==P){if(Pi(d))return!1;v=!0}}}}else{if(!v&&!Pi(d)&&!Pi(D))return!1;if(v&&Pi(D))continue;v=!1,d=D|1&d}}return Pi(d)||v}function Pi(o){return 0==(1&o)}function ET(o,a,l,d){if(null===a)return-1;let h=0;if(d||!l){let g=!1;for(;h<a.length;){const v=a[h];if(v===o)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let w=a[++h];for(;"string"==typeof w;)w=a[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function(o,a){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const d=o[l];if("number"==typeof d)return-1;if(d===a)return l;l++}return-1}(a,o)}function wT(o,a,l=!1){for(let d=0;d<a.length;d++)if(vT(o,a[d],l))return!0;return!1}function lC(o,a){return o?":not("+a.trim()+")":a}function Gh(o){let a=o[0],l=1,d=2,h="",g=!1;for(;l<o.length;){let v=o[l];if("string"==typeof v)if(2&d){const w=o[++l];h+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!Pi(v)&&(a+=lC(g,h),h=""),d=v,g=g||!Pi(d);l++}return""!==h&&(a+=lC(g,h)),a}const st={};function cC(o){S_(gt(),we(),Un()+o,ha())}function S_(o,a,l,d){if(!d)if(3==(3&a[2])){const g=o.preOrderCheckHooks;null!==g&&Co(a,g,l)}else{const g=o.preOrderHooks;null!==g&&sc(a,g,0,l)}Er(l)}function Cg(o,a){return o<<17|a<<2}function ki(o){return o>>17&32767}function us(o){return 2|o}function Gs(o){return(131068&o)>>2}function x_(o,a){return-131069&o|a<<2}function Ig(o){return 1|o}function Sg(o,a){const l=o.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const h=l[d],g=l[d+1];if(-1!==g){const v=o.data[g];Dp(h),v.contentQueries(2,a[g],g)}}}function Mc(o,a,l,d,h,g,v,w,D,A){const S=a.blueprint.slice();return S[0]=h,S[2]=140|d,Jl(S),S[3]=S[15]=o,S[8]=l,S[10]=v||o&&o[10],S[11]=w||o&&o[11],S[12]=D||o&&o[12]||null,S[9]=A||o&&o[9]||null,S[6]=g,S[16]=2==a.type?o[16]:S,S}function Yu(o,a,l,d,h){let g=o.data[a];if(null===g)g=function(o,a,l,d,h){const g=ec(),v=th(),D=o.data[a]=function(o,a,l,d,h,g){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,l,a,d,h);return null===o.firstChild&&(o.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(o,a,l,d,h),Qe.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=d,g.attrs=h;const v=function(){const o=Qe.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Xr(g,!0),g}function Pa(o,a,l,d){if(0===l)return-1;const h=a.length;for(let g=0;g<l;g++)a.push(d),o.blueprint.push(d),o.data.push(null);return h}function ka(o,a,l){_u(a);try{const d=o.viewQuery;null!==d&&OC(1,d,l);const h=o.template;null!==h&&B_(o,a,h,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Sg(o,a),o.staticViewQueries&&OC(2,o.viewQuery,l);const g=o.components;null!==g&&function(o,a){for(let l=0;l<a.length;l++)W_(o,a[l])}(a,g)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[2]&=-5,Ap()}}function Qu(o,a,l,d){const h=a[2];if(256==(256&h))return;_u(a);const g=ha();try{Jl(a),function(o){Qe.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&B_(o,a,l,2,d);const v=3==(3&h);if(!g)if(v){const A=o.preOrderCheckHooks;null!==A&&Co(a,A,null)}else{const A=o.preOrderHooks;null!==A&&sc(a,A,0,null),Sp(a,0)}if(function(o){for(let a=pg(o);null!==a;a=gg(a)){if(!a[2])continue;const l=a[9];for(let d=0;d<l.length;d++){const h=l[d],g=h[3];0==(1024&h[2])&&Xd(g,1),h[2]|=1024}}}(a),function(o){for(let a=pg(o);null!==a;a=gg(a))for(let l=10;l<a.length;l++){const d=a[l],h=d[1];Jd(d)&&Qu(h,d,h.template,d[8])}}(a),null!==o.contentQueries&&Sg(o,a),!g)if(v){const A=o.contentCheckHooks;null!==A&&Co(a,A)}else{const A=o.contentHooks;null!==A&&sc(a,A,1),Sp(a,1)}!function(o,a){const l=o.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)Er(~h);else{const g=h,v=l[++d],w=l[++d];yu(v,g),w(2,a[g])}}}finally{Er(-1)}}(o,a);const w=o.components;null!==w&&function(o,a){for(let l=0;l<a.length;l++)zh(o,a[l])}(a,w);const D=o.viewQuery;if(null!==D&&OC(2,D,d),!g)if(v){const A=o.viewCheckHooks;null!==A&&Co(a,A)}else{const A=o.viewHooks;null!==A&&sc(a,A,2),Sp(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),g||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,Xd(a[3],-1))}finally{Ap()}}function EC(o,a,l,d){const h=a[10],g=!ha(),v=pu(a);try{g&&!v&&h.begin&&h.begin(),v&&ka(o,a,d),Qu(o,a,l,d)}finally{g&&!v&&h.end&&h.end()}}function B_(o,a,l,d,h){const g=Un(),v=2&d;try{Er(-1),v&&a.length>20&&S_(o,a,20,ha()),l(d,h)}finally{Er(g)}}function OT(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=j_(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function j_(o,a,l,d,h,g,v,w,D,A){const S=20+d,R=S+h,P=function(o,a){const l=[];for(let d=0;d<a;d++)l.push(d<o?null:st);return l}(S,R),U="function"==typeof A?A():A;return P[1]={type:o,blueprint:P,template:l,queries:null,viewQuery:w,declTNode:a,data:P.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:U,incompleteFirstPass:!1}}function IC(o,a,l,d){const h=Y_(a);null===l?h.push(d):(h.push(l),o.firstCreatePass&&UT(o).push(d,h.length-1))}function DC(o,a,l){for(let d in o)if(o.hasOwnProperty(d)){const h=o[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(a,h):l[d]=[a,h]}return l}function Fi(o,a,l,d,h,g,v,w){const D=kr(a,l);let S,A=a.inputs;!w&&null!=A&&(S=A[d])?(HT(o,l,S,d,h),Ul(a)&&function(o,a){const l=ir(a,o);16&l[2]||(l[2]|=64)}(l,a.index)):3&a.type&&(d=function(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),h=null!=v?v(h,a.value||"",d):h,zt(g)?g.setProperty(D,d,h):ac(d)||(D.setProperty?D.setProperty(d,h):D[d]=h))}function TC(o,a,l,d,h,g){const v=g.hostBindings;if(v){let w=o.hostBindingOpCodes;null===w&&(w=o.hostBindingOpCodes=[]);const D=~a.index;(function(o){let a=o.length;for(;a>0;){const l=o[--a];if("number"==typeof l&&l<0)return l}return 0})(w)!=D&&w.push(D),w.push(d,h,v)}}function AC(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function xC(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function kT(o,a,l){if(l){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)l[a.exportAs[d]]=o;yi(a)&&(l[""]=o)}}function FT(o,a,l){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+l,o.providerIndexes=a}function RC(o,a,l,d,h){o.data[d]=h;const g=h.factory||(h.factory=bs(h.type)),v=new Rs(g,yi(h),null);o.blueprint[d]=v,l[d]=v,TC(o,a,0,d,Pa(o,l,h.hostVars,st),h)}function G_(o,a,l){const d=kr(a,o),h=OT(l),g=o[10],v=Fc(o,Mc(o,h,null,l.onPush?64:16,d,a,g,g.createRenderer(d,l),null,null));o[a.index]=v}function zs(o,a,l,d,h,g){const v=kr(o,a);!function(o,a,l,d,h,g,v){if(null==g)zt(o)?o.removeAttribute(a,h,l):a.removeAttribute(h);else{const w=null==v?Me(g):v(g,d||"",h);zt(o)?o.setAttribute(a,h,w,l):l?a.setAttributeNS(l,h,w):a.setAttribute(h,w)}}(a[11],v,g,o.value,l,d,h)}function q_(o,a,l,d,h,g){const v=g[a];if(null!==v){const w=d.setInput;for(let D=0;D<v.length;){const A=v[D++],S=v[D++],R=v[D++];null!==w?d.setInput(l,R,A,S):l[S]=R}}}function kg(o,a){let l=null,d=0;for(;d<a.length;){const h=a[d];if(0!==h)if(5!==h){if("number"==typeof h)break;o.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,o[h],a[d+1])),d+=2}else d+=2;else d+=4}return l}function zh(o,a){const l=ir(a,o);if(Jd(l)){const d=l[1];80&l[2]?Qu(d,l,d.template,l[8]):l[5]>0&&Z_(l)}}function Z_(o){for(let d=pg(o);null!==d;d=gg(d))for(let h=10;h<d.length;h++){const g=d[h];if(1024&g[2]){const v=g[1];Qu(v,g,v.template,g[8])}else g[5]>0&&Z_(g)}const l=o[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=ir(l[d],o);Jd(h)&&h[5]>0&&Z_(h)}}function W_(o,a){const l=ir(a,o),d=l[1];(function(o,a){for(let l=a.length;l<o.blueprint.length;l++)a.push(o.blueprint[l])})(d,l),ka(d,l,l[8])}function Fc(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function Lg(o){for(;o;){o[2]|=64;const a=fg(o);if(Zd(o)&&!a)return o;o=a}return null}function Lc(o,a,l){const d=a[10];d.begin&&d.begin();try{Qu(o,a,o.template,l)}catch(h){throw jT(a,h),h}finally{d.end&&d.end()}}function Vg(o){!function(o){for(let a=0;a<o.components.length;a++){const l=o.components[a],d=Ra(l),h=d[1];EC(h,d,h.template,l)}}(o[8])}function OC(o,a,l){Dp(0),a(o,l)}const K_=(()=>Promise.resolve(null))();function Y_(o){return o[7]||(o[7]=[])}function UT(o){return o.cleanup||(o.cleanup=[])}function jT(o,a){const l=o[9],d=l?l.get(xe,null):null;d&&d.handleError(a)}function HT(o,a,l,d,h){for(let g=0;g<l.length;){const v=l[g++],w=l[g++],D=a[v],A=o.data[v];null!==A.setInput?A.setInput(D,h,d,w):D[w]=h}}function Fo(o,a,l){const d=Yl(a,o);!function(o,a,l){zt(o)?o.setValue(a,l):a.textContent=l}(o[11],d,l)}function Yh(o,a,l){let d=l?o.styles:null,h=l?o.classes:null,g=0;if(null!==a)for(let v=0;v<a.length;v++){const w=a[v];"number"==typeof w?g=w:1==g?h=q(h,w):2==g&&(d=q(d,w+": "+a[++v]+";"))}l?o.styles=d:o.stylesWithoutHost=d,l?o.classes=h:o.classesWithoutHost=h}const Fa=new un("INJECTOR",-1);class PC{get(a,l=Ls){if(l===Ls){const d=new Error(`NullInjectorError: No provider for ${B(a)}!`);throw d.name="NullInjectorError",d}return l}}const Qh=new un("Set Injector scope."),Vc={},qT={};let kC;function Q_(){return void 0===kC&&(kC=new PC),kC}function J_(o,a=null,l=null,d){return new WT(o,l,a||Q_(),d)}class WT{constructor(a,l,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];l&&ri(l,w=>this.processProvider(w,a,l)),ri([a],w=>this.processInjectorType(w,[],g)),this.records.set(Fa,Uc(void 0,this));const v=this.records.get(Qh);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof a?null:B(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,l=Ls,d=Ie.Default){this.assertNotDestroyed();const h=ts(this),g=Zt(void 0);try{if(!(d&Ie.SkipSelf)){let w=this.records.get(a);if(void 0===w){const D=("function"==typeof(o=a)||"object"==typeof o&&o instanceof un)&&Gn(a);w=D&&this.injectableDefInScope(D)?Uc(Bg(a),Vc):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(d&Ie.Self?Q_():this.parent).get(a,l=d&Ie.Optional&&l===Ls?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[Vs]=v[Vs]||[]).unshift(B(a)),h)throw v;return Gp(v,a,"R3InjectorError",this.source)}throw v}finally{Zt(g),ts(h)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((d,h)=>a.push(B(h))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(a,l,d){if(!(a=X(a)))return!1;let h=qi(a);const g=null==h&&a.ngModule||void 0,v=void 0===g?a:g,w=-1!==d.indexOf(v);if(void 0!==g&&(h=qi(g)),null==h)return!1;if(null!=h.imports&&!w){let S;d.push(v);try{ri(h.imports,R=>{this.processInjectorType(R,l,d)&&(void 0===S&&(S=[]),S.push(R))})}finally{}if(void 0!==S)for(let R=0;R<S.length;R++){const{ngModule:P,providers:U}=S[R];ri(U,s=>this.processProvider(s,P,U||ve))}}this.injectorDefTypes.add(v);const D=bs(v)||(()=>new v);this.records.set(v,Uc(D,Vc));const A=h.providers;if(null!=A&&!w){const S=a;ri(A,R=>this.processProvider(R,S,A))}return void 0!==g&&void 0!==a.providers}processProvider(a,l,d){let h=Bc(a=X(a))?a:X(a&&a.provide);const g=jg(o=a)?Uc(void 0,o.useValue):Uc(ev(o),Vc);var o;if(Bc(a)||!0!==a.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=Uc(void 0,Vc,!0),v.factory=()=>Si(v.multi),this.records.set(h,v)),h=a,v.multi.push(a)}this.records.set(h,g)}hydrate(a,l){return l.value===Vc&&(l.value=qT,l.value=l.factory()),"object"==typeof l.value&&l.value&&null!==(o=l.value)&&"object"==typeof o&&"function"==typeof o.ngOnDestroy&&this.onDestroy.add(l.value),l.value;var o}injectableDefInScope(a){if(!a.providedIn)return!1;const l=X(a.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function Bg(o){const a=Gn(o),l=null!==a?a.factory:bs(o);if(null!==l)return l;if(o instanceof un)throw new Error(`Token ${B(o)} is missing a \u0275prov definition.`);if(o instanceof Function)return function(o){const a=o.length;if(a>0){const d=function(o,a){const l=[];for(let d=0;d<o;d++)l.push(a);return l}(a,"?");throw new Error(`Can't resolve all parameters for ${B(o)}: (${d.join(", ")}).`)}const l=function(o){const a=o&&(o[Sn]||o[zr]);if(a){const l=function(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),a}return null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new Error("unreachable")}function ev(o,a,l){let d;if(Bc(o)){const h=X(o);return bs(h)||Bg(h)}if(jg(o))d=()=>X(o.useValue);else if(function(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...Si(o.deps||[]));else if(function(o){return!(!o||!o.useExisting)}(o))d=()=>Cn(X(o.useExisting));else{const h=X(o&&(o.useClass||o.provide));if(!function(o){return!!o.deps}(o))return bs(h)||Bg(h);d=()=>new h(...Si(o.deps))}return d}function Uc(o,a,l=!1){return{factory:o,value:a,multi:l?[]:void 0}}function jg(o){return null!==o&&"object"==typeof o&&es in o}function Bc(o){return"function"==typeof o}const UC=function(o,a,l){return function(o,a=null,l=null,d){const h=J_(o,a,l,d);return h._resolveInjectorDefTypes(),h}({name:l},a,o,l)};class Ot{static create(a,l){return Array.isArray(a)?UC(a,l,""):UC(a.providers,a.parent,a.name||"")}}function rA(o,a){ic(Ra(o)[1],wn())}function me(o){let a=function(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const d=[o];for(;a;){let h;if(yi(o))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Error("Directives cannot inherit Components");h=a.\u0275dir}if(h){if(l){d.push(h);const v=o;v.inputs=Hg(o.inputs),v.declaredInputs=Hg(o.declaredInputs),v.outputs=Hg(o.outputs);const w=h.hostBindings;w&&hv(o,w);const D=h.viewQuery,A=h.contentQueries;if(D&&Ju(o,D),A&&Pt(o,A),$(o.inputs,h.inputs),$(o.declaredInputs,h.declaredInputs),$(o.outputs,h.outputs),yi(h)&&h.data.animation){const S=o.data;S.animation=(S.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const w=g[v];w&&w.ngInherit&&w(o),w===me&&(l=!1)}}a=Object.getPrototypeOf(a)}!function(o){let a=0,l=null;for(let d=o.length-1;d>=0;d--){const h=o[d];h.hostVars=a+=h.hostVars,h.hostAttrs=ah(h.hostAttrs,l=ah(l,h.hostAttrs))}}(d)}function Hg(o){return o===Y?{}:o===ve?[]:o}function Ju(o,a){const l=o.viewQuery;o.viewQuery=l?(d,h)=>{a(d,h),l(d,h)}:a}function Pt(o,a){const l=o.contentQueries;o.contentQueries=l?(d,h,g)=>{a(d,h,g),l(d,h,g)}:a}function hv(o,a){const l=o.hostBindings;o.hostBindings=l?(d,h)=>{a(d,h),l(d,h)}:a}Ot.THROW_IF_NOT_FOUND=Ls,Ot.NULL=new PC,Ot.\u0275prov=Jt({token:Ot,providedIn:"any",factory:()=>Cn(Fa)}),Ot.__NG_ELEMENT_ID__=-1;let Ve=null;function La(){if(!Ve){const o=V.Symbol;if(o&&o.iterator)Ve=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<a.length;++l){const d=a[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Ve=d)}}}return Ve}function Xu(o){return!!ef(o)&&(Array.isArray(o)||!(o instanceof Map)&&La()in o)}function ef(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Dr(o,a,l){return!Object.is(o[a],l)&&(o[a]=l,!0)}function Qs(o,a,l,d){const h=we();return Dr(h,xs(),a)&&(gt(),zs(Yt(),h,o,a,l,d)),Qs}function Wc(o,a=Ie.Default){const l=we();return null===l?Cn(o,a):Op(wn(),l,X(o),a)}function zc(o,a,l){const d=we();return Dr(d,xs(),a)&&Fi(gt(),Yt(),d,o,a,d[11],l,!1),zc}function sf(o,a,l,d,h){const v=h?"class":"style";HT(o,l,a.inputs[v],v,d)}function em(o,a,l,d){const h=we(),g=gt(),v=20+o,w=h[11],D=h[v]=w_(w,a,Qe.lFrame.currentNamespace),A=g.firstCreatePass?function(o,a,l,d,h,g,v){const w=a.consts,A=Yu(a,o,2,h,Ts(w,g));return function(o,a,l,d){let h=!1;if(eh()){const g=function(o,a,l){const d=o.directiveRegistry;let h=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];wT(l,v.selectors,!1)&&(h||(h=[]),bu(wr(l,a),o,v.type),yi(v)?(xC(o,l),h.unshift(v)):h.push(v))}return h}(o,a,l),v=null===d?null:{"":-1};if(null!==g){h=!0,FT(l,o.data.length,g.length);for(let S=0;S<g.length;S++){const R=g[S];R.providersResolver&&R.providersResolver(R)}let w=!1,D=!1,A=Pa(o,a,g.length,null);for(let S=0;S<g.length;S++){const R=g[S];l.mergedAttrs=ah(l.mergedAttrs,R.hostAttrs),RC(o,l,a,A,R),kT(A,R,v),null!==R.contentQueries&&(l.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(l.flags|=128);const P=R.type.prototype;!w&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(l.index),w=!0),!D&&(P.ngOnChanges||P.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(l.index),D=!0),A++}!function(o,a){const d=a.directiveEnd,h=o.data,g=a.attrs,v=[];let w=null,D=null;for(let A=a.directiveStart;A<d;A++){const S=h[A],R=S.inputs,P=null===g||wg(a)?null:kg(R,g);v.push(P),w=DC(R,A,w),D=DC(S.outputs,A,D)}null!==w&&(w.hasOwnProperty("class")&&(a.flags|=16),w.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=v,a.inputs=w,a.outputs=D}(o,l)}v&&function(o,a,l){if(a){const d=o.localNames=[];for(let h=0;h<a.length;h+=2){const g=l[a[h+1]];if(null==g)throw new Te("301",`Export of name '${a[h+1]}' not found!`);d.push(a[h],g)}}}(l,d,v)}l.mergedAttrs=ah(l.mergedAttrs,l.attrs)}(a,l,A,Ts(w,v)),null!==A.attrs&&Yh(A,A.attrs,!1),null!==A.mergedAttrs&&Yh(A,A.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,A),A}(v,g,h,0,a,l,d):g.data[v];Xr(A,!0);const S=A.mergedAttrs;null!==S&&Ps(w,D,S);const R=A.classes;null!==R&&T_(w,D,R);const P=A.styles;null!==P&&oC(w,D,P),64!=(64&A.flags)&&jh(g,h,D,A),0===Qe.lFrame.elementDepthCount&&At(D,h),Qe.lFrame.elementDepthCount++,la(A)&&(function(o,a,l){!eh()||(function(o,a,l,d){const h=l.directiveStart,g=l.directiveEnd;o.firstCreatePass||wr(l,a),At(d,a);const v=l.initialInputs;for(let w=h;w<g;w++){const D=o.data[w],A=yi(D);A&&G_(a,l,D);const S=Iu(a,o,w,l);At(S,a),null!==v&&q_(0,w-h,S,D,0,v),A&&(ir(l.index,a)[8]=S)}}(o,a,l,kr(l,a)),128==(128&l.flags)&&function(o,a,l){const d=l.directiveStart,h=l.directiveEnd,v=l.index,w=Qe.lFrame.currentDirectiveIndex;try{Er(v);for(let D=d;D<h;D++){const A=o.data[D],S=a[D];Ns(D),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&AC(A,S)}}finally{Er(-1),Ns(w)}}(o,a,l))}(g,h,A),function(o,a,l){if(Jr(a)){const h=a.directiveEnd;for(let g=a.directiveStart;g<h;g++){const v=o.data[g];v.contentQueries&&v.contentQueries(1,l[g],g)}}}(g,A,h)),null!==d&&function(o,a,l=kr){const d=a.localNames;if(null!==d){let h=a.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],w=-1===v?l(a,o):o[v];o[h++]=w}}}(h,A)}function Lv(){let o=wn();th()?Qe.lFrame.isParent=!1:(o=o.parent,Xr(o,!1));const a=o;Qe.lFrame.elementDepthCount--;const l=gt();l.firstCreatePass&&(ic(l,o),Jr(o)&&l.queries.elementEnd(o)),null!=a.classesWithoutHost&&function(o){return 0!=(16&o.flags)}(a)&&sf(l,a,we(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function(o){return 0!=(32&o.flags)}(a)&&sf(l,a,we(),a.stylesWithoutHost,!1)}function Kc(o,a,l,d){em(o,a,l,d),Lv()}function Ua(o){return!!o&&"function"==typeof o.then}function fb(o){return!!o&&"function"==typeof o.subscribe}const Uv=fb;function Vo(o,a,l,d){const h=we(),g=gt(),v=wn();return function(o,a,l,d,h,g,v,w){const D=la(d),S=o.firstCreatePass&&UT(o),R=a[8],P=Y_(a);let U=!0;if(3&d.type||w){const i=kr(d,a),u=w?w(i):i,c=P.length,f=w?_=>w(Kt(_[d.index])):d.index;if(zt(l)){let _=null;if(!w&&D&&(_=function(o,a,l,d){const h=o.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===l&&h[g+1]===d){const w=a[7],D=h[g+2];return w.length>D?w[D]:null}"string"==typeof v&&(g+=2)}return null}(o,a,h,d.index)),null!==_)(_.__ngLastListenerFn__||_).__ngNextListenerFn__=g,_.__ngLastListenerFn__=g,U=!1;else{g=nm(d,a,R,g,!1);const b=l.listen(u,h,g);P.push(g,b),S&&S.push(h,f,c,c+1)}}else g=nm(d,a,R,g,!0),u.addEventListener(h,g,v),P.push(g),S&&S.push(h,f,c,v)}else g=nm(d,a,R,g,!1);const s=d.outputs;let r;if(U&&null!==s&&(r=s[h])){const i=r.length;if(i)for(let u=0;u<i;u+=2){const T=a[r[u]][r[u+1]].subscribe(g),N=P.length;P.push(g,T),S&&S.push(h,d.index,N,-(N+1))}}}(g,h,h[11],v,o,a,!!l,d),Vo}function Yc(o,a,l,d){try{return!1!==l(d)}catch(h){return jT(o,h),!1}}function nm(o,a,l,d,h){return function g(v){if(v===Function)return d;const w=2&o.flags?ir(o.index,a):a;0==(32&a[2])&&Lg(w);let D=Yc(a,0,d,v),A=g.__ngNextListenerFn__;for(;A;)D=Yc(a,0,A,v)&&D,A=A.__ngNextListenerFn__;return h&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function cf(o,a,l,d,h){const g=o[l+1],v=null===a;let w=d?ki(g):Gs(g),D=!1;for(;0!==w&&(!1===D||v);){const S=o[w+1];Zv(o[w],a)&&(D=!0,o[w+1]=d?Ig(S):us(S)),w=d?ki(S):Gs(S)}D&&(o[l+1]=d?us(g):Ig(g))}function Zv(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Fs(o,a)>=0}function Yv(o,a){return function(o,a,l,d){const h=we(),g=gt(),v=function(o){const a=Qe.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,l}(2);g.firstUpdatePass&&function(o,a,l,d){const h=o.data;if(null===h[l+1]){const g=h[Un()],v=function(o,a){return a>=o.expandoStartIndex}(o,l);(function(o,a){return 0!=(o.flags&(a?16:32))})(g,d)&&null===a&&!v&&(a=!1),a=function(o,a,l,d){const h=function(o){const a=Qe.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let g=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(l=rd(l=Qv(null,o,a,l,d),a.attrs,d),g=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==h)if(l=Qv(h,o,a,l,d),null===g){let D=function(o,a,l){const d=l?a.classBindings:a.styleBindings;if(0!==Gs(d))return o[ki(d)]}(o,a,d);void 0!==D&&Array.isArray(D)&&(D=Qv(null,o,a,D[1],d),D=rd(D,a.attrs,d),function(o,a,l,d){o[ki(l?a.classBindings:a.styleBindings)]=d}(o,a,d,D))}else g=function(o,a,l){let d;const h=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<h;g++)d=rd(d,o[g].hostAttrs,l);return rd(d,a.attrs,l)}(o,a,d)}return void 0!==g&&(d?a.residualClasses=g:a.residualStyles=g),l}(h,g,a,d),function(o,a,l,d,h,g){let v=g?a.classBindings:a.styleBindings,w=ki(v),D=Gs(v);o[d]=l;let S,A=!1;if(Array.isArray(l)){const R=l;S=R[1],(null===S||Fs(R,S)>0)&&(A=!0)}else S=l;if(h)if(0!==D){const P=ki(o[w+1]);o[d+1]=Cg(P,w),0!==P&&(o[P+1]=x_(o[P+1],d)),o[w+1]=function(o,a){return 131071&o|a<<17}(o[w+1],d)}else o[d+1]=Cg(w,0),0!==w&&(o[w+1]=x_(o[w+1],d)),w=d;else o[d+1]=Cg(D,0),0===w?w=d:o[D+1]=x_(o[D+1],d),D=d;A&&(o[d+1]=us(o[d+1])),cf(o,S,d,!0),cf(o,S,d,!1),function(o,a,l,d,h){const g=h?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof a&&Fs(g,a)>=0&&(l[d+1]=Ig(l[d+1]))}(a,S,o,d,g),v=Cg(w,D),g?a.classBindings=v:a.styleBindings=v}(h,g,a,l,v,d)}}(g,o,v,d),a!==st&&Dr(h,v,a)&&function(o,a,l,d,h,g,v,w){if(!(3&a.type))return;const D=o.data,A=D[w+1];cs(function(o){return 1==(1&o)}(A)?id(D,a,l,h,Gs(A),v):void 0)||(cs(g)||function(o){return 2==(2&o)}(A)&&(g=id(D,null,l,h,w,v)),function(o,a,l,d,h){const g=zt(o);if(a)h?g?o.addClass(l,d):l.classList.add(d):g?o.removeClass(l,d):l.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:$s.DashCase;if(null==h)g?o.removeStyle(l,d,v):l.style.removeProperty(d);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),v|=$s.Important),g?o.setStyle(l,d,h,v):l.style.setProperty(d,h,w?"important":"")}}}(d,v,Yl(Un(),l),h,g))}(g,g.data[Un()],h,h[11],o,h[v+1]=function(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=B(Vr(o)))),o}(a,l),d,v)}(o,a,null,!0),Yv}function Qv(o,a,l,d,h){let g=null;const v=l.directiveEnd;let w=l.directiveStylingLast;for(-1===w?w=l.directiveStart:w++;w<v&&(g=a[w],d=rd(d,g.hostAttrs,h),g!==o);)w++;return null!==o&&(l.directiveStylingLast=w),d}function rd(o,a,l){const d=l?1:2;let h=-1;if(null!==a)for(let g=0;g<a.length;g++){const v=a[g];"number"==typeof v?h=v:h===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),or(o,v,!!l||a[++g]))}return void 0===o?null:o}function id(o,a,l,d,h,g){const v=null===a;let w;for(;h>0;){const D=o[h],A=Array.isArray(D),S=A?D[1]:D,R=null===S;let P=l[h+1];P===st&&(P=R?ve:void 0);let U=R?mh(P,d):S===d?P:void 0;if(A&&!cs(U)&&(U=mh(D,d)),cs(U)&&(w=U,v))return w;const s=o[h+1];h=v?ki(s):Gs(s)}if(null!==a){let D=g?a.residualClasses:a.residualStyles;null!=D&&(w=mh(D,d))}return w}function cs(o){return void 0!==o}function Xv(o,a=""){const l=we(),d=gt(),h=o+20,g=d.firstCreatePass?Yu(d,h,1,a,null):d.data[h],v=l[h]=function(o,a){return zt(o)?o.createText(a):o.createTextNode(a)}(l[11],a);jh(d,l,v,g),Xr(g,!1)}function Ba(o){return eE("",o,""),Ba}function eE(o,a,l){const d=we(),h=function(o,a,l,d){return Dr(o,xs(),l)?a+Me(l)+d:st}(d,o,a,l);return h!==st&&Fo(d,Un(),h),eE}function vf(o,a,l){const d=we();return Dr(d,xs(),a)&&Fi(gt(),Yt(),d,o,a,d[11],l,!0),vf}const ja=void 0;var pm=["en",[["a","p"],["AM","PM"],ja],[["AM","PM"],ja,ja],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ja,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ja,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ja,"{1} 'at' {0}",ja],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(o){const a=Math.floor(Math.abs(o)),l=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let sl={};function od(o){const a=function(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=ad(a);if(l)return l;const d=a.split("-")[0];if(l=ad(d),l)return l;if("en"===d)return pm;throw new Error(`Missing locale data for the locale "${o}".`)}function fE(o){return od(o)[Ke.PluralCase]}function ad(o){return o in sl||(sl[o]=V.ng&&V.ng.common&&V.ng.common.locales&&V.ng.common.locales[o]),sl[o]}var Ke=(()=>((Ke=Ke||{})[Ke.LocaleId=0]="LocaleId",Ke[Ke.DayPeriodsFormat=1]="DayPeriodsFormat",Ke[Ke.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ke[Ke.DaysFormat=3]="DaysFormat",Ke[Ke.DaysStandalone=4]="DaysStandalone",Ke[Ke.MonthsFormat=5]="MonthsFormat",Ke[Ke.MonthsStandalone=6]="MonthsStandalone",Ke[Ke.Eras=7]="Eras",Ke[Ke.FirstDayOfWeek=8]="FirstDayOfWeek",Ke[Ke.WeekendRange=9]="WeekendRange",Ke[Ke.DateFormat=10]="DateFormat",Ke[Ke.TimeFormat=11]="TimeFormat",Ke[Ke.DateTimeFormat=12]="DateTimeFormat",Ke[Ke.NumberSymbols=13]="NumberSymbols",Ke[Ke.NumberFormats=14]="NumberFormats",Ke[Ke.CurrencyCode=15]="CurrencyCode",Ke[Ke.CurrencySymbol=16]="CurrencySymbol",Ke[Ke.CurrencyName=17]="CurrencyName",Ke[Ke.Currencies=18]="Currencies",Ke[Ke.Directionality=19]="Directionality",Ke[Ke.PluralCase=20]="PluralCase",Ke[Ke.ExtraData=21]="ExtraData",Ke))();const ol="en-US";let mE=ol;function gm(o){ft(o,"Expected localeId to be defined"),"string"==typeof o&&(mE=o.toLowerCase().replace(/_/g,"-"))}function zn(o,a,l,d,h){if(o=X(o),Array.isArray(o))for(let g=0;g<o.length;g++)zn(o[g],a,l,d,h);else{const g=gt(),v=we();let w=Bc(o)?o:X(o.provide),D=ev(o);const A=wn(),S=1048575&A.providerIndexes,R=A.directiveStart,P=A.providerIndexes>>20;if(Bc(o)||!o.multi){const U=new Rs(D,h,Wc),s=AE(w,a,h?S:S+P,R);-1===s?(bu(wr(A,v),g,w),Cm(g,o,a.length),a.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),l.push(U),v.push(U)):(l[s]=U,v[s]=U)}else{const U=AE(w,a,S+P,R),s=AE(w,a,S,S+P),r=U>=0&&l[U],i=s>=0&&l[s];if(h&&!i||!h&&!r){bu(wr(A,v),g,w);const u=function(o,a,l,d,h){const g=new Rs(o,l,Wc);return g.multi=[],g.index=a,g.componentProviders=0,nn(g,h,d&&!l),g}(h?Df:qb,l.length,h,d,D);!h&&i&&(l[s].providerFactory=u),Cm(g,o,a.length,0),a.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),l.push(u),v.push(u)}else Cm(g,o,U>-1?U:s,nn(l[h?s:U],D,!h&&d));!h&&d&&i&&l[s].componentProviders++}}}function Cm(o,a,l,d){const h=Bc(a);if(h||function(o){return!!o.useClass}(a)){const v=(a.useClass||a).prototype.ngOnDestroy;if(v){const w=o.destroyHooks||(o.destroyHooks=[]);if(!h&&a.multi){const D=w.indexOf(l);-1===D?w.push(l,[d,v]):w[D+1].push(d,v)}else w.push(l,v)}}}function nn(o,a,l){return l&&o.componentProviders++,o.multi.push(a)-1}function AE(o,a,l,d){for(let h=l;h<d;h++)if(a[h]===o)return h;return-1}function qb(o,a,l,d){return SE(this.multi,[])}function Df(o,a,l,d){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=Iu(l,l[1],this.providerFactory.index,d);g=w.slice(0,v),SE(h,g);for(let D=v;D<w.length;D++)g.push(w[D])}else g=[],SE(h,g);return g}function SE(o,a){for(let l=0;l<o.length;l++)a.push((0,o[l])());return a}function Tf(o,a=[]){return l=>{l.providersResolver=(d,h)=>function(o,a,l){const d=gt();if(d.firstCreatePass){const h=yi(o);zn(l,d.data,d.blueprint,h,!0),zn(a,d.data,d.blueprint,h,!1)}}(d,h?h(o):o,a)}}class Zb{}const zb="ngComponent";class Kb{resolveComponentFactory(a){throw function(o){const a=Error(`No component factory found for ${B(o)}. Did you add it to @NgModule.entryComponents?`);return a[zb]=o,a}(a)}}class hl{}function Im(...o){}function jo(o,a){return new ds(kr(o,a))}hl.NULL=new Kb;const Yb=function(){return jo(wn(),we())};let ds=(()=>{class o{constructor(l){this.nativeElement=l}}return o.__NG_ELEMENT_ID__=Yb,o})();function no(o){return o instanceof ds?o.nativeElement:o}class Ho{}let Dm=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>NE(),o})();const NE=function(){const o=we(),l=ir(wn().index,o);return function(o){return o[11]}(mi(l)?l:o)};let li=(()=>{class o{}return o.\u0275prov=Jt({token:o,providedIn:"root",factory:()=>null}),o})();class ME{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const fl=new ME("12.2.4");class OE{constructor(){}supports(a){return Xu(a)}create(a){return new Jb(a)}}const PE=(o,a)=>a;class Jb{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||PE}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,d=this._removalsHead,h=0,g=null;for(;l||d;){const v=!d||l&&l.currentIndex<FE(d,h,g)?l:d,w=FE(v,h,g),D=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{g||(g=[]);const A=w-h,S=D-h;if(A!=S){for(let P=0;P<A;P++){const U=P<g.length?g[P]:g[P]=0,s=U+P;S<=s&&s<A&&(g[P]=U+1)}g[v.previousIndex]=S-A}}w!==D&&a(v,w,D)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!Xu(a))throw new Error(`Error trying to diff '${B(a)}'. Only arrays and iterables are allowed`);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,g,v,l=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)g=a[w],v=this._trackByFn(w,g),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,g,v,w)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,v,w),d=!0),l=l._next}else h=0,function(o,a){if(Array.isArray(o))for(let l=0;l<o.length;l++)a(o[l]);else{const l=o[La()]();let d;for(;!(d=l.next()).done;)a(d.value)}}(a,w=>{v=this._trackByFn(h,w),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,w,v,h)),Object.is(l.item,w)||this._addIdentityChange(l,w)):(l=this._mismatch(l,w,v,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,d,h){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,g,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,g,h)):a=this._addAfter(new KA(l,d),g,h),a}_verifyReinsertion(a,l,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?a=this._reinsertAfter(g,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,g=a._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(a,l,d),this._addToMoves(a,d),a}_moveAfter(a,l,d){return this._unlink(a),this._insertAfter(a,l,d),this._addToMoves(a,d),a}_addAfter(a,l,d){return this._insertAfter(a,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,d){const h=null===l?this._itHead:l._next;return a._next=h,a._prev=l,null===h?this._itTail=a:h._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new kE),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,d=a._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kE),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class KA{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Xb{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const l=a._prevDup,d=a._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class kE{constructor(){this.map=new Map}put(a){const l=a.trackById;let d=this.map.get(l);d||(d=new Xb,this.map.set(l,d)),d.add(a)}get(a,l){const h=this.map.get(a);return h?h.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function FE(o,a,l){const d=o.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+a+h}class Sf{constructor(){}supports(a){return a instanceof Map||ef(a)}create(){return new YA}}class YA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||ef(a)))throw new Error(`Error trying to diff '${B(a)}'. Only maps and objects are allowed`)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const d=a._prev;return l._next=a,l._prev=d,a._prev=l,d&&(d._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,l);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const d=new QA(a);return this._records.set(a,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(d=>l(a[d],d))}}class QA{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function LE(){return new $o([new OE])}let $o=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||LE()),deps:[[o,new is,new rs]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new Error(`Cannot find a differ supporting object '${l}' of type '${function(o){return o.name||typeof o}(l)}'`)}}return o.\u0275prov=Jt({token:o,providedIn:"root",factory:LE}),o})();function VE(){return new ro([new Sf])}let ro=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||VE()),deps:[[o,new is,new rs]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(d)return d;throw new Error(`Cannot find a differ supporting object '${l}'`)}}return o.\u0275prov=Jt({token:o,providedIn:"root",factory:VE}),o})();function xf(o,a,l,d,h=!1){for(;null!==l;){const g=a[l.index];if(null!==g&&d.push(Kt(g)),pn(g))for(let w=10;w<g.length;w++){const D=g[w],A=D[1].firstChild;null!==A&&xf(D[1],D,A,d)}const v=l.type;if(8&v)xf(o,a,l.child,d);else if(32&v){const w=g_(l,a);let D;for(;D=w();)d.push(D)}else if(16&v){const w=vg(a,l);if(Array.isArray(w))d.push(...w);else{const D=fg(a[16]);xf(D[1],D,w,d,!0)}}l=h?l.projectionNext:l.next}return d}class io{constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,l=a[1];return xf(l,a,l.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(pn(a)){const l=a[8],d=l?l.indexOf(this):-1;d>-1&&(b_(a,d),Ji(l,d))}this._attachedToViewContainer=!1}Qw(this._lView[1],this._lView)}onDestroy(a){IC(this._lView[1],this._lView,null,a)}markForCheck(){Lg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Lc(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(o,a,l){Ss(!0);try{Lc(o,a,l)}finally{Ss(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var a;this._appRef=null,$h(this._lView[1],a=this._lView,a[11],2,null,null)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=a}}class eI extends io{constructor(a){super(a),this._view=a}detectChanges(){Vg(this._view)}checkNoChanges(){!function(o){Ss(!0);try{Vg(o)}finally{Ss(!1)}}(this._view)}get context(){return null}}const JA=function(o){return function(o,a,l){if(Ul(o)&&!l){const d=ir(o.index,a);return new io(d,d)}return 47&o.type?new io(a[16],a):null}(wn(),we(),16==(16&o))};let XA=(()=>{class o{}return o.__NG_ELEMENT_ID__=JA,o})();const Nm=[new Sf],UE=new $o([new OE]),tS=new ro(Nm),Nf=function(){return $a(wn(),we())};let Hi=(()=>{class o{}return o.__NG_ELEMENT_ID__=Nf,o})();const rI=Hi,iI=class extends rI{constructor(a,l,d){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(a){const l=this._declarationTContainer.tViews,d=Mc(this._declarationLView,l,a,16,null,l.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(d[19]=g.createEmbeddedView(l)),ka(l,d,a),new io(d)}};function $a(o,a){return 4&o.type?new iI(a,o,jo(o,a)):null}class Go{}class oI{}const aI=function(){return uI(wn(),we())};let Rf=(()=>{class o{}return o.__NG_ELEMENT_ID__=aI,o})();const Rm=Rf,Kn=class extends Rm{constructor(a,l,d){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=d}get element(){return jo(this._hostTNode,this._hostLView)}get injector(){return new Yi(this._hostTNode,this._hostLView)}get parentInjector(){const a=Cu(this._hostTNode,this._hostLView);if(uh(a)){const l=fa(a,this._hostLView),d=Eu(a);return new Yi(l[1].data[d+8],l)}return new Yi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=yn(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,l,d){const h=a.createEmbeddedView(l||{});return this.insert(h,d),h}createComponent(a,l,d,h,g){const v=d||this.parentInjector;if(!g&&null==a.ngModule&&v){const D=v.get(Go,null);D&&(g=D)}const w=a.create(v,h,void 0,g);return this.insert(w.hostView,l),w}insert(a,l){const d=a._lView,h=d[1];if(pn(d[3])){const S=this.indexOf(a);if(-1!==S)this.detach(S);else{const R=d[3],P=new Kn(R,R[6],R[3]);P.detach(P.indexOf(a))}}const g=this._adjustIndex(l),v=this._lContainer;!function(o,a,l,d){const h=10+d,g=l.length;d>0&&(l[h-1][4]=a),d<g-10?(a[4]=l[h],Mu(l,10+d,a)):(l.push(a),a[4]=null),a[3]=l;const v=a[17];null!==v&&l!==v&&function(o,a){const l=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===l?o[9]=[a]:l.push(a)}(v,a);const w=a[19];null!==w&&w.insertView(o),a[2]|=128}(h,d,v,g);const w=rC(g,v),D=d[11],A=Oo(D,v[7]);return null!==A&&function(o,a,l,d,h,g){d[0]=h,d[6]=a,$h(o,d,l,1,h,g)}(h,v[6],D,d,A,w),a.attachToViewContainerRef(),Mu(Mm(v),g,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=yn(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),d=b_(this._lContainer,l);d&&(Ji(Mm(this._lContainer),l),Qw(d[1],d))}detach(a){const l=this._adjustIndex(a,-1),d=b_(this._lContainer,l);return d&&null!=Ji(Mm(this._lContainer),l)?new io(d):null}_adjustIndex(a,l=0){return null==a?this.length+l:a}};function yn(o){return o[8]}function Mm(o){return o[8]||(o[8]=[])}function uI(o,a){let l;const d=a[o.index];if(pn(d))l=d;else{let h;if(8&o.type)h=Kt(d);else{const g=a[11];h=g.createComment("");const v=kr(o,a);Zu(g,Oo(g,v),h,function(o,a){return zt(o)?o.nextSibling(a):a.nextSibling}(g,v),!1)}a[o.index]=l=function(o,a,l,d){return new Array(o,!0,!1,a,null,0,d,l,null,null)}(d,a,h,o),Fc(a,l)}return new Kn(l,o,a)}const Ko={};class AI extends hl{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=Vn(a);return new Bm(l,this.ngModule)}}function Al(o){const a=[];for(let l in o)o.hasOwnProperty(l)&&a.push({propName:o[l],templateName:l});return a}const za=new un("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Vh});class Bm extends Zb{constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=a.selectors.map(Gh).join(","),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return Al(this.componentDef.inputs)}get outputs(){return Al(this.componentDef.outputs)}create(a,l,d,h){const g=(h=h||this.ngModule)?function(o,a){return{get:(l,d,h)=>{const g=o.get(l,Ko,h);return g!==Ko||d===Ko?g:a.get(l,d,h)}}}(a,h.injector):a,v=g.get(Ho,Kl),w=g.get(li,null),D=v.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",S=d?function(o,a,l){if(zt(o))return o.selectRootElement(a,l===Ut.ShadowDom);let d="string"==typeof a?o.querySelector(a):a;return d.textContent="",d}(D,d,this.componentDef.encapsulation):w_(v.createRenderer(null,this.componentDef),A,function(o){const a=o.toLowerCase();return"svg"===a?Zl:"math"===a?"http://www.w3.org/1998/MathML/":null}(A)),R=this.componentDef.onPush?576:528,P=function(o,a){return{components:[],scheduler:o||Vh,clean:K_,playerHandler:a||null,flags:0}}(),U=j_(0,null,null,1,0,null,null,null,null,null),s=Mc(null,U,P,R,null,null,v,D,w,g);let r,i;_u(s);try{const u=function(o,a,l,d,h,g){const v=l[1];l[20]=o;const D=Yu(v,20,2,"#host",null),A=D.mergedAttrs=a.hostAttrs;null!==A&&(Yh(D,A,!0),null!==o&&(Ps(h,o,A),null!==D.classes&&T_(h,o,D.classes),null!==D.styles&&oC(h,o,D.styles)));const S=d.createRenderer(o,a),R=Mc(l,OT(a),null,a.onPush?64:16,l[20],D,d,S,g||null,null);return v.firstCreatePass&&(bu(wr(D,l),v,a.type),xC(v,D),FT(D,l.length,1)),Fc(l,R),l[20]=R}(S,this.componentDef,s,v,D);if(S)if(d)Ps(D,S,["ng-version",fl.full]);else{const{attrs:c,classes:f}=function(o){const a=[],l=[];let d=1,h=2;for(;d<o.length;){let g=o[d];if("string"==typeof g)2===h?""!==g&&a.push(g,o[++d]):8===h&&l.push(g);else{if(!Pi(h))break;h=g}d++}return{attrs:a,classes:l}}(this.componentDef.selectors[0]);c&&Ps(D,S,c),f&&f.length>0&&T_(D,S,f.join(" "))}if(i=Is(U,20),void 0!==l){const c=i.projection=[];for(let f=0;f<this.ngContentSelectors.length;f++){const _=l[f];c.push(null!=_?Array.from(_):null)}}r=function(o,a,l,d,h){const g=l[1],v=function(o,a,l){const d=wn();o.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),RC(o,d,a,Pa(o,a,1,null),l));const h=Iu(a,o,d.directiveStart,d);At(h,a);const g=kr(d,a);return g&&At(g,a),h}(g,l,a);if(d.components.push(v),o[8]=v,h&&h.forEach(D=>D(v,a)),a.contentQueries){const D=wn();a.contentQueries(1,v,D.directiveStart)}const w=wn();return!g.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Er(w.index),TC(l[1],w,0,w.directiveStart,w.directiveEnd,a),AC(a,v)),v}(u,this.componentDef,s,P,[rA]),ka(U,s,null)}finally{Ap()}return new _S(this.componentType,r,jo(i,s),s,i)}}class _S extends class{}{constructor(a,l,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new eI(h),this.componentType=a}get injector(){return new Yi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}const Id=new Map;class MI extends Go{constructor(a,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new AI(this);const d=Tt(a),h=a[hn]||null;h&&gm(h),this._bootstrapComponents=Oi(d.bootstrap),this._r3Injector=J_(a,l,[{provide:Go,useValue:this},{provide:hl,useValue:this.componentFactoryResolver}],B(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,l=Ot.THROW_IF_NOT_FOUND,d=Ie.Default){return a===Ot||a===Go||a===Fa?this:this._r3Injector.get(a,l,d)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class ao extends oI{constructor(a){super(),this.moduleType=a,null!==Tt(a)&&function(o){const a=new Set;!function l(d){const h=Tt(d,!0),g=h.id;null!==g&&(function(o,a,l){if(a&&a!==l)throw new Error(`Duplicate module registered for ${o} - ${B(a)} vs ${B(a.name)}`)}(g,Id.get(g),d),Id.set(g,d));const v=Oi(h.imports);for(const w of v)a.has(w)||(a.add(w),l(w))}(o)}(a)}create(a){return new MI(this.moduleType,a)}}function Gm(o){return a=>{setTimeout(o,void 0,a)}}const uo=class extends m.xQ{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,d){var h,g,v;let w=a,D=l||(()=>null),A=d;if(a&&"object"==typeof a){const R=a;w=null===(h=R.next)||void 0===h?void 0:h.bind(R),D=null===(g=R.error)||void 0===g?void 0:g.bind(R),A=null===(v=R.complete)||void 0===v?void 0:v.bind(R)}this.__isAsync&&(D=Gm(D),w&&(w=Gm(w)),A&&(A=Gm(A)));const S=super.subscribe({next:w,error:D,complete:A});return a instanceof ie.w&&a.add(S),S}};function c0(){return this._results[La()]()}class qm{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=La(),d=qm.prototype;d[l]||(d[l]=c0)}get changes(){return this._changes||(this._changes=new uo)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const d=this;d.dirty=!1;const h=ni(a);(this._changesDetected=!function(o,a,l){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let h=o[d],g=a[d];if(l&&(h=l(h),g=l(g)),g!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class h0{constructor(a){this.queryList=a,this.matches=null}clone(){return new h0(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vf{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const d=null!==a.contentQueries?a.contentQueries[0]:l.length,h=[];for(let g=0;g<d;g++){const v=l.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new Vf(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==_0(a,l).matches&&this.queries[l].setDirty()}}class Hn{constructor(a,l,d=null){this.predicate=a,this.flags=l,this.read=d}}class f0{constructor(a=[]){this.queries=a}elementStart(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,g=this.getByIndex(d).embeddedTView(a,h);g&&(g.indexInDeclarationView=d,null!==l?l.push(g):l=[g])}return null!==l?new f0(l):null}template(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class p0{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new p0(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(a,l,TS(l,g)),this.matchTNodeWithReadOption(a,l,ma(l,a,g,!1,!1))}else d===Hi?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,ma(l,a,d,!1,!1))}matchTNodeWithReadOption(a,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===ds||h===Rf||h===Hi&&4&l.type)this.addMatch(l.index,-2);else{const g=ma(l,a,h,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,d)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function TS(o,a){const l=o.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===a)return l[d+1];return null}function SS(o,a,l,d){return-1===l?function(o,a){return 11&o.type?jo(o,a):4&o.type?$a(o,a):null}(a,o):-2===l?function(o,a,l){return l===ds?jo(a,o):l===Hi?$a(a,o):l===Rf?uI(a,o):void 0}(o,a,d):Iu(o,o[1],l,a)}function Zm(o,a,l,d){const h=a[19].queries[d];if(null===h.matches){const g=o.data,v=l.matches,w=[];for(let D=0;D<v.length;D+=2){const A=v[D];w.push(A<0?null:SS(a,g[A],v[D+1],l.metadata.read))}h.matches=w}return h.matches}function Wm(o,a,l,d){const h=o.queries.getByIndex(l),g=h.matches;if(null!==g){const v=Zm(o,a,h,l);for(let w=0;w<g.length;w+=2){const D=g[w];if(D>0)d.push(v[w/2]);else{const A=g[w+1],S=a[-D];for(let R=10;R<S.length;R++){const P=S[R];P[17]===P[3]&&Wm(P[1],P,A,d)}if(null!==S[9]){const R=S[9];for(let P=0;P<R.length;P++){const U=R[P];Wm(U[1],U,A,d)}}}}}return d}function g0(o){const a=we(),l=gt(),d=Ip();Dp(d+1);const h=_0(l,d);if(o.dirty&&pu(a)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const g=h.crossesNgTemplate?Wm(l,a,d,[]):Zm(l,a,h,d);o.reset(g,no),o.notifyOnChanges()}return!0}return!1}function Uf(o,a,l,d){const h=gt();if(h.firstCreatePass){const g=wn();(function(o,a,l){null===o.queries&&(o.queries=new f0),o.queries.track(new p0(a,l))})(h,new Hn(a,l,d),g.index),function(o,a){const l=o.contentQueries||(o.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,a)}(h,o),2==(2&l)&&(h.staticContentQueries=!0)}!function(o,a,l){const d=new qm(4==(4&l));IC(o,a,d,d.destroy),null===a[19]&&(a[19]=new Vf),a[19].queries.push(new h0(d))}(h,we(),l)}function Ad(){return o=we(),a=Ip(),o[19].queries[a].queryList;var o,a}function _0(o,a){return o.queries.getByIndex(a)}const qf=new un("Application Initializer");let Qa=(()=>{class o{constructor(l){this.appInits=l,this.resolve=Im,this.reject=Im,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Ua(g))l.push(g);else if(Uv(g)){const v=new Promise((w,D)=>{g.subscribe({complete:w,error:D})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return o.\u0275fac=function(l){return new(l||o)(Cn(qf,8))},o.\u0275prov=Jt({token:o,factory:o.\u0275fac}),o})();const nD=new un("AppId"),zS={provide:nD,useFactory:function(){return`${Zf()}${Zf()}${Zf()}`},deps:[]};function Zf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const k0=new un("Platform Initializer"),ay=new un("Platform ID"),F0=new un("appBootstrapListener");let uy=(()=>{class o{log(l){console.log(l)}warn(l){console.warn(l)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=Jt({token:o,factory:o.\u0275fac}),o})();const ly=new un("LocaleId"),cy=new un("DefaultCurrencyCode");class Pd{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}const V0=function(o){return new ao(o)},U0=V0,YS=function(o){return Promise.resolve(V0(o))},uD=function(o){const a=V0(o),d=Oi(Tt(o).declarations).reduce((h,g)=>{const v=Vn(g);return v&&h.push(new Bm(v)),h},[]);return new Pd(a,d)},QS=uD,B0=function(o){return Promise.resolve(uD(o))};let Wf=(()=>{class o{constructor(){this.compileModuleSync=U0,this.compileModuleAsync=YS,this.compileModuleAndAllComponentsSync=QS,this.compileModuleAndAllComponentsAsync=B0}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=Jt({token:o,factory:o.\u0275fac}),o})();const H0=(()=>Promise.resolve(0))();function dy(o){"undefined"==typeof Zone?H0.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class hi{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new uo(!1),this.onMicrotaskEmpty=new uo(!1),this.onStable=new uo(!1),this.onError=new uo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function(){let o=V.requestAnimationFrame,a=V.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function(o){const a=()=>{!function(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(V,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,zf(o),o.isCheckStableRunning=!0,G0(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),zf(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,g,v,w)=>{try{return hy(o),l.invokeTask(h,g,v,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&a(),fy(o)}},onInvoke:(l,d,h,g,v,w,D)=>{try{return hy(o),l.invoke(h,g,v,w,D)}finally{o.shouldCoalesceRunChangeDetection&&a(),fy(o)}},onHasTask:(l,d,h,g)=>{l.hasTask(h,g),d===h&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,zf(o),G0(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,d,h,g)=>(l.handleError(h,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!hi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(hi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,l,d){return this._inner.run(a,l,d)}runTask(a,l,d,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,a,XS,Im,Im);try{return g.runTask(v,l,d)}finally{g.cancelTask(v)}}runGuarded(a,l,d){return this._inner.runGuarded(a,l,d)}runOutsideAngular(a){return this._outer.run(a)}}const XS={};function G0(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function zf(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function hy(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function fy(o){o._nesting--,G0(o)}class tx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new uo,this.onMicrotaskEmpty=new uo,this.onStable=new uo,this.onError=new uo}run(a,l,d){return a.apply(l,d)}runGuarded(a,l,d){return a.apply(l,d)}runOutsideAngular(a){return a()}runTask(a,l,d,h){return a.apply(l,d)}}let Z0=(()=>{class o{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{hi.assertNotInAngularZone(),dy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())dy(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,d,h){return[]}}return o.\u0275fac=function(l){return new(l||o)(Cn(hi))},o.\u0275prov=Jt({token:o,factory:o.\u0275fac}),o})(),W0=(()=>{class o{constructor(){this._applications=new Map,py.addToWindow(this)}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return py.findTestabilityInTree(this,l,d)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=Jt({token:o,factory:o.\u0275fac}),o})();class nx{addToWindow(a){}findTestabilityInTree(a,l,d){return null}}function z0(o){py=o}let py=new nx,Kf=!0,cD=!1;function K0(){return cD=!0,Kf}function rx(){if(cD)throw new Error("Cannot enable prod mode after platform setup.");Kf=!1}let gs;const my=new un("AllowMultipleToken");class yD{constructor(a,l){this.name=a,this.token=l}}function Ol(o,a,l=[]){const d=`Platform: ${a}`,h=new un(d);return(g=[])=>{let v=_D();if(!v||v.injector.get(my,!1))if(o)o(l.concat(g).concat({provide:h,useValue:!0}));else{const w=l.concat(g).concat({provide:h,useValue:!0},{provide:Qh,useValue:"platform"});!function(o){if(gs&&!gs.destroyed&&!gs.injector.get(my,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");gs=o.get(vD);const a=o.get(k0,null);a&&a.forEach(l=>l())}(Ot.create({providers:w,name:d}))}return function(o){const a=_D();if(!a)throw new Error("No platform exists!");if(!a.injector.get(o,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return a}(h)}}function _D(){return gs&&!gs.destroyed?gs:null}let vD=(()=>{class o{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const w=function(o,a){let l;return l="noop"===o?new tx:("zone.js"===o?void 0:o)||new hi({enableLongStackTrace:K0(),shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),l}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),D=[{provide:hi,useValue:w}];return w.run(()=>{const A=Ot.create({providers:D,parent:this.injector,name:l.moduleType.name}),S=l.create(A),R=S.injector.get(xe,null);if(!R)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return w.runOutsideAngular(()=>{const P=w.onError.subscribe({next:U=>{R.handleError(U)}});S.onDestroy(()=>{tw(this._modules,S),P.unsubscribe()})}),function(o,a,l){try{const d=l();return Ua(d)?d.catch(h=>{throw a.runOutsideAngular(()=>o.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(R,w,()=>{const P=S.injector.get(Qa);return P.runInitializers(),P.donePromise.then(()=>(gm(S.injector.get(ly,ol)||ol),this._moduleDoBootstrap(S),S))})})}bootstrapModule(l,d=[]){const h=ew({},d);return function(o,a,l){const d=new ao(l);return Promise.resolve(d)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(l){const d=l.injector.get(Yf);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Error(`The module ${B(l.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(l){return new(l||o)(Cn(Ot))},o.\u0275prov=Jt({token:o,factory:o.\u0275fac}),o})();function ew(o,a){return Array.isArray(a)?a.reduce(ew,o):Object.assign(Object.assign({},o),a)}let Yf=(()=>{class o{constructor(l,d,h,g,v){this._zone=l,this._injector=d,this._exceptionHandler=h,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new H.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),D=new H.y(A=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{hi.assertNotInAngularZone(),dy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{hi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{S.unsubscribe(),R.unsubscribe()}});this.isStable=(0,te.T)(w,D.pipe(o=>(0,he.x)()(function(o,a){return function(d){let h;h="function"==typeof o?o:function(){return o};const g=Object.create(d,pe.N);return g.source=d,g.subjectFactory=h,g}}(z)(o))))}bootstrap(l,d){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let h;h=l instanceof Zb?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(h.componentType);const g=function(o){return o.isBoundToModule}(h)?void 0:this._injector.get(Go),w=h.create(Ot.NULL,[],d||h.selector,g),D=w.location.nativeElement,A=w.injector.get(Z0,null),S=A&&w.injector.get(W0);return A&&S&&S.registerApplication(D,A),w.onDestroy(()=>{this.detachView(w.hostView),tw(this.components,w),S&&S.unregisterApplication(D)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;tw(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(F0,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(l){return new(l||o)(Cn(hi),Cn(Ot),Cn(xe),Cn(hl),Cn(Qa))},o.\u0275prov=Jt({token:o,factory:o.\u0275fac}),o})();function tw(o,a){const l=o.indexOf(a);l>-1&&o.splice(l,1)}class ox{}class yy{}const xt={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ID=(()=>{class o{constructor(l,d){this._compiler=l,this._config=d||xt}load(l){return this.loadAndCompile(l)}loadAndCompile(l){let[d,h]=l.split("#");return void 0===h&&(h="default"),F(8255)(d).then(g=>g[h]).then(g=>iw(g,d,h)).then(g=>this._compiler.compileModuleAsync(g))}loadFactory(l){let[d,h]=l.split("#"),g="NgFactory";return void 0===h&&(h="default",g=""),F(8255)(this._config.factoryPathPrefix+d+this._config.factoryPathSuffix).then(v=>v[h+g]).then(v=>iw(v,d,h))}}return o.\u0275fac=function(l){return new(l||o)(Cn(Wf),Cn(yy,8))},o.\u0275prov=Jt({token:o,factory:o.\u0275fac}),o})();function iw(o,a,l){if(!o)throw new Error(`Cannot find '${l}' in '${a}'`);return o}const hx=function(o){return null},lo=Ol(null,"core",[{provide:ay,useValue:"unknown"},{provide:vD,deps:[Ot]},{provide:W0,deps:[]},{provide:uy,deps:[]}]),ND=[{provide:Yf,useClass:Yf,deps:[hi,Ot,xe,hl,Qa]},{provide:za,deps:[hi],useFactory:function(o){let a=[];return o.onStable.subscribe(()=>{for(;a.length;)a.pop()()}),function(l){a.push(l)}}},{provide:Qa,useClass:Qa,deps:[[new rs,qf]]},{provide:Wf,useClass:Wf,deps:[]},zS,{provide:$o,useFactory:function(){return UE},deps:[]},{provide:ro,useFactory:function(){return tS},deps:[]},{provide:ly,useFactory:function(o){return gm(o=o||"undefined"!=typeof $localize&&$localize.locale||ol),o},deps:[[new ba(ly),new rs,new is]]},{provide:cy,useValue:"USD"}];let _x=(()=>{class o{constructor(l){}}return o.\u0275fac=function(l){return new(l||o)(Cn(Yf))},o.\u0275mod=Zi({type:o}),o.\u0275inj=Gi({providers:ND}),o})()},8939:(He,Ee,F)=>{"use strict";F.d(Ee,{hO:()=>B,xv:()=>z,Dh:()=>he,GT:()=>re,on:()=>L,pX:()=>pe});var m=F(3018),ie=F(7841),H=F(9126);He=F.hmd(He);const te=["ngOnDestroy"],pe=(q,ue,ee,X={})=>new Proxy(q,{get:(Ae,be)=>ee.runOutsideAngular(()=>{var Te;if(q[be])return(null===(Te=null==X?void 0:X.spy)||void 0===Te?void 0:Te.get)&&X.spy.get(be,q[be]),q[be];if(te.indexOf(be)>-1)return()=>{};const Ne=ue.toPromise().then(Pe=>{const Me=Pe&&Pe[be];return"function"==typeof Me?Me.bind(Pe):Me&&Me.then?Me.then(le=>ee.run(()=>le)):ee.run(()=>Me)});return new Proxy(()=>{},{get:(Pe,Me)=>Ne[Me],apply:(Pe,Me,le)=>Ne.then(Ct=>{var nt;const oe=Ct&&Ct(...le);return(null===(nt=null==X?void 0:X.spy)||void 0===nt?void 0:nt.apply)&&X.spy.apply(be,le,oe),oe})})})}),re=(q,ue)=>{ue.forEach(ee=>{Object.getOwnPropertyNames(ee.prototype||ee).forEach(X=>{Object.defineProperty(q.prototype,X,Object.getOwnPropertyDescriptor(ee.prototype||ee,X))})})};class ye{constructor(ue){return ue}}const he=new m.OlP("angularfire2.app.options"),z=new m.OlP("angularfire2.app.name");function L(q,ue,ee){const Ae="object"==typeof ee&&ee||{};Ae.name=Ae.name||"string"==typeof ee&&ee||"[DEFAULT]";const Te=ie.Z.apps.filter(Ne=>Ne&&Ne.name===Ae.name)[0]||ue.runOutsideAngular(()=>ie.Z.initializeApp(q,Ae));try{JSON.stringify(q)!==JSON.stringify(Te.options)&&j("error",`${Te.name} Firebase App already initialized with different options${He.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ne){}return new ye(Te)}const j=(q,...ue)=>{(0,m.X6Q)()&&"undefined"!=typeof console&&console[q](...ue)},$={provide:ye,useFactory:L,deps:[he,m.R0b,[new m.FiY,z]]};let B=(()=>{class q{constructor(ee){ie.Z.registerVersion("angularfire",H.q4.full,"core"),ie.Z.registerVersion("angularfire",H.q4.full,"app-compat"),ie.Z.registerVersion("angular",m.q4F.full,ee.toString())}static initializeApp(ee,X){return{ngModule:q,providers:[{provide:he,useValue:ee},{provide:z,useValue:X}]}}}return q.\u0275fac=function(ee){return new(ee||q)(m.LFG(m.Lbi))},q.\u0275mod=m.oAB({type:q}),q.\u0275inj=m.cJS({providers:[$]}),q})()},9126:(He,Ee,F)=>{"use strict";F.d(Ee,{q4:()=>L,iC:()=>oe,HU:()=>Ne,cc:()=>B});var m=F(3018);(0,F(5452).registerVersion)("firebase","9.0.1","app");var pe=F(7771),re=F(3637),ye=F(3342),he=F(3101),z=F(309);He=F.hmd(He);const L=new m.GfV("7.0.4"),j=!!He.hot,$=(ae,...Q)=>{(0,m.X6Q)()&&"undefined"!=typeof console&&console[ae](...Q)};function B(ae,Q,Se,Ge,mt){const[,qe,lt]=globalThis.\u0275AngularfireInstanceCache.find(Vt=>Vt[0]===ae)||[];if(qe)return function(ae,Q){try{return ae.toString()===Q.toString()}catch(Se){return ae===Q}}(mt,lt)||($("error",`${Q} was already initialized on the ${Se} Firebase App with different settings.${j?" You may need to reload as Firebase is not HMR aware.":""}`),$("warn",{is:mt,was:lt})),qe;{const Vt=Ge();return globalThis.\u0275AngularfireInstanceCache.push([ae,Vt,mt]),Vt}}function Ae(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class be{constructor(Q,Se=pe.N){this.zone=Q,this.delegate=Se}now(){return this.delegate.now()}schedule(Q,Se,Ge){const mt=this.zone;return this.delegate.schedule(function(lt){mt.runGuarded(()=>{Q.apply(this,[lt])})},Se,Ge)}}class Te{constructor(Q){this.zone=Q,this.task=null}call(Q,Se){const Ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ae,{},Ae,Ae)),Se.pipe((0,ye.b)({next:Ge,complete:Ge,error:Ge})).subscribe(Q).add(Ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ne=(()=>{class ae{constructor(Se){this.ngZone=Se,this.outsideAngular=Se.runOutsideAngular(()=>new be(Zone.current)),this.insideAngular=Se.run(()=>new be(Zone.current,re.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return ae.\u0275fac=function(Se){return new(Se||ae)(m.LFG(m.R0b))},ae.\u0275prov=m.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})();function Pe(){const ae=globalThis.\u0275AngularFireScheduler;if(!ae)throw new Error("AngularFireModule has not been provided");return ae}function oe(ae){return Pe(),function(ae){return function(Se){return(Se=Se.lift(new Te(ae.ngZone))).pipe((0,he.R)(ae.outsideAngular),(0,z.QV)(ae.insideAngular))}}(Pe())(ae)}},4486:(He,Ee,F)=>{"use strict";F.d(Ee,{Z:()=>ee});var m=F(4685),ie=F(6034),H=F(5452),te=F(300);class pe{constructor(Ae,be){this._delegate=Ae,this.firebase=be,(0,H._addComponent)(Ae,new ie.wA("app-compat",()=>this,"PUBLIC")),this.container=Ae.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this._delegate.automaticDataCollectionEnabled=Ae}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ae=>{this._delegate.checkDestroyed(),Ae()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(Ae,be=H._DEFAULT_ENTRY_NAME){var Te;this._delegate.checkDestroyed();const Ne=this._delegate.container.getProvider(Ae);return!Ne.isInitialized()&&"EXPLICIT"===(null===(Te=Ne.getComponent())||void 0===Te?void 0:Te.instantiationMode)&&Ne.initialize(),Ne.getImmediate({identifier:be})}_removeServiceInstance(Ae,be=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ae).clearInstance(be)}_addComponent(Ae){(0,H._addComponent)(this._delegate,Ae)}_addOrOverwriteComponent(Ae){(0,H._addOrOverwriteComponent)(this._delegate,Ae)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ye=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function z(){const X=function(X){const Ae={},be={__esModule:!0,initializeApp:function(nt,oe={}){const ne=H.initializeApp(nt,oe);if((0,m.r3)(Ae,ne.name))return Ae[ne.name];const ce=new X(ne,be);return Ae[ne.name]=ce,ce},app:Ne,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function(nt){const oe=nt.name,ne=oe.replace("-compat","");if(H._registerComponent(nt)&&"PUBLIC"===nt.type){const ce=(fe=Ne())=>{if("function"!=typeof fe[ne])throw ye.create("invalid-app-argument",{appName:oe});return fe[ne]()};void 0!==nt.serviceProps&&(0,m.ZB)(ce,nt.serviceProps),be[ne]=ce,X.prototype[ne]=function(...fe){return this._getService.bind(this,oe).apply(this,nt.multipleInstances?fe:[])}}return"PUBLIC"===nt.type?be[ne]:null},removeApp:function(nt){delete Ae[nt]},useAsService:function(nt,oe){return"serverAuth"===oe?null:oe},modularAPIs:H}};function Ne(nt){if(!(0,m.r3)(Ae,nt=nt||H._DEFAULT_ENTRY_NAME))throw ye.create("no-app",{appName:nt});return Ae[nt]}return be.default=be,Object.defineProperty(be,"apps",{get:function(){return Object.keys(Ae).map(nt=>Ae[nt])}}),Ne.App=X,be}(pe);return X.INTERNAL=Object.assign(Object.assign({},X.INTERNAL),{createFirebaseNamespace:z,extendNamespace:function(be){(0,m.ZB)(X,be)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),X}(),j=new te.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const X=self.firebase.SDK_VERSION;X&&X.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ue=L;(0,H.registerVersion)("@firebase/app-compat","0.1.1",undefined);const ee=ue},5452:(He,Ee,F)=>{"use strict";F.r(Ee),F.d(Ee,{FirebaseError:()=>te.ZR,SDK_VERSION:()=>iu,_DEFAULT_ENTRY_NAME:()=>mt,_addComponent:()=>vn,_addOrOverwriteComponent:()=>Di,_apps:()=>lt,_clearComponents:()=>nr,_components:()=>Vt,_getProvider:()=>ft,_registerComponent:()=>jt,_removeServiceInstance:()=>Et,deleteApp:()=>ta,getApp:()=>Gn,getApps:()=>fo,initializeApp:()=>Gi,onLog:()=>Sn,registerVersion:()=>qi,setLogLevel:()=>pi});var m=F(8239),ie=F(6034),H=F(300),te=F(4685);class pe{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(Nt=>{if(function(ct){const Ie=ct.getComponent();return"VERSION"===(null==Ie?void 0:Ie.type)}(Nt)){const Ht=Nt.getImmediate();return`${Ht.library}/${Ht.version}`}return null}).filter(Nt=>Nt).join(" ")}}const ye="@firebase/app",z=new H.Yd("@firebase/app"),mt="[DEFAULT]",qe={[ye]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},lt=new Map,Vt=new Map;function vn(ct,Ie){try{ct.container.addComponent(Ie)}catch(Nt){z.debug(`Component ${Ie.name} failed to register with FirebaseApp ${ct.name}`,Nt)}}function Di(ct,Ie){ct.container.addOrOverwriteComponent(Ie)}function jt(ct){const Ie=ct.name;if(Vt.has(Ie))return z.debug(`There were multiple attempts to register component ${Ie}.`),!1;Vt.set(Ie,ct);for(const Nt of lt.values())vn(Nt,ct);return!0}function ft(ct,Ie){return ct.container.getProvider(Ie)}function Et(ct,Ie,Nt=mt){ft(ct,Ie).clearInstance(Nt)}function nr(){Vt.clear()}const mr=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Jt{constructor(Ie,Nt,Ht){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},Nt),this._name=Nt.name,this._automaticDataCollectionEnabled=Nt.automaticDataCollectionEnabled,this._container=Ht,this.container.addComponent(new ie.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const iu="9.0.0";function Gi(ct,Ie={}){"object"!=typeof Ie&&(Ie={name:Ie});const Nt=Object.assign({name:mt,automaticDataCollectionEnabled:!1},Ie),Ht=Nt.name;if("string"!=typeof Ht||!Ht)throw mr.create("bad-app-name",{appName:String(Ht)});const Zt=lt.get(Ht);if(Zt){if((0,te.vZ)(ct,Zt.options)&&(0,te.vZ)(Nt,Zt.config))return Zt;throw mr.create("duplicate-app",{appName:Ht})}const Ft=new ie.H0(Ht);for(const Be of Vt.values())Ft.addComponent(Be);const Ue=new Jt(ct,Nt,Ft);return lt.set(Ht,Ue),Ue}function Gn(ct=mt){const Ie=lt.get(ct);if(!Ie)throw mr.create("no-app",{appName:ct});return Ie}function fo(){return Array.from(lt.values())}function ta(ct){return po.apply(this,arguments)}function po(){return(po=(0,m.Z)(function*(ct){const Ie=ct.name;lt.has(Ie)&&(lt.delete(Ie),yield Promise.all(ct.container.getProviders().map(Nt=>Nt.delete())),ct.isDeleted=!0)})).apply(this,arguments)}function qi(ct,Ie,Nt){var Ht;let Zt=null!==(Ht=qe[ct])&&void 0!==Ht?Ht:ct;Nt&&(Zt+=`-${Nt}`);const Ft=Zt.match(/\s|\//),Ue=Ie.match(/\s|\//);if(Ft||Ue){const Be=[`Unable to register library "${Zt}" with version "${Ie}":`];return Ft&&Be.push(`library name "${Zt}" contains illegal characters (whitespace or "/")`),Ft&&Ue&&Be.push("and"),Ue&&Be.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void z.warn(Be.join(" "))}jt(new ie.wA(`${Zt}-version`,()=>({library:Zt,version:Ie}),"VERSION"))}function Sn(ct,Ie){if(null!==ct&&"function"!=typeof ct)throw mr.create("invalid-log-argument");(0,H.Am)(ct,Ie)}function pi(ct){(0,H.Ub)(ct)}jt(new ie.wA("platform-logger",Ie=>new pe(Ie),"PRIVATE")),qi(ye,"0.7.0",undefined),qi("fire-js","")},6034:(He,Ee,F)=>{"use strict";F.d(Ee,{wA:()=>H,H0:()=>he});var m=F(4762),ie=F(4685),H=function(){function z(L,j,$){this.name=L,this.instanceFactory=j,this.type=$,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return z.prototype.setInstantiationMode=function(L){return this.instantiationMode=L,this},z.prototype.setMultipleInstances=function(L){return this.multipleInstances=L,this},z.prototype.setServiceProps=function(L){return this.serviceProps=L,this},z.prototype.setInstanceCreatedCallback=function(L){return this.onInstanceCreated=L,this},z}(),te="[DEFAULT]",pe=function(){function z(L,j){this.name=L,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return z.prototype.get=function(L){var j=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(j)){var $=new ie.BH;if(this.instancesDeferred.set(j,$),this.isInitialized(j)||this.shouldAutoInitialize())try{var B=this.getOrInitializeService({instanceIdentifier:j});B&&$.resolve(B)}catch(q){}}return this.instancesDeferred.get(j).promise},z.prototype.getImmediate=function(L){var j,$=this.normalizeInstanceIdentifier(null==L?void 0:L.identifier),B=null!==(j=null==L?void 0:L.optional)&&void 0!==j&&j;if(!this.isInitialized($)&&!this.shouldAutoInitialize()){if(B)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:$})}catch(q){if(B)return null;throw q}},z.prototype.getComponent=function(){return this.component},z.prototype.setComponent=function(L){var j,$;if(L.name!==this.name)throw Error("Mismatching Component "+L.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=L,this.shouldAutoInitialize()){if(function(z){return"EAGER"===z.instantiationMode}(L))try{this.getOrInitializeService({instanceIdentifier:te})}catch(Te){}try{for(var B=(0,m.XA)(this.instancesDeferred.entries()),q=B.next();!q.done;q=B.next()){var ue=(0,m.CR)(q.value,2),X=ue[1],Ae=this.normalizeInstanceIdentifier(ue[0]);try{var be=this.getOrInitializeService({instanceIdentifier:Ae});X.resolve(be)}catch(Te){}}}catch(Te){j={error:Te}}finally{try{q&&!q.done&&($=B.return)&&$.call(B)}finally{if(j)throw j.error}}}},z.prototype.clearInstance=function(L){void 0===L&&(L=te),this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)},z.prototype.delete=function(){return(0,m.mG)(this,void 0,void 0,function(){var L;return(0,m.Jh)(this,function(j){switch(j.label){case 0:return L=Array.from(this.instances.values()),[4,Promise.all((0,m.ev)((0,m.ev)([],(0,m.CR)(L.filter(function($){return"INTERNAL"in $}).map(function($){return $.INTERNAL.delete()}))),(0,m.CR)(L.filter(function($){return"_delete"in $}).map(function($){return $._delete()}))))];case 1:return j.sent(),[2]}})})},z.prototype.isComponentSet=function(){return null!=this.component},z.prototype.isInitialized=function(L){return void 0===L&&(L=te),this.instances.has(L)},z.prototype.getOptions=function(L){return void 0===L&&(L=te),this.instancesOptions.get(L)||{}},z.prototype.initialize=function(L){var j,$;void 0===L&&(L={});var B=L.options,q=void 0===B?{}:B,ue=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(ue))throw Error(this.name+"("+ue+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ee=this.getOrInitializeService({instanceIdentifier:ue,options:q});try{for(var X=(0,m.XA)(this.instancesDeferred.entries()),Ae=X.next();!Ae.done;Ae=X.next()){var be=(0,m.CR)(Ae.value,2),Ne=be[1];ue===this.normalizeInstanceIdentifier(be[0])&&Ne.resolve(ee)}}catch(Me){j={error:Me}}finally{try{Ae&&!Ae.done&&($=X.return)&&$.call(X)}finally{if(j)throw j.error}}return ee},z.prototype.onInit=function(L,j){var $,B=this.normalizeInstanceIdentifier(j),q=null!==($=this.onInitCallbacks.get(B))&&void 0!==$?$:new Set;q.add(L),this.onInitCallbacks.set(B,q);var ue=this.instances.get(B);return ue&&L(ue,B),function(){q.delete(L)}},z.prototype.invokeOnInitCallbacks=function(L,j){var $,B,q=this.onInitCallbacks.get(j);if(q)try{for(var ue=(0,m.XA)(q),ee=ue.next();!ee.done;ee=ue.next()){var X=ee.value;try{X(L,j)}catch(Ae){}}}catch(Ae){$={error:Ae}}finally{try{ee&&!ee.done&&(B=ue.return)&&B.call(ue)}finally{if($)throw $.error}}},z.prototype.getOrInitializeService=function(L){var j=L.instanceIdentifier,$=L.options,B=void 0===$?{}:$,q=this.instances.get(j);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:re(j),options:B}),this.instances.set(j,q),this.instancesOptions.set(j,B),this.invokeOnInitCallbacks(q,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,q)}catch(ue){}return q||null},z.prototype.normalizeInstanceIdentifier=function(L){return void 0===L&&(L=te),this.component?this.component.multipleInstances?L:te:L},z.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},z}();function re(z){return z===te?void 0:z}var he=function(){function z(L){this.name=L,this.providers=new Map}return z.prototype.addComponent=function(L){var j=this.getProvider(L.name);if(j.isComponentSet())throw new Error("Component "+L.name+" has already been registered with "+this.name);j.setComponent(L)},z.prototype.addOrOverwriteComponent=function(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)},z.prototype.getProvider=function(L){if(this.providers.has(L))return this.providers.get(L);var j=new pe(L,this);return this.providers.set(L,j),j},z.prototype.getProviders=function(){return Array.from(this.providers.values())},z}()},300:(He,Ee,F)=>{"use strict";function m(){for(var $=0,B=0,q=arguments.length;B<q;B++)$+=arguments[B].length;var ue=Array($),ee=0;for(B=0;B<q;B++)for(var X=arguments[B],Ae=0,be=X.length;Ae<be;Ae++,ee++)ue[ee]=X[Ae];return ue}F.d(Ee,{in:()=>te,Yd:()=>z,Ub:()=>L,Am:()=>j});var ie,H=[],te=(()=>{return($=te||(te={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",te;var $})(),pe={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},re=te.INFO,ye=((ie={})[te.DEBUG]="log",ie[te.VERBOSE]="log",ie[te.INFO]="info",ie[te.WARN]="warn",ie[te.ERROR]="error",ie),he=function($,B){for(var q=[],ue=2;ue<arguments.length;ue++)q[ue-2]=arguments[ue];if(!(B<$.logLevel)){var ee=(new Date).toISOString(),X=ye[B];if(!X)throw new Error("Attempted to log a message with an invalid logType (value: "+B+")");console[X].apply(console,m(["["+ee+"]  "+$.name+":"],q))}},z=function(){function $(B){this.name=B,this._logLevel=re,this._logHandler=he,this._userLogHandler=null,H.push(this)}return Object.defineProperty($.prototype,"logLevel",{get:function(){return this._logLevel},set:function(B){if(!(B in te))throw new TypeError('Invalid value "'+B+'" assigned to `logLevel`');this._logLevel=B},enumerable:!1,configurable:!0}),$.prototype.setLogLevel=function(B){this._logLevel="string"==typeof B?pe[B]:B},Object.defineProperty($.prototype,"logHandler",{get:function(){return this._logHandler},set:function(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(B){this._userLogHandler=B},enumerable:!1,configurable:!0}),$.prototype.debug=function(){for(var B=[],q=0;q<arguments.length;q++)B[q]=arguments[q];this._userLogHandler&&this._userLogHandler.apply(this,m([this,te.DEBUG],B)),this._logHandler.apply(this,m([this,te.DEBUG],B))},$.prototype.log=function(){for(var B=[],q=0;q<arguments.length;q++)B[q]=arguments[q];this._userLogHandler&&this._userLogHandler.apply(this,m([this,te.VERBOSE],B)),this._logHandler.apply(this,m([this,te.VERBOSE],B))},$.prototype.info=function(){for(var B=[],q=0;q<arguments.length;q++)B[q]=arguments[q];this._userLogHandler&&this._userLogHandler.apply(this,m([this,te.INFO],B)),this._logHandler.apply(this,m([this,te.INFO],B))},$.prototype.warn=function(){for(var B=[],q=0;q<arguments.length;q++)B[q]=arguments[q];this._userLogHandler&&this._userLogHandler.apply(this,m([this,te.WARN],B)),this._logHandler.apply(this,m([this,te.WARN],B))},$.prototype.error=function(){for(var B=[],q=0;q<arguments.length;q++)B[q]=arguments[q];this._userLogHandler&&this._userLogHandler.apply(this,m([this,te.ERROR],B)),this._logHandler.apply(this,m([this,te.ERROR],B))},$}();function L($){H.forEach(function(B){B.setLogLevel($)})}function j($,B){for(var q=function(Ae){var be=null;B&&B.level&&(be=pe[B.level]),Ae.userLogHandler=null===$?null:function(Te,Ne){for(var Pe=[],Me=2;Me<arguments.length;Me++)Pe[Me-2]=arguments[Me];var le=Pe.map(function(Ct){if(null==Ct)return null;if("string"==typeof Ct)return Ct;if("number"==typeof Ct||"boolean"==typeof Ct)return Ct.toString();if(Ct instanceof Error)return Ct.message;try{return JSON.stringify(Ct)}catch(nt){return null}}).filter(function(Ct){return Ct}).join(" ");Ne>=(null!=be?be:Te.logLevel)&&$({level:te[Ne].toLowerCase(),message:le,args:Pe,type:Te.name})}},ue=0,ee=H;ue<ee.length;ue++)q(ee[ue])}},4685:(He,Ee,F)=>{"use strict";F.d(Ee,{BH:()=>q,LL:()=>Se,ZR:()=>Q,tV:()=>L,r3:()=>Et,Sg:()=>ue,ne:()=>po,vZ:()=>Jt,ZB:()=>$,pd:()=>fo,m9:()=>Wt,z$:()=>ee,jU:()=>be,ru:()=>Te,d:()=>Pe,xb:()=>_s,w1:()=>Me,hl:()=>oe,uI:()=>X,UG:()=>Ae,b$:()=>Ne,G6:()=>nt,Mn:()=>le,xO:()=>Gi,zd:()=>Gn});var m=F(4762),pe=function(G){for(var V=[],J=0,se=0;se<G.length;se++){var Y=G.charCodeAt(se);Y<128?V[J++]=Y:Y<2048?(V[J++]=Y>>6|192,V[J++]=63&Y|128):55296==(64512&Y)&&se+1<G.length&&56320==(64512&G.charCodeAt(se+1))?(Y=65536+((1023&Y)<<10)+(1023&G.charCodeAt(++se)),V[J++]=Y>>18|240,V[J++]=Y>>12&63|128,V[J++]=Y>>6&63|128,V[J++]=63&Y|128):(V[J++]=Y>>12|224,V[J++]=Y>>6&63|128,V[J++]=63&Y|128)}return V},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(G,V){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var J=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,se=[],Y=0;Y<G.length;Y+=3){var ve=G[Y],We=Y+1<G.length,bt=We?G[Y+1]:0,vt=Y+2<G.length,pt=vt?G[Y+2]:0,xn=(15&bt)<<2|pt>>6,vs=63&pt;vt||(vs=64,We||(xn=64)),se.push(J[ve>>2],J[(3&ve)<<4|bt>>4],J[xn],J[vs])}return se.join("")},encodeString:function(G,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(G):this.encodeByteArray(pe(G),V)},decodeString:function(G,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(G):function(G){for(var V=[],J=0,se=0;J<G.length;){var Y=G[J++];if(Y<128)V[se++]=String.fromCharCode(Y);else if(Y>191&&Y<224){var ve=G[J++];V[se++]=String.fromCharCode((31&Y)<<6|63&ve)}else if(Y>239&&Y<365){var vt=((7&Y)<<18|(63&(ve=G[J++]))<<12|(63&(We=G[J++]))<<6|63&G[J++])-65536;V[se++]=String.fromCharCode(55296+(vt>>10)),V[se++]=String.fromCharCode(56320+(1023&vt))}else{ve=G[J++];var We=G[J++];V[se++]=String.fromCharCode((15&Y)<<12|(63&ve)<<6|63&We)}}return V.join("")}(this.decodeStringToByteArray(G,V))},decodeStringToByteArray:function(G,V){this.init_();for(var J=V?this.charToByteMapWebSafe_:this.charToByteMap_,se=[],Y=0;Y<G.length;){var ve=J[G.charAt(Y++)],bt=Y<G.length?J[G.charAt(Y)]:0,pt=++Y<G.length?J[G.charAt(Y)]:64,on=++Y<G.length?J[G.charAt(Y)]:64;if(++Y,null==ve||null==bt||null==pt||null==on)throw Error();se.push(ve<<2|bt>>4),64!==pt&&(se.push(bt<<4&240|pt>>2),64!==on&&se.push(pt<<6&192|on))}return se},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},z=function(G){return function(G){var V=pe(G);return ye.encodeByteArray(V,!0)}(G).replace(/\./g,"")},L=function(G){try{return ye.decodeString(G,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function $(G,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return V}for(var se in V)!V.hasOwnProperty(se)||!B(se)||(G[se]=$(G[se],V[se]));return G}function B(G){return"__proto__"!==G}var q=function(){function G(){var V=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(J,se){V.resolve=J,V.reject=se})}return G.prototype.wrapCallback=function(V){var J=this;return function(se,Y){se?J.reject(se):J.resolve(Y),"function"==typeof V&&(J.promise.catch(function(){}),1===V.length?V(se):V(se,Y))}},G}();function ue(G,V){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var se=V||"demo-project",Y=G.iat||0,ve=G.sub||G.user_id;if(!ve)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var We=(0,m.pi)({iss:"https://securetoken.google.com/"+se,aud:se,iat:Y,exp:Y+3600,auth_time:Y,sub:ve,user_id:ve,firebase:{sign_in_provider:"custom",identities:{}}},G);return[z(JSON.stringify({alg:"none",type:"JWT"})),z(JSON.stringify(We)),""].join(".")}function ee(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function X(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ee())}function Ae(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(G){return!1}}function be(){return"object"==typeof self&&self.self===self}function Te(){var G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function Ne(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pe(){return ee().indexOf("Electron/")>=0}function Me(){var G=ee();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function le(){return ee().indexOf("MSAppHost/")>=0}function nt(){return!Ae()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oe(){return"indexedDB"in self&&null!=indexedDB}var Q=function(G){function V(J,se,Y){var ve=G.call(this,se)||this;return ve.code=J,ve.customData=Y,ve.name="FirebaseError",Object.setPrototypeOf(ve,V.prototype),Error.captureStackTrace&&Error.captureStackTrace(ve,Se.prototype.create),ve}return(0,m.ZT)(V,G),V}(Error),Se=function(){function G(V,J,se){this.service=V,this.serviceName=J,this.errors=se}return G.prototype.create=function(V){for(var J=[],se=1;se<arguments.length;se++)J[se-1]=arguments[se];var Y=J[0]||{},ve=this.service+"/"+V,We=this.errors[V],bt=We?Ge(We,Y):"Error",vt=this.serviceName+": "+bt+" ("+ve+").",pt=new Q(ve,vt,Y);return pt},G}();function Ge(G,V){return G.replace(mt,function(J,se){var Y=V[se];return null!=Y?String(Y):"<"+se+"?>"})}var mt=/\{\$([^}]+)}/g;function Et(G,V){return Object.prototype.hasOwnProperty.call(G,V)}function _s(G){for(var V in G)if(Object.prototype.hasOwnProperty.call(G,V))return!1;return!0}function Jt(G,V){if(G===V)return!0;for(var J=Object.keys(G),se=Object.keys(V),Y=0,ve=J;Y<ve.length;Y++){if(!se.includes(We=ve[Y]))return!1;var bt=G[We],vt=V[We];if(iu(bt)&&iu(vt)){if(!Jt(bt,vt))return!1}else if(bt!==vt)return!1}for(var pt=0,hn=se;pt<hn.length;pt++){var We;if(!J.includes(We=hn[pt]))return!1}return!0}function iu(G){return null!==G&&"object"==typeof G}function Gi(G){for(var V=[],J=function(vt,pt){Array.isArray(pt)?pt.forEach(function(hn){V.push(encodeURIComponent(vt)+"="+encodeURIComponent(hn))}):V.push(encodeURIComponent(vt)+"="+encodeURIComponent(pt))},se=0,Y=Object.entries(G);se<Y.length;se++){var ve=Y[se];J(ve[0],ve[1])}return V.length?"&"+V.join("&"):""}function Gn(G){var V={};return G.replace(/^\?/,"").split("&").forEach(function(se){if(se){var Y=se.split("="),We=Y[1];V[decodeURIComponent(Y[0])]=decodeURIComponent(We)}}),V}function fo(G){var V=G.indexOf("?");if(!V)return"";var J=G.indexOf("#",V);return G.substring(V,J>0?J:void 0)}function po(G,V){var J=new qi(G,V);return J.subscribe.bind(J)}!function(){function G(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var V=1;V<this.blockSize;++V)this.pad_[V]=0;this.reset()}G.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},G.prototype.compress_=function(V,J){J||(J=0);var se=this.W_;if("string"==typeof V)for(var Y=0;Y<16;Y++)se[Y]=V.charCodeAt(J)<<24|V.charCodeAt(J+1)<<16|V.charCodeAt(J+2)<<8|V.charCodeAt(J+3),J+=4;else for(Y=0;Y<16;Y++)se[Y]=V[J]<<24|V[J+1]<<16|V[J+2]<<8|V[J+3],J+=4;for(Y=16;Y<80;Y++)se[Y]=4294967295&((ve=se[Y-3]^se[Y-8]^se[Y-14]^se[Y-16])<<1|ve>>>31);var on,xn,We=this.chain_[0],bt=this.chain_[1],vt=this.chain_[2],pt=this.chain_[3],hn=this.chain_[4];for(Y=0;Y<80;Y++){Y<40?Y<20?(on=pt^bt&(vt^pt),xn=1518500249):(on=bt^vt^pt,xn=1859775393):Y<60?(on=bt&vt|pt&(bt|vt),xn=2400959708):(on=bt^vt^pt,xn=3395469782);var ve=(We<<5|We>>>27)+on+hn+xn+se[Y]&4294967295;hn=pt,pt=vt,vt=4294967295&(bt<<30|bt>>>2),bt=We,We=ve}this.chain_[0]=this.chain_[0]+We&4294967295,this.chain_[1]=this.chain_[1]+bt&4294967295,this.chain_[2]=this.chain_[2]+vt&4294967295,this.chain_[3]=this.chain_[3]+pt&4294967295,this.chain_[4]=this.chain_[4]+hn&4294967295},G.prototype.update=function(V,J){if(null!=V){void 0===J&&(J=V.length);for(var se=J-this.blockSize,Y=0,ve=this.buf_,We=this.inbuf_;Y<J;){if(0===We)for(;Y<=se;)this.compress_(V,Y),Y+=this.blockSize;if("string"==typeof V){for(;Y<J;)if(ve[We]=V.charCodeAt(Y),++Y,++We===this.blockSize){this.compress_(ve),We=0;break}}else for(;Y<J;)if(ve[We]=V[Y],++Y,++We===this.blockSize){this.compress_(ve),We=0;break}}this.inbuf_=We,this.total_+=J}},G.prototype.digest=function(){var V=[],J=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var se=this.blockSize-1;se>=56;se--)this.buf_[se]=255&J,J/=256;this.compress_(this.buf_);var Y=0;for(se=0;se<5;se++)for(var ve=24;ve>=0;ve-=8)V[Y]=this.chain_[se]>>ve&255,++Y;return V}}();var qi=function(){function G(V,J){var se=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(function(){V(se)}).catch(function(Y){se.error(Y)})}return G.prototype.next=function(V){this.forEachObserver(function(J){J.next(V)})},G.prototype.error=function(V){this.forEachObserver(function(J){J.error(V)}),this.close(V)},G.prototype.complete=function(){this.forEachObserver(function(V){V.complete()}),this.close()},G.prototype.subscribe=function(V,J,se){var ve,Y=this;if(void 0===V&&void 0===J&&void 0===se)throw new Error("Missing Observer.");void 0===(ve=function(G,V){if("object"!=typeof G||null===G)return!1;for(var J=0,se=["next","error","complete"];J<se.length;J++){var Y=se[J];if(Y in G&&"function"==typeof G[Y])return!0}return!1}(V)?V:{next:V,error:J,complete:se}).next&&(ve.next=zr),void 0===ve.error&&(ve.error=zr),void 0===ve.complete&&(ve.complete=zr);var We=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Y.finalError?ve.error(Y.finalError):ve.complete()}catch(bt){}}),this.observers.push(ve),We},G.prototype.unsubscribeOne=function(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},G.prototype.forEachObserver=function(V){if(!this.finalized)for(var J=0;J<this.observers.length;J++)this.sendOne(J,V)},G.prototype.sendOne=function(V,J){var se=this;this.task.then(function(){if(void 0!==se.observers&&void 0!==se.observers[V])try{J(se.observers[V])}catch(Y){"undefined"!=typeof console&&console.error&&console.error(Y)}})},G.prototype.close=function(V){var J=this;this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(function(){J.observers=void 0,J.onNoObservers=void 0}))},G}();function zr(){}function Wt(G){return G&&G._delegate?G._delegate:G}},7841:(He,Ee,F)=>{"use strict";F.d(Ee,{Z:()=>m.Z});var m=F(4486);m.Z.registerVersion("firebase","9.0.1","app-compat")},9083:(He,Ee,F)=>{"use strict";F.r(Ee);var m=F(8239),ie=F(4486),H=F(4685),te=F(5452),pe=F(4762),re=F(300),ye=F(6034);const ue=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},X=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),be=new re.Yd("@firebase/auth");function Te(C,...y){be.logLevel<=re.in.ERROR&&be.error(`Auth (${te.SDK_VERSION}): ${C}`,...y)}function Ne(C,...y){throw Me(C,...y)}function Pe(C,...y){return Me(C,...y)}function Me(C,...y){if("string"!=typeof C){const E=y[0],I=[...y.slice(1)];return I[0]&&(I[0].appName=C.name),C._errorFactory.create(E,...I)}return X.create(C,...y)}function le(C,y,...E){if(!C)throw Me(y,...E)}function Ct(C){const y="INTERNAL ASSERTION FAILED: "+C;throw Te(y),new Error(y)}function nt(C,y){C||Ct(y)}const oe=new Map;function ne(C){nt(C instanceof Function,"Expected a class definition");let y=oe.get(C);return y?(nt(y instanceof C,"Instance stored in cache mismatched with class"),y):(y=new C,oe.set(C,y),y)}function ae(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Q(){return"http:"===Se()||"https:"===Se()}function Se(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class qe{constructor(y,E){this.shortDelay=y,this.longDelay=E,nt(E>y,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Q()||(0,H.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function lt(C,y){nt(C.emulator,"Emulator should always be set here");const{url:E}=C.emulator;return y?`${E}${y.startsWith("/")?y.slice(1):y}`:E}class Vt{static initialize(y,E,I){this.fetchImpl=y,E&&(this.headersImpl=E),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ct("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ct("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ct("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},Di=new qe(3e4,6e4);function jt(C,y){return C.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:C.tenantId}):y}function ft(C,y,E,I){return Et.apply(this,arguments)}function Et(){return(Et=(0,m.Z)(function*(C,y,E,I,x={}){return nr(C,x,()=>{let O={},Z={};I&&("GET"===y?Z=I:O={body:JSON.stringify(I)});const ge=(0,H.xO)(Object.assign({key:C.config.apiKey},Z)).slice(1),xe=new(Vt.headers());return xe.set("Content-Type","application/json"),xe.set("X-Client-Version",C._getSdkClientVersion()),C.languageCode&&xe.set("X-Firebase-Locale",C.languageCode),Vt.fetch()(iu(C,C.config.apiHost,E,ge),Object.assign({method:y,headers:xe,referrerPolicy:"no-referrer"},O))})})).apply(this,arguments)}function nr(C,y,E){return _s.apply(this,arguments)}function _s(){return(_s=(0,m.Z)(function*(C,y,E){C._canInitEmulator=!1;const I=Object.assign(Object.assign({},vn),y);try{const x=new Gi(C),O=yield Promise.race([E(),x.promise]);x.clearNetworkTimeout();const Z=yield O.json();if("needConfirmation"in Z)throw Gn(C,"account-exists-with-different-credential",Z);if(O.ok&&!("errorMessage"in Z))return Z;{const xe=(O.ok?Z.errorMessage:Z.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===xe)throw Gn(C,"credential-already-in-use",Z);if("EMAIL_EXISTS"===xe)throw Gn(C,"email-already-in-use",Z);Ne(C,I[xe]||xe.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(x){if(x instanceof H.ZR)throw x;Ne(C,"network-request-failed")}})).apply(this,arguments)}function mr(C,y,E,I){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,m.Z)(function*(C,y,E,I,x={}){const O=yield ft(C,y,E,I,x);return"mfaPendingCredential"in O&&Ne(C,"multi-factor-auth-required",{serverResponse:O}),O})).apply(this,arguments)}function iu(C,y,E,I){const x=`${y}${E}?${I}`;return C.config.emulator?lt(C.config,x):`${C.config.apiScheme}://${x}`}class Gi{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((E,I)=>{this.timer=setTimeout(()=>I(Pe(this.auth,"timeout")),Di.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gn(C,y,E){const I={appName:C.name};E.email&&(I.email=E.email),E.phoneNumber&&(I.phoneNumber=E.phoneNumber);const x=Pe(C,y,I);return x.customData._tokenResponse=E,x}function ta(){return(ta=(0,m.Z)(function*(C,y){return ft(C,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function po(C,y){return qi.apply(this,arguments)}function qi(){return(qi=(0,m.Z)(function*(C,y){return ft(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Sn(C,y){return pi.apply(this,arguments)}function pi(){return(pi=(0,m.Z)(function*(C,y){return ft(C,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function zr(C){if(C)try{const y=new Date(Number(C));if(!isNaN(y.getTime()))return y.toUTCString()}catch(y){}}function Nt(){return(Nt=(0,m.Z)(function*(C,y=!1){const E=(0,H.m9)(C),I=yield E.getIdToken(y),x=Zt(I);le(x&&x.exp&&x.auth_time&&x.iat,E.auth,"internal-error");const O="object"==typeof x.firebase?x.firebase:void 0,Z=null==O?void 0:O.sign_in_provider;return{claims:x,token:I,authTime:zr(Ht(x.auth_time)),issuedAtTime:zr(Ht(x.iat)),expirationTime:zr(Ht(x.exp)),signInProvider:Z||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function Ht(C){return 1e3*Number(C)}function Zt(C){const[y,E,I]=C.split(".");if(void 0===y||void 0===E||void 0===I)return Te("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,H.tV)(E);return x?JSON.parse(x):(Te("Failed to decode base64 JWT payload"),null)}catch(x){return Te("Caught error parsing JWT payload as JSON",x),null}}function Ue(C,y){return Be.apply(this,arguments)}function Be(){return(Be=(0,m.Z)(function*(C,y,E=!1){if(E)return y;try{return yield y}catch(I){throw I instanceof H.ZR&&yr(I)&&C.auth.currentUser===C&&(yield C.auth.signOut()),I}})).apply(this,arguments)}function yr({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class su{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var E;if(y){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const x=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(y=!1){var E=this;if(!this.isRunning)return;const I=this.getInterval(y);this.timerId=setTimeout((0,m.Z)(function*(){yield E.iteration()}),I)}iteration(){var y=this;return(0,m.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===E.code&&y.schedule(!0))}y.schedule()})()}}class gi{constructor(y,E){this.createdAt=y,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=zr(this.lastLoginAt),this.creationTime=zr(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ut(C){return _r.apply(this,arguments)}function _r(){return(_r=(0,m.Z)(function*(C){var y;const E=C.auth,I=yield C.getIdToken(),x=yield Ue(C,Sn(E,{idToken:I}));le(null==x?void 0:x.users.length,E,"internal-error");const O=x.users[0];C._notifyReloadListener(O);const Z=(null===(y=O.providerUserInfo)||void 0===y?void 0:y.length)?V(O.providerUserInfo):[],ge=G(C.providerData,Z),Xe=!!C.isAnonymous&&!(C.email&&O.passwordHash||(null==ge?void 0:ge.length)),ze={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ge,metadata:new gi(O.createdAt,O.lastLoginAt),isAnonymous:Xe};Object.assign(C,ze)})).apply(this,arguments)}function Wt(){return(Wt=(0,m.Z)(function*(C){const y=(0,H.m9)(C);yield Ut(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function G(C,y){return[...C.filter(I=>!y.some(x=>x.providerId===I.providerId)),...y]}function V(C){return C.map(y=>{var{providerId:E}=y,I=(0,pe._T)(y,["providerId"]);return{providerId:E,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function se(){return(se=(0,m.Z)(function*(C,y){const E=yield nr(C,{},()=>{const I=(0,H.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:x,apiKey:O}=C.config,Z=iu(C,x,"/v1/token",`key=${O}`);return Vt.fetch()(Z,{method:"POST",headers:{"X-Client-Version":C._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:I})});return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}class Y{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){le(y.idToken,"internal-error"),le(void 0!==y.idToken,"internal-error"),le(void 0!==y.refreshToken,"internal-error");const E="expiresIn"in y&&void 0!==y.expiresIn?Number(y.expiresIn):function(C){const y=Zt(C);return le(y,"internal-error"),le(void 0!==y.exp,"internal-error"),le(void 0!==y.iat,"internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,E)}getToken(y,E=!1){var I=this;return(0,m.Z)(function*(){return le(!I.accessToken||I.refreshToken,y,"user-token-expired"),E||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(y,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,E){var I=this;return(0,m.Z)(function*(){const{accessToken:x,refreshToken:O,expiresIn:Z}=yield function(C,y){return se.apply(this,arguments)}(y,E);I.updateTokensAndExpiration(x,O,Number(Z))})()}updateTokensAndExpiration(y,E,I){this.refreshToken=E||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(y,E){const{refreshToken:I,accessToken:x,expirationTime:O}=E,Z=new Y;return I&&(le("string"==typeof I,"internal-error",{appName:y}),Z.refreshToken=I),x&&(le("string"==typeof x,"internal-error",{appName:y}),Z.accessToken=x),O&&(le("number"==typeof O,"internal-error",{appName:y}),Z.expirationTime=O),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new Y,this.toJSON())}_performRefresh(){return Ct("not implemented")}}function ve(C,y){le("string"==typeof C||void 0===C,"internal-error",{appName:y})}class We{constructor(y){var{uid:E,auth:I,stsTokenManager:x}=y,O=(0,pe._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new su(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=I,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.metadata=new gi(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(y){var E=this;return(0,m.Z)(function*(){const I=yield Ue(E,E.stsTokenManager.getToken(E.auth,y));return le(I,E.auth,"internal-error"),E.accessToken!==I&&(E.accessToken=I,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),I})()}getIdTokenResult(y){return function(C){return Nt.apply(this,arguments)}(this,y)}reload(){return function(C){return Wt.apply(this,arguments)}(this)}_assign(y){this!==y&&(le(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(E=>Object.assign({},E)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new We(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,E=!1){var I=this;return(0,m.Z)(function*(){let x=!1;y.idToken&&y.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(y),x=!0),E&&(yield Ut(I)),yield I.auth._persistUserIfCurrent(I),x&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var y=this;return(0,m.Z)(function*(){const E=yield y.getIdToken();return yield Ue(y,function(C,y){return ta.apply(this,arguments)}(y.auth,{idToken:E})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,E){var I,x,O,Z,ge,xe,je,Xe;const ze=null!==(I=E.displayName)&&void 0!==I?I:void 0,Dn=null!==(x=E.email)&&void 0!==x?x:void 0,vi=null!==(O=E.phoneNumber)&&void 0!==O?O:void 0,Mi=null!==(Z=E.photoURL)&&void 0!==Z?Z:void 0,jr=null!==(ge=E.tenantId)&&void 0!==ge?ge:void 0,Bs=null!==(xe=E._redirectEventId)&&void 0!==xe?xe:void 0,cg=null!==(je=E.createdAt)&&void 0!==je?je:void 0,dg=null!==(Xe=E.lastLoginAt)&&void 0!==Xe?Xe:void 0,{uid:js,emailVerified:d_,isAnonymous:Vh,providerData:Uh,stsTokenManager:hg}=E;le(js&&hg,y,"internal-error");const h_=Y.fromJSON(this.name,hg);le("string"==typeof js,y,"internal-error"),ve(ze,y.name),ve(Dn,y.name),le("boolean"==typeof d_,y,"internal-error"),le("boolean"==typeof Vh,y,"internal-error"),ve(vi,y.name),ve(Mi,y.name),ve(jr,y.name),ve(Bs,y.name),ve(cg,y.name),ve(dg,y.name);const Hs=new We({uid:js,auth:y,email:Dn,emailVerified:d_,displayName:ze,isAnonymous:Vh,photoURL:Mi,phoneNumber:vi,tenantId:jr,stsTokenManager:h_,createdAt:cg,lastLoginAt:dg});return Uh&&Array.isArray(Uh)&&(Hs.providerData=Uh.map(Oi=>Object.assign({},Oi))),Bs&&(Hs._redirectEventId=Bs),Hs}static _fromIdTokenResponse(y,E,I=!1){return(0,m.Z)(function*(){const x=new Y;x.updateFromServerResponse(E);const O=new We({uid:E.localId,auth:y,stsTokenManager:x,isAnonymous:I});return yield Ut(O),O})()}}const vt=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(E,I){var x=this;return(0,m.Z)(function*(){x.storage[E]=I})()}_get(E){var I=this;return(0,m.Z)(function*(){const x=I.storage[E];return void 0===x?null:x})()}_remove(E){var I=this;return(0,m.Z)(function*(){delete I.storage[E]})()}_addListener(E,I){}_removeListener(E,I){}}return C.type="NONE",C})();function pt(C,y,E){return`firebase:${C}:${y}:${E}`}class hn{constructor(y,E,I){this.persistence=y,this.auth=E,this.userKey=I;const{config:x,name:O}=this.auth;this.fullUserKey=pt(this.userKey,x.apiKey,O),this.fullPersistenceKey=pt("persistence",x.apiKey,O),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,m.Z)(function*(){const E=yield y.persistence._get(y.fullUserKey);return E?We._fromJSON(y.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var E=this;return(0,m.Z)(function*(){if(E.persistence===y)return;const I=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=y,I?E.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,E,I="authUser"){return(0,m.Z)(function*(){if(!E.length)return new hn(ne(vt),y,I);const x=(yield Promise.all(E.map(function(){var je=(0,m.Z)(function*(Xe){if(yield Xe._isAvailable())return Xe});return function(Xe){return je.apply(this,arguments)}}()))).filter(je=>je);let O=x[0]||ne(vt);const Z=pt(I,y.config.apiKey,y.name);let ge=null;for(const je of E)try{const Xe=yield je._get(Z);if(Xe){const ze=We._fromJSON(y,Xe);je!==O&&(ge=ze),O=je;break}}catch(Xe){}const xe=x.filter(je=>je._shouldAllowMigration);return O._shouldAllowMigration&&xe.length?(O=xe[0],ge&&(yield O._set(Z,ge.toJSON())),yield Promise.all(E.map(function(){var je=(0,m.Z)(function*(Xe){if(Xe!==O)try{yield Xe._remove(Z)}catch(ze){}});return function(Xe){return je.apply(this,arguments)}}())),new hn(O,y,I)):new hn(O,y,I)})()}}function on(C){const y=C.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(lp(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(xn(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(Ll(y))return"Blackberry";if(Hd(y))return"Webos";if(vs(y))return"Safari";if((y.includes("chrome/")||na(y))&&!y.includes("edge/"))return"Chrome";if(ra(y))return"Android";{const I=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function xn(C=(0,H.z$)()){return/firefox\//i.test(C)}function vs(C=(0,H.z$)()){const y=C.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function na(C=(0,H.z$)()){return/crios\//i.test(C)}function lp(C=(0,H.z$)()){return/iemobile/i.test(C)}function ra(C=(0,H.z$)()){return/android/i.test(C)}function Ll(C=(0,H.z$)()){return/blackberry/i.test(C)}function Hd(C=(0,H.z$)()){return/webos/i.test(C)}function Zi(C=(0,H.z$)()){return/iphone|ipad|ipod/i.test(C)}function $d(C=(0,H.z$)()){return Zi(C)||ra(C)||Hd(C)||Ll(C)||/windows phone/i.test(C)||lp(C)}function Ti(C,y=[]){let E;switch(C){case"Browser":E=on((0,H.z$)());break;case"Worker":E=`${on((0,H.z$)())}-${C}`;break;default:E=C}const I=y.length?y.join(","):"FirebaseCore-web";return`${E}/JsCore/${te.SDK_VERSION}/${I}`}class go{constructor(y,E){this.app=y,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dp(this),this.idTokenSubscription=new dp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(y,E){var I=this;return E&&(this._popupRedirectResolver=ne(E)),this._initializationPromise=this.queue((0,m.Z)(function*(){var x;I._deleted||(I.persistenceManager=yield hn.create(I,y),!I._deleted&&((null===(x=I._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)&&(yield I._popupRedirectResolver._initialize(I)),yield I.initializeCurrentUser(E),!I._deleted&&(I._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,m.Z)(function*(){if(y._deleted)return;const E=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||E){if(y.currentUser&&E&&y.currentUser.uid===E.uid)return y._currentUser._assign(E),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(E)}})()}initializeCurrentUser(y){var E=this;return(0,m.Z)(function*(){var I;let x=yield E.assertedPersistence.getCurrentUser();if(y&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const O=null===(I=E.redirectUser)||void 0===I?void 0:I._redirectEventId,Z=null==x?void 0:x._redirectEventId,ge=yield E.tryRedirectSignIn(y);(!O||O===Z)&&(null==ge?void 0:ge.user)&&(x=ge.user)}return x?x._redirectEventId?(le(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===x._redirectEventId?E.directlySetCurrentUser(x):E.reloadAndSetCurrentUserOrClear(x)):E.reloadAndSetCurrentUserOrClear(x):E.directlySetCurrentUser(null)})()}tryRedirectSignIn(y){var E=this;return(0,m.Z)(function*(){let I=null;try{I=yield E._popupRedirectResolver._completeRedirectFn(E,y,!0)}catch(x){yield E._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(y){var E=this;return(0,m.Z)(function*(){try{yield Ut(y)}catch(I){if("auth/network-request-failed"!==I.code)return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var y=this;return(0,m.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var E=this;return(0,m.Z)(function*(){const I=y?(0,H.m9)(y):null;return I&&le(I.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(I&&I._clone(E))})()}_updateCurrentUser(y){var E=this;return(0,m.Z)(function*(){if(!E._deleted)return y&&le(E.tenantId===y.tenantId,E,"tenant-id-mismatch"),E.queue((0,m.Z)(function*(){yield E.directlySetCurrentUser(y),E.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,m.Z)(function*(){return(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null)})()}setPersistence(y){var E=this;return this.queue((0,m.Z)(function*(){yield E.assertedPersistence.setPersistence(ne(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new H.LL("auth","Firebase",y())}onAuthStateChanged(y,E,I){return this.registerStateListener(this.authStateSubscription,y,E,I)}onIdTokenChanged(y,E,I){return this.registerStateListener(this.idTokenSubscription,y,E,I)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,E){var I=this;return(0,m.Z)(function*(){const x=yield I.getOrInitRedirectPersistenceManager(E);return null===y?x.removeCurrentUser():x.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var E=this;return(0,m.Z)(function*(){if(!E.redirectPersistenceManager){const I=y&&ne(y)||E._popupRedirectResolver;le(I,E,"argument-error"),E.redirectPersistenceManager=yield hn.create(E,[ne(I._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(y){var E=this;return(0,m.Z)(function*(){var I,x;return E._isInitialized&&(yield E.queue((0,m.Z)(function*(){}))),(null===(I=E._currentUser)||void 0===I?void 0:I._redirectEventId)===y?E._currentUser:(null===(x=E.redirectUser)||void 0===x?void 0:x._redirectEventId)===y?E.redirectUser:null})()}_persistUserIfCurrent(y){var E=this;return(0,m.Z)(function*(){if(y===E.currentUser)return E.queue((0,m.Z)(function*(){return E.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(E=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,E,I,x){if(this._deleted)return()=>{};const O="function"==typeof E?E:E.next.bind(E),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return le(Z,this,"internal-error"),Z.then(()=>O(this.currentUser)),"function"==typeof E?y.addObserver(E,I,x):y.addObserver(E)}directlySetCurrentUser(y){var E=this;return(0,m.Z)(function*(){E.currentUser&&E.currentUser!==y&&(E._currentUser._stopProactiveRefresh(),y&&E.isProactiveRefreshEnabled&&y._startProactiveRefresh()),E.currentUser=y,y?yield E.assertedPersistence.setCurrentUser(y):yield E.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=Ti(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Tt(C){return(0,H.m9)(C)}class dp{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,H.ne)(E=>this.observer=E)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Fe(C){const y=C.indexOf(":");return y<0?"":C.substr(0,y+1)}function $t(C){if(!C)return null;const y=Number(C);return isNaN(y)?null:y}class Yr{constructor(y,E){this.providerId=y,this.signInMethod=E}toJSON(){return Ct("not implemented")}_getIdTokenResponse(y){return Ct("not implemented")}_linkToIdToken(y,E){return Ct("not implemented")}_getReauthenticationResolver(y){return Ct("not implemented")}}function fn(C,y){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,m.Z)(function*(C,y){return ft(C,"POST","/v1/accounts:resetPassword",jt(C,y))})).apply(this,arguments)}function Xt(C,y){return mo.apply(this,arguments)}function mo(){return(mo=(0,m.Z)(function*(C,y){return ft(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function au(C,y){return rt.apply(this,arguments)}function rt(){return(rt=(0,m.Z)(function*(C,y){return ft(C,"POST","/v1/accounts:update",jt(C,y))})).apply(this,arguments)}function Es(){return(Es=(0,m.Z)(function*(C,y){return mr(C,"POST","/v1/accounts:signInWithPassword",jt(C,y))})).apply(this,arguments)}function sa(C,y){return ws.apply(this,arguments)}function ws(){return(ws=(0,m.Z)(function*(C,y){return ft(C,"POST","/v1/accounts:sendOobCode",jt(C,y))})).apply(this,arguments)}function rr(C,y){return yo.apply(this,arguments)}function yo(){return(yo=(0,m.Z)(function*(C,y){return sa(C,y)})).apply(this,arguments)}function oa(C,y){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,m.Z)(function*(C,y){return sa(C,y)})).apply(this,arguments)}function Lt(C,y){return uu.apply(this,arguments)}function uu(){return(uu=(0,m.Z)(function*(C,y){return sa(C,y)})).apply(this,arguments)}function Gd(C,y){return aa.apply(this,arguments)}function aa(){return(aa=(0,m.Z)(function*(C,y){return sa(C,y)})).apply(this,arguments)}function ua(){return(ua=(0,m.Z)(function*(C,y){return mr(C,"POST","/v1/accounts:signInWithEmailLink",jt(C,y))})).apply(this,arguments)}function Wi(){return(Wi=(0,m.Z)(function*(C,y){return mr(C,"POST","/v1/accounts:signInWithEmailLink",jt(C,y))})).apply(this,arguments)}class En extends Yr{constructor(y,E,I,x=null){super("password",I),this._email=y,this._password=E,this._tenantId=x}static _fromEmailAndPassword(y,E){return new En(y,E,"password")}static _fromEmailAndCode(y,E,I=null){return new En(y,E,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const E="string"==typeof y?JSON.parse(y):y;if((null==E?void 0:E.email)&&(null==E?void 0:E.password)){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(y){var E=this;return(0,m.Z)(function*(){switch(E.signInMethod){case"password":return function(C,y){return Es.apply(this,arguments)}(y,{returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(C,y){return ua.apply(this,arguments)}(y,{email:E._email,oobCode:E._password});default:Ne(y,"internal-error")}})()}_linkToIdToken(y,E){var I=this;return(0,m.Z)(function*(){switch(I.signInMethod){case"password":return Xt(y,{idToken:E,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function(C,y){return Wi.apply(this,arguments)}(y,{idToken:E,email:I._email,oobCode:I._password});default:Ne(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function zi(C,y){return mi.apply(this,arguments)}function mi(){return(mi=(0,m.Z)(function*(C,y){return mr(C,"POST","/v1/accounts:signInWithIdp",jt(C,y))})).apply(this,arguments)}class Jr extends Yr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const E=new Jr(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(E.idToken=y.idToken),y.accessToken&&(E.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(E.nonce=y.nonce),y.pendingToken&&(E.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(E.accessToken=y.oauthToken,E.secret=y.oauthTokenSecret):Ne("argument-error"),E}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const E="string"==typeof y?JSON.parse(y):y,{providerId:I,signInMethod:x}=E,O=(0,pe._T)(E,["providerId","signInMethod"]);if(!I||!x)return null;const Z=new Jr(I,x);return Object.assign(Z,O),Z}_getIdTokenResponse(y){return zi(y,this.buildRequest())}_linkToIdToken(y,E){const I=this.buildRequest();return I.idToken=E,zi(y,I)}_getReauthenticationResolver(y){const E=this.buildRequest();return E.autoCreate=!1,zi(y,E)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const E={};this.idToken&&(E.id_token=this.idToken),this.accessToken&&(E.access_token=this.accessToken),this.secret&&(E.oauth_token_secret=this.secret),E.providerId=this.providerId,this.nonce&&!this.pendingToken&&(E.nonce=this.nonce),y.postBody=(0,H.xO)(E)}return y}}function Ul(C,y){return la.apply(this,arguments)}function la(){return(la=(0,m.Z)(function*(C,y){return ft(C,"POST","/v1/accounts:sendVerificationCode",jt(C,y))})).apply(this,arguments)}function Zd(){return(Zd=(0,m.Z)(function*(C,y){return mr(C,"POST","/v1/accounts:signInWithPhoneNumber",jt(C,y))})).apply(this,arguments)}function Wd(){return(Wd=(0,m.Z)(function*(C,y){const E=yield mr(C,"POST","/v1/accounts:signInWithPhoneNumber",jt(C,y));if(E.temporaryProof)throw Gn(C,"account-exists-with-different-credential",E);return E})).apply(this,arguments)}const Ry={USER_NOT_FOUND:"user-not-found"};function hp(){return(hp=(0,m.Z)(function*(C,y){return mr(C,"POST","/v1/accounts:signInWithPhoneNumber",jt(C,Object.assign(Object.assign({},y),{operation:"REAUTH"})),Ry)})).apply(this,arguments)}class ca extends Yr{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,E){return new ca({verificationId:y,verificationCode:E})}static _fromTokenResponse(y,E){return new ca({phoneNumber:y,temporaryProof:E})}_getIdTokenResponse(y){return function(C,y){return Zd.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,E){return function(C,y){return Wd.apply(this,arguments)}(y,Object.assign({idToken:E},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function(C,y){return hp.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:E,verificationId:I,verificationCode:x}=this.params;return y&&E?{temporaryProof:y,phoneNumber:E}:{sessionInfo:I,code:x}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:E,verificationCode:I,phoneNumber:x,temporaryProof:O}=y;return I||E||x||O?new ca({verificationId:E,verificationCode:I,phoneNumber:x,temporaryProof:O}):null}}class Bl{constructor(y){var E,I,x,O,Z,ge;const xe=(0,H.zd)((0,H.pd)(y)),je=null!==(E=xe.apiKey)&&void 0!==E?E:null,Xe=null!==(I=xe.oobCode)&&void 0!==I?I:null,ze=function(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=xe.mode)&&void 0!==x?x:null);le(je&&Xe&&ze,"argument-error"),this.apiKey=je,this.operation=ze,this.code=Xe,this.continueUrl=null!==(O=xe.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Z=xe.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(ge=xe.tenantId)&&void 0!==ge?ge:null}static parseLink(y){const E=function(C){const y=(0,H.zd)((0,H.pd)(C)).link,E=y?(0,H.zd)((0,H.pd)(y)).deep_link_id:null,I=(0,H.zd)((0,H.pd)(C)).deep_link_id;return(I?(0,H.zd)((0,H.pd)(I)).link:null)||I||E||y||C}(y);try{return new Bl(E)}catch(I){return null}}}let fp=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(E,I){return En._fromEmailAndPassword(E,I)}static credentialWithLink(E,I){const x=Bl.parseLink(I);return le(x,"argument-error"),En._fromEmailAndCode(E,x.code,x.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class Cs{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class cu extends Cs{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class du extends cu{static credentialFromJSON(y){const E="string"==typeof y?JSON.parse(y):y;return le("providerId"in E&&"signInMethod"in E,"argument-error"),Jr._fromParams(E)}credential(y){return this._credential(y)}_credential(y){return le(y.idToken||y.accessToken,"argument-error"),Jr._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return du.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return du.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:E,oauthAccessToken:I,oauthTokenSecret:x,pendingToken:O,nonce:Z,providerId:ge}=y;if(!I&&!x&&!E&&!O||!ge)return null;try{return new du(ge)._credential({idToken:E,accessToken:I,rawNonce:Z,pendingToken:O})}catch(xe){return null}}}let My=(()=>{class C extends cu{constructor(){super("facebook.com")}static credential(E){return Jr._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return C.credential(E.oauthAccessToken)}catch(I){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),zd=(()=>{class C extends cu{constructor(){super("google.com"),this.addScope("profile")}static credential(E,I){return Jr._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:E,accessToken:I})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:I,oauthAccessToken:x}=E;if(!I&&!x)return null;try{return C.credential(I,x)}catch(O){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Kd=(()=>{class C extends cu{constructor(){super("github.com")}static credential(E){return Jr._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return C.credential(E.oauthAccessToken)}catch(I){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class _o extends Yr{constructor(y,E){super(y,y),this.pendingToken=E}_getIdTokenResponse(y){return zi(y,this.buildRequest())}_linkToIdToken(y,E){const I=this.buildRequest();return I.idToken=E,zi(y,I)}_getReauthenticationResolver(y){const E=this.buildRequest();return E.autoCreate=!1,zi(y,E)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const E="string"==typeof y?JSON.parse(y):y,{providerId:I,signInMethod:x,pendingToken:O}=E;return I&&x&&O&&I===x?new _o(I,O):null}static _create(y,E){return new _o(y,E)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Oy=(()=>{class C extends cu{constructor(){super("twitter.com")}static credential(E,I){return Jr._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:E,oauthTokenSecret:I})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthAccessToken:I,oauthTokenSecret:x}=E;if(!I||!x)return null;try{return C.credential(I,x)}catch(O){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function bs(C,y){return jl.apply(this,arguments)}function jl(){return(jl=(0,m.Z)(function*(C,y){return mr(C,"POST","/v1/accounts:signUp",jt(C,y))})).apply(this,arguments)}class Or{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,E,I,x=!1){return(0,m.Z)(function*(){const O=yield We._fromIdTokenResponse(y,I,x),Z=Hl(I);return new Or({user:O,providerId:Z,_tokenResponse:I,operationType:E})})()}static _forOperation(y,E,I){return(0,m.Z)(function*(){yield y._updateTokensIfNecessary(I,!0);const x=Hl(I);return new Or({user:y,providerId:x,_tokenResponse:I,operationType:E})})()}}function Hl(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function gp(){return(gp=(0,m.Z)(function*(C){var y;const E=Tt(C);if(yield E._initializationPromise,null===(y=E.currentUser)||void 0===y?void 0:y.isAnonymous)return new Or({user:E.currentUser,providerId:null,operationType:"signIn"});const I=yield bs(E,{returnSecureToken:!0}),x=yield Or._fromIdTokenResponse(E,"signIn",I,!0);return yield E._updateCurrentUser(x.user),x})).apply(this,arguments)}class $l extends H.ZR{constructor(y,E,I,x){var O;super(E.code,E.message),this.operationType=I,this.user=x,this.name="FirebaseError",Object.setPrototypeOf(this,$l.prototype),this.appName=y.name,this.code=E.code,this.tenantId=null!==(O=y.tenantId)&&void 0!==O?O:void 0,this.serverResponse=E.customData.serverResponse}static _fromErrorAndOperation(y,E,I,x){return new $l(y,E,I,x)}}function Gl(C,y,E,I){return("reauthenticate"===y?E._getReauthenticationResolver(C):E._getIdTokenResponse(C)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?$l._fromErrorAndOperation(C,O,y,I):O})}function mp(C){return new Set(C.map(({providerId:y})=>y).filter(y=>!!y))}function Qd(){return(Qd=(0,m.Z)(function*(C,y){const E=(0,H.m9)(C);yield hu(!0,E,y);const{providerUserInfo:I}=yield po(E.auth,{idToken:yield E.getIdToken(),deleteProvider:[y]}),x=mp(I||[]);return E.providerData=E.providerData.filter(O=>x.has(O.providerId)),x.has("phone")||(E.phoneNumber=null),yield E.auth._persistUserIfCurrent(E),E})).apply(this,arguments)}function Pr(C,y){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,m.Z)(function*(C,y,E=!1){const I=yield Ue(C,y._linkToIdToken(C.auth,yield C.getIdToken()),E);return Or._forOperation(C,"link",I)})).apply(this,arguments)}function hu(C,y,E){return vo.apply(this,arguments)}function vo(){return(vo=(0,m.Z)(function*(C,y,E){yield Ut(y);const x=!1===C?"provider-already-linked":"no-such-provider";le(mp(y.providerData).has(E)===C,y.auth,x)})).apply(this,arguments)}function da(C,y){return fu.apply(this,arguments)}function fu(){return(fu=(0,m.Z)(function*(C,y,E=!1){const{auth:I}=C,x="reauthenticate";try{const O=yield Ue(C,Gl(I,x,y,C),E);le(O.idToken,I,"internal-error");const Z=Zt(O.idToken);le(Z,I,"internal-error");const{sub:ge}=Z;return le(C.uid===ge,I,"user-mismatch"),Or._forOperation(C,x,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&Ne(I,"user-mismatch"),O}})).apply(this,arguments)}function Wl(C,y){return zt.apply(this,arguments)}function zt(){return(zt=(0,m.Z)(function*(C,y,E=!1){const I="signIn",x=yield Gl(C,I,y),O=yield Or._fromIdTokenResponse(C,I,x);return E||(yield C._updateCurrentUser(O.user)),O})).apply(this,arguments)}function zl(C,y){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,m.Z)(function*(C,y){return Wl(Tt(C),y)})).apply(this,arguments)}function yp(C,y){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,m.Z)(function*(C,y){const E=(0,H.m9)(C);return yield hu(!1,E,y.providerId),Pr(E,y)})).apply(this,arguments)}function _p(C,y){return vp.apply(this,arguments)}function vp(){return(vp=(0,m.Z)(function*(C,y){return da((0,H.m9)(C),y)})).apply(this,arguments)}function Yl(C,y){return kr.apply(this,arguments)}function kr(){return(kr=(0,m.Z)(function*(C,y){return mr(C,"POST","/v1/accounts:signInWithCustomToken",jt(C,y))})).apply(this,arguments)}function Is(){return(Is=(0,m.Z)(function*(C,y){const E=Tt(C),I=yield Yl(E,{token:y,returnSecureToken:!0}),x=yield Or._fromIdTokenResponse(E,"signIn",I);return yield E._updateCurrentUser(x.user),x})).apply(this,arguments)}class Ds{constructor(y,E){this.factorId=y,this.uid=E.mfaEnrollmentId,this.enrollmentTime=new Date(E.enrolledAt).toUTCString(),this.displayName=E.displayName}static _fromServerResponse(y,E){return"phoneInfo"in E?ir._fromServerResponse(y,E):Ne(y,"internal-error")}}class ir extends Ds{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,E){return new ir(E)}}function pu(C,y,E){var I;le((null===(I=E.url)||void 0===I?void 0:I.length)>0,C,"invalid-continue-uri"),le(void 0===E.dynamicLinkDomain||E.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),y.continueUrl=E.url,y.dynamicLinkDomain=E.dynamicLinkDomain,y.canHandleCodeInApp=E.handleCodeInApp,E.iOS&&(le(E.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),y.iosBundleId=E.iOS.bundleId),E.android&&(le(E.android.packageName.length>0,C,"missing-android-pkg-name"),y.androidInstallApp=E.android.installApp,y.androidMinimumVersionCode=E.android.minimumVersion,y.androidPackageName=E.android.packageName)}function Ql(){return(Ql=(0,m.Z)(function*(C,y,E){const I=(0,H.m9)(C),x={requestType:"PASSWORD_RESET",email:y};E&&pu(I,x,E),yield oa(I,x)})).apply(this,arguments)}function Jl(){return(Jl=(0,m.Z)(function*(C,y,E){yield fn((0,H.m9)(C),{oobCode:y,newPassword:E})})).apply(this,arguments)}function Qe(){return(Qe=(0,m.Z)(function*(C,y){yield au((0,H.m9)(C),{oobCode:y})})).apply(this,arguments)}function Py(C,y){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,m.Z)(function*(C,y){const E=(0,H.m9)(C),I=yield fn(E,{oobCode:y}),x=I.requestType;switch(le(x,E,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":le(I.newEmail,E,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":le(I.mfaInfo,E,"internal-error");default:le(I.email,E,"internal-error")}let O=null;return I.mfaInfo&&(O=Ds._fromServerResponse(Tt(E),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:O},operation:x}})).apply(this,arguments)}function gu(){return(gu=(0,m.Z)(function*(C,y){const{data:E}=yield Py((0,H.m9)(C),y);return E.email})).apply(this,arguments)}function wo(){return(wo=(0,m.Z)(function*(C,y,E){const I=Tt(C),x=yield bs(I,{returnSecureToken:!0,email:y,password:E}),O=yield Or._fromIdTokenResponse(I,"signIn",x);return yield I._updateCurrentUser(O.user),O})).apply(this,arguments)}function gt(){return(gt=(0,m.Z)(function*(C,y,E){const I=(0,H.m9)(C),x={requestType:"EMAIL_SIGNIN",email:y};le(E.handleCodeInApp,I,"argument-error"),E&&pu(I,x,E),yield Lt(I,x)})).apply(this,arguments)}function ec(){return(ec=(0,m.Z)(function*(C,y,E){const I=(0,H.m9)(C),x=fp.credentialWithLink(y,E||ae());return le(x._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),zl(I,x)})).apply(this,arguments)}function mu(C,y){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,m.Z)(function*(C,y){return ft(C,"POST","/v1/accounts:createAuthUri",jt(C,y))})).apply(this,arguments)}function As(){return(As=(0,m.Z)(function*(C,y){const I={identifier:y,continueUri:Q()?ae():"http://localhost"},{signinMethods:x}=yield mu((0,H.m9)(C),I);return x||[]})).apply(this,arguments)}function Cp(){return(Cp=(0,m.Z)(function*(C,y){const E=(0,H.m9)(C),x={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};y&&pu(E.auth,x,y);const{email:O}=yield rr(E.auth,x);O!==C.email&&(yield C.reload())})).apply(this,arguments)}function Ss(){return(Ss=(0,m.Z)(function*(C,y,E){const I=(0,H.m9)(C),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:y};E&&pu(I.auth,O,E);const{email:Z}=yield Gd(I.auth,O);Z!==C.email&&(yield C.reload())})).apply(this,arguments)}function vr(C,y){return ei.apply(this,arguments)}function ei(){return(ei=(0,m.Z)(function*(C,y){return ft(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function xs(){return(xs=(0,m.Z)(function*(C,{displayName:y,photoURL:E}){if(void 0===y&&void 0===E)return;const I=(0,H.m9)(C),O={idToken:yield I.getIdToken(),displayName:y,photoUrl:E,returnSecureToken:!0},Z=yield Ue(I,vr(I.auth,O));I.displayName=Z.displayName||null,I.photoURL=Z.photoUrl||null;const ge=I.providerData.find(({providerId:xe})=>"password"===xe);ge&&(ge.displayName=I.displayName,ge.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Z)})).apply(this,arguments)}function rh(C,y,E){return yu.apply(this,arguments)}function yu(){return(yu=(0,m.Z)(function*(C,y,E){const{auth:I}=C,O={idToken:yield C.getIdToken(),returnSecureToken:!0};y&&(O.email=y),E&&(O.password=E);const Z=yield Ue(C,Xt(I,O));yield C._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class Ns{constructor(y,E,I={}){this.isNewUser=y,this.providerId=E,this.profile=I}}class tc extends Ns{constructor(y,E,I,x){super(y,E,I),this.username=x}}class Ip extends Ns{constructor(y,E){super(y,"facebook.com",E)}}class Dp extends tc{constructor(y,E){super(y,"github.com",E,"string"==typeof(null==E?void 0:E.login)?null==E?void 0:E.login:null)}}class Ly extends Ns{constructor(y,E){super(y,"google.com",E)}}class Vy extends tc{constructor(y,E,I){super(y,"twitter.com",E,I)}}function _u(C){const{user:y,_tokenResponse:E}=C;return y.isAnonymous&&!E?{providerId:null,isNewUser:!1,profile:null}:function(C){var y,E;if(!C)return null;const{providerId:I}=C,x=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},O=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!I&&(null==C?void 0:C.idToken)){const Z=null===(E=null===(y=Zt(C.idToken))||void 0===y?void 0:y.firebase)||void 0===E?void 0:E.sign_in_provider;if(Z)return new Ns(O,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!I)return null;switch(I){case"facebook.com":return new Ip(O,x);case"github.com":return new Dp(O,x);case"google.com":return new Ly(O,x);case"twitter.com":return new Vy(O,x,C.screenName||null);case"custom":case"anonymous":return new Ns(O,null);default:return new Ns(O,I,x)}}(E)}class Er{constructor(y,E){this.type=y,this.credential=E}static _fromIdtoken(y){return new Er("enroll",y)}static _fromMfaPendingCredential(y){return new Er("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var E,I;if(null==y?void 0:y.multiFactorSession){if(null===(E=y.multiFactorSession)||void 0===E?void 0:E.pendingCredential)return Er._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null===(I=y.multiFactorSession)||void 0===I?void 0:I.idToken)return Er._fromIdtoken(y.multiFactorSession.idToken)}return null}}class Yt{constructor(y,E,I){this.session=y,this.hints=E,this.signInResolver=I}static _fromError(y,E){const I=Tt(y),x=(E.serverResponse.mfaInfo||[]).map(Z=>Ds._fromServerResponse(I,Z));le(E.serverResponse.mfaPendingCredential,I,"internal-error");const O=Er._fromMfaPendingCredential(E.serverResponse.mfaPendingCredential);return new Yt(O,x,function(){var Z=(0,m.Z)(function*(ge){const xe=yield ge._process(I,O);delete E.serverResponse.mfaInfo,delete E.serverResponse.mfaPendingCredential;const je=Object.assign(Object.assign({},E.serverResponse),{idToken:xe.idToken,refreshToken:xe.refreshToken});switch(E.operationType){case"signIn":const Xe=yield Or._fromIdTokenResponse(I,E.operationType,je);return yield I._updateCurrentUser(Xe.user),Xe;case"reauthenticate":return le(E.user,I,"internal-error"),Or._forOperation(E.user,E.operationType,je);default:Ne(I,"internal-error")}});return function(ge){return Z.apply(this,arguments)}}())}resolveSignIn(y){var E=this;return(0,m.Z)(function*(){return E.signInResolver(y)})()}}function jy(C,y){return ft(C,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:C.tenantId},y))}class ih{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(E=>{E.mfaInfo&&(this.enrolledFactors=E.mfaInfo.map(I=>Ds._fromServerResponse(y.auth,I)))})}static _fromUser(y){return new ih(y)}getSession(){var y=this;return(0,m.Z)(function*(){return Er._fromIdtoken(yield y.user.getIdToken())})()}enroll(y,E){var I=this;return(0,m.Z)(function*(){const x=y,O=yield I.getSession(),Z=yield Ue(I.user,x._process(I.user.auth,O,E));return yield I.user._updateTokensIfNecessary(Z),I.user.reload()})()}unenroll(y){var E=this;return(0,m.Z)(function*(){const I="string"==typeof y?y:y.uid,x=yield E.user.getIdToken(),O=yield Ue(E.user,function(C,y){return ft(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:C.tenantId},y))}(E.user.auth,{idToken:x,mfaEnrollmentId:I}));E.enrolledFactors=E.enrolledFactors.filter(({uid:Z})=>Z!==I),yield E.user._updateTokensIfNecessary(O);try{yield E.user.reload()}catch(Z){if("auth/user-token-expired"!==Z.code)throw Z}})()}}const sh=new WeakMap,Co="__sak";class sc{constructor(y,E){this.storage=y,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(Co,"1"),this.storage.removeItem(Co),Promise.resolve(!0)):Promise.resolve(!1)}catch(y){return Promise.resolve(!1)}}_set(y,E){return this.storage.setItem(y,JSON.stringify(E)),Promise.resolve()}_get(y){const E=this.storage.getItem(y);return Promise.resolve(E?JSON.parse(E):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}}const Rs=(()=>{class C extends sc{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const C=(0,H.z$)();return vs(C)||Zi(C)}()&&function(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=$d(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(E){for(const I of Object.keys(this.listeners)){const x=this.storage.getItem(I),O=this.localCache[I];x!==O&&E(I,O,x)}}onStorageEvent(E,I=!1){if(!E.key)return void this.forAllChangedKeys((ge,xe,je)=>{this.notifyListeners(ge,je)});const x=E.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ge=this.storage.getItem(x);if(E.newValue!==ge)null!==E.newValue?this.storage.setItem(x,E.newValue):this.storage.removeItem(x);else if(this.localCache[x]===E.newValue&&!I)return}const O=()=>{const ge=this.storage.getItem(x);!I&&this.localCache[x]===ge||this.notifyListeners(x,ge)},Z=this.storage.getItem(x);(0,H.w1)()&&10===document.documentMode&&Z!==E.newValue&&E.newValue!==E.oldValue?setTimeout(O,10):O()}notifyListeners(E,I){this.localCache[E]=I;const x=this.listeners[E];if(x)for(const O of Array.from(x))O(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,I,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:I,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(I)}_removeListener(E,I){this.listeners[E]&&(this.listeners[E].delete(I),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,I){var x=()=>super._set,O=this;return(0,m.Z)(function*(){yield x().call(O,E,I),O.localCache[E]=JSON.stringify(I)})()}_get(E){var I=()=>super._get,x=this;return(0,m.Z)(function*(){const O=yield I().call(x,E);return x.localCache[E]=JSON.stringify(O),O})()}_remove(E){var I=()=>super._remove,x=this;return(0,m.Z)(function*(){yield I().call(x,E),delete x.localCache[E]})()}}return C.type="LOCAL",C})(),Ms=(()=>{class C extends sc{constructor(){super(window.sessionStorage,"SESSION")}_addListener(E,I){}_removeListener(E,I){}}return C.type="SESSION",C})();let Np=(()=>{class C{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const I=this.receivers.find(O=>O.isListeningto(E));if(I)return I;const x=new C(E);return this.receivers.push(x),x}isListeningto(E){return this.eventTarget===E}handleEvent(E){var I=this;return(0,m.Z)(function*(){const x=E,{eventId:O,eventType:Z,data:ge}=x.data,xe=I.handlersMap[Z];if(!(null==xe?void 0:xe.size))return;x.ports[0].postMessage({status:"ack",eventId:O,eventType:Z});const je=Array.from(xe).map(function(){var ze=(0,m.Z)(function*(Dn){return Dn(x.origin,ge)});return function(Dn){return ze.apply(this,arguments)}}()),Xe=yield function(C){return Promise.all(C.map(function(){var y=(0,m.Z)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(I){return{fulfilled:!1,reason:I}}});return function(E){return y.apply(this,arguments)}}()))}(je);x.ports[0].postMessage({status:"done",eventId:O,eventType:Z,response:Xe})})()}_subscribe(E,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(I)}_unsubscribe(E,I){this.handlersMap[E]&&I&&this.handlersMap[E].delete(I),(!I||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function vu(C="",y=10){let E="";for(let I=0;I<y;I++)E+=Math.floor(10*Math.random());return C+E}class Os{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,E,I=50){var x=this;return(0,m.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let Z,ge;return new Promise((xe,je)=>{const Xe=vu("",20);O.port1.start();const ze=setTimeout(()=>{je(new Error("unsupported_event"))},I);ge={messageChannel:O,onMessage(Dn){const vi=Dn;if(vi.data.eventId===Xe)switch(vi.data.status){case"ack":clearTimeout(ze),Z=setTimeout(()=>{je(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),xe(vi.data.response);break;default:clearTimeout(ze),clearTimeout(Z),je(new Error("invalid_response"))}}},x.handlers.add(ge),O.port1.addEventListener("message",ge.onMessage),x.target.postMessage({eventType:y,eventId:Xe,data:E},[O.port2])}).finally(()=>{ge&&x.removeMessageHandler(ge)})})()}}function Nn(){return window}function Ps(){return void 0!==Nn().WorkerGlobalScope&&"function"==typeof Nn().importScripts}function ac(){return(ac=(0,m.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const uh="firebaseLocalStorageDb",uc="firebaseLocalStorage",fa="fbase_key";class pa{constructor(y){this.request=y}toPromise(){return new Promise((y,E)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function ga(C,y){return C.transaction([uc],y?"readwrite":"readonly").objectStore(uc)}function lh(){const C=indexedDB.open(uh,1);return new Promise((y,E)=>{C.addEventListener("error",()=>{E(C.error)}),C.addEventListener("upgradeneeded",()=>{const I=C.result;try{I.createObjectStore(uc,{keyPath:fa})}catch(x){E(x)}}),C.addEventListener("success",(0,m.Z)(function*(){const I=C.result;I.objectStoreNames.contains(uc)?y(I):(I.close(),yield function(){const C=indexedDB.deleteDatabase(uh);return new pa(C).toPromise()}(),y(yield lh()))}))})}function ch(C,y,E){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,m.Z)(function*(C,y,E){const I=ga(C,!0).put({[fa]:y,value:E});return new pa(I).toPromise()})).apply(this,arguments)}function wr(){return(wr=(0,m.Z)(function*(C,y){const E=ga(C,!1).get(y),I=yield new pa(E).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function wu(C,y){const E=ga(C,!0).delete(y);return new pa(E).toPromise()}const sr=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,m.Z)(function*(){return E.db||(E.db=yield lh()),E.db})()}_withRetries(E){var I=this;return(0,m.Z)(function*(){let x=0;for(;;)try{const O=yield I._openDb();return yield E(O)}catch(O){if(x++>3)throw O;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,m.Z)(function*(){return Ps()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,m.Z)(function*(){E.receiver=Np._getInstance(Ps()?self:null),E.receiver._subscribe("keyChanged",function(){var I=(0,m.Z)(function*(x,O){return{keyProcessed:(yield E._poll()).includes(O.key)}});return function(x,O){return I.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var I=(0,m.Z)(function*(x,O){return["keyChanged"]});return function(x,O){return I.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,m.Z)(function*(){var I,x;if(E.activeServiceWorker=yield function(){return ac.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new Os(E.activeServiceWorker);const O=yield E.sender._send("ping",{},800);!O||(null===(I=O[0])||void 0===I?void 0:I.fulfilled)&&(null===(x=O[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var I=this;return(0,m.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:E},I.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const E=yield lh();return yield ch(E,Co,"1"),yield wu(E,Co),!0}catch(E){}return!1})()}_withPendingWrite(E){var I=this;return(0,m.Z)(function*(){I.pendingWrites++;try{yield E()}finally{I.pendingWrites--}})()}_set(E,I){var x=this;return(0,m.Z)(function*(){return x._withPendingWrite((0,m.Z)(function*(){return yield x._withRetries(O=>ch(O,E,I)),x.localCache[E]=I,x.notifyServiceWorker(E)}))})()}_get(E){var I=this;return(0,m.Z)(function*(){const x=yield I._withRetries(O=>function(C,y){return wr.apply(this,arguments)}(O,E));return I.localCache[E]=x,x})()}_remove(E){var I=this;return(0,m.Z)(function*(){return I._withPendingWrite((0,m.Z)(function*(){return yield I._withRetries(x=>wu(x,E)),delete I.localCache[E],I.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,m.Z)(function*(){const I=yield E._withRetries(Z=>{const ge=ga(Z,!1).getAll();return new pa(ge).toPromise()});if(!I)return[];if(0!==E.pendingWrites)return[];const x=[],O=new Set;for(const{fbase_key:Z,value:ge}of I)O.add(Z),JSON.stringify(E.localCache[Z])!==JSON.stringify(ge)&&(E.notifyListeners(Z,ge),x.push(Z));for(const Z of Object.keys(E.localCache))E.localCache[Z]&&!O.has(Z)&&(E.notifyListeners(Z,null),x.push(Z));return x})()}notifyListeners(E,I){this.localCache[E]=I;const x=this.listeners[E];if(x)for(const O of Array.from(x))O(I)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(I)}_removeListener(E,I){this.listeners[E]&&(this.listeners[E].delete(I),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function Rp(C,y){return ft(C,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:C.tenantId},y))}function Cr(){return(Cr=(0,m.Z)(function*(C){return(yield ft(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pp(C){return new Promise((y,E)=>{const I=document.createElement("script");I.setAttribute("src",C),I.onload=y,I.onerror=x=>{const O=Pe("internal-error");O.customData=x,E(O)},I.type="text/javascript",I.charset="UTF-8",function(){var C,y;return null!==(y=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==y?y:document}().appendChild(I)})}function ma(C){return`__${C}${Math.floor(1e6*Math.random())}`}const Du=1e12;class Wy{constructor(y){this.auth=y,this.counter=Du,this._widgets=new Map}render(y,E){const I=this.counter;return this._widgets.set(I,new Yi(y,this.auth.name,E||{})),this.counter++,I}reset(y){var E;const I=y||Du;null===(E=this._widgets.get(I))||void 0===E||E.delete(),this._widgets.delete(I)}getResponse(y){var E;return(null===(E=this._widgets.get(y||Du))||void 0===E?void 0:E.getResponse())||""}execute(y){var E=this;return(0,m.Z)(function*(){var I;return null===(I=E._widgets.get(y||Du))||void 0===I||I.execute(),""})()}}class Yi{constructor(y,E,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof y?document.getElementById(y):y;le(x,"argument-error",{appName:E}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(C){const y=[],E="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<50;I++)y.push(E.charAt(Math.floor(Math.random()*E.length)));return y.join("")}();const{callback:y,"expired-callback":E}=this.params;if(y)try{y(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,E)try{E()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Au=ma("rcb"),Su=new qe(3e4,6e4);class Io{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Nn().grecaptcha}load(y,E=""){return le((C=E).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C),y,"argument-error"),this.shouldResolveImmediately(E)?Promise.resolve(Nn().grecaptcha):new Promise((I,x)=>{const O=Nn().setTimeout(()=>{x(Pe(y,"network-request-failed"))},Su.get());Nn()[Au]=()=>{Nn().clearTimeout(O),delete Nn()[Au];const ge=Nn().grecaptcha;if(!ge)return void x(Pe(y,"internal-error"));const xe=ge.render;ge.render=(je,Xe)=>{const ze=xe(je,Xe);return this.counter++,ze},this.hostLanguage=E,I(ge)},Pp(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:Au,render:"explicit",hl:E})}`).catch(()=>{clearTimeout(O),x(Pe(y,"internal-error"))})});var C}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){return!!Nn().grecaptcha&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class it{load(y){return(0,m.Z)(function*(){return new Wy(y)})()}clearedOneInstance(){}}const Qi="recaptcha",an={theme:"light",type:"image"};class $w{constructor(y,E=Object.assign({},an),I){this.parameters=E,this.type=Qi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Tt(I),this.isInvisible="invisible"===this.parameters.size,le("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof y?document.getElementById(y):y;le(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new it:new Io,this.validateStartingState()}verify(){var y=this;return(0,m.Z)(function*(){y.assertNotDestroyed();const E=yield y.render(),I=y.getAssertedRecaptcha();return I.getResponse(E)||new Promise(O=>{const Z=ge=>{!ge||(y.tokenChangeListeners.delete(Z),O(ge))};y.tokenChangeListeners.add(Z),y.isInvisible&&I.execute(E)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){le(!this.parameters.sitekey,this.auth,"argument-error"),le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),le("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return E=>{if(this.tokenChangeListeners.forEach(I=>I(E)),"function"==typeof y)y(E);else if("string"==typeof y){const I=Nn()[y];"function"==typeof I&&I(E)}}}assertNotDestroyed(){le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,m.Z)(function*(){if(yield y.init(),!y.widgetId){let E=y.container;if(!y.isInvisible){const I=document.createElement("div");E.appendChild(I),E=I}y.widgetId=y.getAssertedRecaptcha().render(E,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,m.Z)(function*(){le(Q()&&!Ps(),y.auth,"internal-error"),yield function(){let C=null;return new Promise(y=>{"complete"!==document.readyState?(C=()=>y(),window.addEventListener("load",C)):y()}).catch(y=>{throw C&&window.removeEventListener("load",C),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const E=yield function(C){return Cr.apply(this,arguments)}(y.auth);le(E,y.auth,"internal-error"),y.parameters.sitekey=E})()}getAssertedRecaptcha(){return le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class kp{constructor(y,E){this.verificationId=y,this.onConfirmation=E}confirm(y){const E=ca._fromVerification(this.verificationId,y);return this.onConfirmation(E)}}function xu(){return(xu=(0,m.Z)(function*(C,y,E){const I=Tt(C),x=yield hh(I,y,(0,H.m9)(E));return new kp(x,O=>zl(I,O))})).apply(this,arguments)}function dh(){return(dh=(0,m.Z)(function*(C,y,E){const I=(0,H.m9)(C);yield hu(!1,I,"phone");const x=yield hh(I.auth,y,(0,H.m9)(E));return new kp(x,O=>yp(I,O))})).apply(this,arguments)}function _a(){return(_a=(0,m.Z)(function*(C,y,E){const I=(0,H.m9)(C),x=yield hh(I.auth,y,(0,H.m9)(E));return new kp(x,O=>_p(I,O))})).apply(this,arguments)}function hh(C,y,E){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,m.Z)(function*(C,y,E){var I;const x=yield E.verify();try{let O;if(le("string"==typeof x,C,"argument-error"),le(E.type===Qi,C,"argument-error"),O="string"==typeof y?{phoneNumber:y}:y,"session"in O){const Z=O.session;if("phoneNumber"in O)return le("enroll"===Z.type,C,"internal-error"),(yield jy(C,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{le("signin"===Z.type,C,"internal-error");const ge=(null===(I=O.multiFactorHint)||void 0===I?void 0:I.uid)||O.multiFactorUid;return le(ge,C,"missing-multi-factor-info"),(yield Rp(C,{mfaPendingCredential:Z.credential,mfaEnrollmentId:ge,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield Ul(C,{phoneNumber:O.phoneNumber,recaptchaToken:x});return Z}}finally{E._reset()}})).apply(this,arguments)}function Lp(){return(Lp=(0,m.Z)(function*(C,y){yield Pr((0,H.m9)(C),y)})).apply(this,arguments)}let lc=(()=>{class C{constructor(E){this.providerId=C.PROVIDER_ID,this.auth=Tt(E)}verifyPhoneNumber(E,I){return hh(this.auth,E,(0,H.m9)(I))}static credential(E,I){return ca._fromVerification(E,I)}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{phoneNumber:I,temporaryProof:x}=E;return I&&x?ca._fromTokenResponse(I,x):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function ti(C,y){return y?ne(y):(le(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Vp extends Yr{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return zi(y,this._buildIdpRequest())}_linkToIdToken(y,E){return zi(y,this._buildIdpRequest(E))}_getReauthenticationResolver(y){return zi(y,this._buildIdpRequest())}_buildIdpRequest(y){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(E.idToken=y),E}}function qw(C){return Wl(C.auth,new Vp(C),C.bypassAuthState)}function In(C){const{auth:y,user:E}=C;return le(E,y,"internal-error"),da(E,new Vp(C),C.bypassAuthState)}function cc(C){return en.apply(this,arguments)}function en(){return(en=(0,m.Z)(function*(C){const{auth:y,user:E}=C;return le(E,y,"internal-error"),Pr(E,new Vp(C),C.bypassAuthState)})).apply(this,arguments)}class Ru{constructor(y,E,I,x,O=!1){this.auth=y,this.resolver=I,this.user=x,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var y=this;return new Promise(function(){var E=(0,m.Z)(function*(I,x){y.pendingPromise={resolve:I,reject:x};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(O){y.reject(O)}});return function(I,x){return E.apply(this,arguments)}}())}onAuthEvent(y){var E=this;return(0,m.Z)(function*(){const{urlResponse:I,sessionId:x,postBody:O,tenantId:Z,error:ge,type:xe}=y;if(ge)return void E.reject(ge);const je={auth:E.auth,requestUri:I,sessionId:x,tenantId:Z||void 0,postBody:O||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(xe)(je))}catch(Xe){E.reject(Xe)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return qw;case"linkViaPopup":case"linkViaRedirect":return cc;case"reauthViaPopup":case"reauthViaRedirect":return In;default:Ne(this.auth,"internal-error")}}resolve(y){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dc=new qe(2e3,1e4);function fh(){return(fh=(0,m.Z)(function*(C,y,E){const I=Tt(C);le(y instanceof Cs,C,"argument-error");const x=ti(I,E);return new Ai(I,"signInViaPopup",y,x).executeNotNull()})).apply(this,arguments)}function ri(){return(ri=(0,m.Z)(function*(C,y,E){const I=(0,H.m9)(C);le(y instanceof Cs,I.auth,"argument-error");const x=ti(I.auth,E);return new Ai(I.auth,"reauthViaPopup",y,x,I).executeNotNull()})).apply(this,arguments)}function Ji(){return(Ji=(0,m.Z)(function*(C,y,E){const I=(0,H.m9)(C);le(y instanceof Cs,I.auth,"argument-error");const x=ti(I.auth,E);return new Ai(I.auth,"linkViaPopup",y,x,I).executeNotNull()})).apply(this,arguments)}let Ai=(()=>{class C extends Ru{constructor(E,I,x,O,Z){super(E,I,O,Z),this.provider=x,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var E=this;return(0,m.Z)(function*(){const I=yield E.execute();return le(I,E.auth,"internal-error"),I})()}onExecution(){var E=this;return(0,m.Z)(function*(){nt(1===E.filter.length,"Popup operations only handle one event");const I=vu();E.authWindow=yield E.resolver._openPopup(E.auth,E.provider,E.filter[0],I),E.authWindow.associatedEvent=I,E.resolver._originValidation(E.auth).catch(x=>{E.reject(x)}),E.resolver._isIframeWebStorageSupported(E.auth,x=>{x||E.reject(Pe(E.auth,"web-storage-unsupported"))}),E.pollUserCancellation()})()}get eventId(){var E;return(null===(E=this.authWindow)||void 0===E?void 0:E.associatedEvent)||null}cancel(){this.reject(Pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const E=()=>{var I,x;this.pollId=(null===(x=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Pe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(E,dc.get())};E()}}return C.currentPopupAction=null,C})();const gh=new Map;class Do extends Ru{constructor(y,E,I=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,I),this.eventId=null}execute(){var y=()=>super.execute,E=this;return(0,m.Z)(function*(){let I=gh.get(E.auth._key());if(!I){try{const O=(yield function(C,y){return Up.apply(this,arguments)}(E.resolver,E.auth))?yield y().call(E):null;I=()=>Promise.resolve(O)}catch(x){I=()=>Promise.reject(x)}gh.set(E.auth._key(),I)}return I()})()}onAuthEvent(y){var E=()=>super.onAuthEvent,I=this;return(0,m.Z)(function*(){if("signInViaRedirect"===y.type)return E().call(I,y);if("unknown"!==y.type){if(y.eventId){const x=yield I.auth._redirectUserForId(y.eventId);if(x)return I.user=x,E().call(I,y);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function Up(){return(Up=(0,m.Z)(function*(C,y){const E=Xi(y),I="true"===(yield Fs(C)._get(E));return yield Fs(C)._remove(E),I})).apply(this,arguments)}function Ou(C,y){return or.apply(this,arguments)}function or(){return(or=(0,m.Z)(function*(C,y){return Fs(C)._set(Xi(y),"true")})).apply(this,arguments)}function Fs(C){return ne(C._redirectPersistence)}function Xi(C){return pt("pendingRedirect",C.config.apiKey,C.name)}function fc(){return(fc=(0,m.Z)(function*(C,y,E){const I=Tt(C);le(y instanceof Cs,C,"argument-error");const x=ti(I,E);return yield Ou(x,I),x._openRedirect(I,y,"signInViaRedirect")})).apply(this,arguments)}function yh(){return(yh=(0,m.Z)(function*(C,y,E){const I=(0,H.m9)(C);le(y instanceof Cs,I.auth,"argument-error");const x=ti(I.auth,E);yield Ou(x,I.auth);const O=yield Bp(I);return x._openRedirect(I.auth,y,"reauthViaRedirect",O)})).apply(this,arguments)}function va(){return(va=(0,m.Z)(function*(C,y,E){const I=(0,H.m9)(C);le(y instanceof Cs,I.auth,"argument-error");const x=ti(I.auth,E);yield hu(!1,I,y.providerId),yield Ou(x,I.auth);const O=yield Bp(I);return x._openRedirect(I.auth,y,"linkViaRedirect",O)})).apply(this,arguments)}function Ls(){return(Ls=(0,m.Z)(function*(C,y){return yield Tt(C)._initializationPromise,Ea(C,y,!1)})).apply(this,arguments)}function Ea(C,y){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,m.Z)(function*(C,y,E=!1){const I=Tt(C),x=ti(I,y),Z=yield new Do(I,x,E).execute();return Z&&!E&&(delete Z.user._redirectEventId,yield I._persistUserIfCurrent(Z.user),yield I._setRedirectUser(null,y)),Z})).apply(this,arguments)}function Bp(C){return vh.apply(this,arguments)}function vh(){return(vh=(0,m.Z)(function*(C){const y=vu(`${C.uid}:::`);return C._redirectEventId=y,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),y})).apply(this,arguments)}class at{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let E=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(y,I)&&(E=!0,this.sendToConsumer(y,I),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return es(C);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=y,E=!0)),E}sendToConsumer(y,E){var I;if(y.error&&!es(y)){const x=(null===(I=y.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";E.onError(Pe(this.auth,x))}else E.onAuthEvent(y)}isEventForConsumer(y,E){const I=null===E.eventId||!!y.eventId&&y.eventId===E.eventId;return E.filter.includes(y.type)&&I}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xy(y))}saveEventToCache(y){this.cachedEventUids.add(Xy(y)),this.lastProcessedEventTime=Date.now()}}function Xy(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(y=>y).join("-")}function es({type:C,error:y}){return"unknown"===C&&"auth/no-auth-event"===(null==y?void 0:y.code)}function ts(C){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,m.Z)(function*(C,y={}){return ft(C,"GET","/v1/projects",y)})).apply(this,arguments)}const Cn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hp=/^https?/;function Si(){return(Si=(0,m.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:y}=yield ts(C);for(const E of y)try{if(Ca(E))return}catch(I){}Ne(C,"unauthorized-domain")})).apply(this,arguments)}function Ca(C){const y=ae(),{protocol:E,hostname:I}=new URL(y);if(C.startsWith("chrome-extension://")){const Z=new URL(C);return""===Z.hostname&&""===I?"chrome-extension:"===E&&C.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===E&&Z.hostname===I}if(!Hp.test(E))return!1;if(Cn.test(C))return I===C;const x=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(I)}const $p=new qe(3e4,6e4);function Gp(){const C=Nn().___jsl;if(null==C?void 0:C.H)for(const y of Object.keys(C.H))if(C.H[y].r=C.H[y].r||[],C.H[y].L=C.H[y].L||[],C.H[y].r=[...C.H[y].L],C.CP)for(let E=0;E<C.CP.length;E++)C.CP[E]=null}let si=null;function ba(C){return si=si||function(C){return new Promise((y,E)=>{var I,x,O;function Z(){Gp(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{Gp(),E(Pe(C,"network-request-failed"))},timeout:$p.get()})}if(null===(x=null===(I=Nn().gapi)||void 0===I?void 0:I.iframes)||void 0===x?void 0:x.Iframe)y(gapi.iframes.getContext());else{if(!(null===(O=Nn().gapi)||void 0===O?void 0:O.load)){const ge=ma("iframefcb");return Nn()[ge]=()=>{gapi.load?Z():E(Pe(C,"network-request-failed"))},Pp(`https://apis.google.com/js/api.js?onload=${ge}`)}Z()}}).catch(y=>{throw si=null,y})}(C),si}const rs=new qe(5e3,15e3),e_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},wh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ch(C){const y=C.config;le(y.authDomain,C,"auth-domain-config-required");const E=y.emulator?lt(y,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,I={apiKey:y.apiKey,appName:C.name,v:te.SDK_VERSION},x=wh.get(C.config.apiHost);x&&(I.eid=x);const O=C._getFrameworks();return O.length&&(I.fw=O.join(",")),`${E}?${(0,H.xO)(I).slice(1)}`}function Vu(){return(Vu=(0,m.Z)(function*(C){const y=yield ba(C),E=Nn().gapi;return le(E,C,"internal-error"),y.open({where:document.body,url:Ch(C),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:e_,dontclear:!0},I=>new Promise(function(){var x=(0,m.Z)(function*(O,Z){yield I.restyle({setHideOnLeave:!1});const ge=Pe(C,"network-request-failed"),xe=Nn().setTimeout(()=>{Z(ge)},rs.get());function je(){Nn().clearTimeout(xe),O(I)}I.ping(je).then(je,()=>{Z(ge)})});return function(O,Z){return x.apply(this,arguments)}}()))})).apply(this,arguments)}const pc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ao{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(y){}}}function Ia(C,y,E,I,x,O){le(C.config.authDomain,C,"auth-domain-config-required"),le(C.config.apiKey,C,"invalid-api-key");const Z={apiKey:C.config.apiKey,appName:C.name,authType:E,redirectUrl:I,v:te.SDK_VERSION,eventId:x};if(y instanceof Cs){y.setDefaultLanguage(C.languageCode),Z.providerId=y.providerId||"",(0,H.xb)(y.getCustomParameters())||(Z.customParameters=JSON.stringify(y.getCustomParameters()));for(const[xe,je]of Object.entries(O||{}))Z[xe]=je}if(y instanceof cu){const xe=y.getScopes().filter(je=>""!==je);xe.length>0&&(Z.scopes=xe.join(","))}C.tenantId&&(Z.tid=C.tenantId);const ge=Z;for(const xe of Object.keys(ge))void 0===ge[xe]&&delete ge[xe];return`${function({config:C}){return C.emulator?lt(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,H.xO)(ge).slice(1)}`}const So="webStorageSupport";class Ta extends class{constructor(y){this.factorId=y}_process(y,E,I){switch(E.type){case"enroll":return this._finalizeEnroll(y,E.credential,I);case"signin":return this._finalizeSignIn(y,E.credential);default:return Ct("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new Ta(y)}_finalizeEnroll(y,E,I){return function(C,y){return ft(C,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:C.tenantId},y))}(y,{idToken:E,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,E){return function(C,y){return ft(C,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:C.tenantId},y))}(y,{mfaPendingCredential:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class i_{constructor(){}static assertion(y){return Ta._fromCredential(y)}}var C;class Zp{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var E=this;return(0,m.Z)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const E=this.auth.onIdTokenChanged(I=>{var x;y((null===(x=I)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,E),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const E=this.internalListeners.get(y);!E||(this.internalListeners.delete(y),E(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function No(){return window}function Th(){return(Th=(0,m.Z)(function*(C,y,E){var I;const{BuildInfo:x}=No();nt(y.sessionId,"AuthEvent did not contain a session ID");const O=yield Yp(y.sessionId),Z={};return Zi()?Z.ibi=x.packageName:ra()?Z.apn=x.packageName:Ne(C,"operation-not-supported-in-this-environment"),x.displayName&&(Z.appDisplayName=x.displayName),Z.sessionId=O,Ia(C,E,y.type,void 0,null!==(I=y.eventId)&&void 0!==I?I:void 0,Z)})).apply(this,arguments)}function Vr(){return(Vr=(0,m.Z)(function*(C){const{BuildInfo:y}=No(),E={};Zi()?E.iosBundleId=y.packageName:ra()?E.androidPackageName=y.packageName:Ne(C,"operation-not-supported-in-this-environment"),yield ts(C,E)})).apply(this,arguments)}function Ro(){return(Ro=(0,m.Z)(function*(C,y,E){const{cordova:I}=No();let x=()=>{};try{yield new Promise((O,Z)=>{let ge=null;function xe(){var ze;O();const Dn=null===(ze=I.plugins.browsertab)||void 0===ze?void 0:ze.close;"function"==typeof Dn&&Dn(),"function"==typeof(null==E?void 0:E.close)&&E.close()}function je(){ge||(ge=window.setTimeout(()=>{Z(Pe(C,"redirect-cancelled-by-user"))},2e3))}function Xe(){"visible"===(null==document?void 0:document.visibilityState)&&je()}y.addPassiveListener(xe),document.addEventListener("resume",je,!1),ra()&&document.addEventListener("visibilitychange",Xe,!1),x=()=>{y.removePassiveListener(xe),document.removeEventListener("resume",je,!1),document.removeEventListener("visibilitychange",Xe,!1),ge&&window.clearTimeout(ge)}})}finally{x()}})).apply(this,arguments)}function Yp(C){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,m.Z)(function*(C){const y=Sa(C),E=yield crypto.subtle.digest("SHA-256",y);return Array.from(new Uint8Array(E)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Sa(C){if(nt(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(C);const y=new ArrayBuffer(C.length),E=new Uint8Array(y);for(let I=0;I<C.length;I++)E[I]=C.charCodeAt(I);return E}C="Browser",(0,te._registerComponent)(new ye.wA("auth",(y,{options:E})=>{const I=y.getProvider("app").getImmediate(),{apiKey:x,authDomain:O}=I.options;return(Z=>{le(x&&!x.includes(":"),"invalid-api-key",{appName:Z.name}),le(!(null==O?void 0:O.includes(":")),"argument-error",{appName:Z.name});const ge={apiKey:x,authDomain:O,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ti(C)},xe=new go(Z,ge);return function(C,y){const E=(null==y?void 0:y.persistence)||[],I=(Array.isArray(E)?E:[E]).map(ne);(null==y?void 0:y.errorMap)&&C._updateErrorMap(y.errorMap),C._initializeWithPersistence(I,null==y?void 0:y.popupRedirectResolver)}(xe,E),xe})(I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,E,I)=>{y.getProvider("auth-internal").initialize()})),(0,te._registerComponent)(new ye.wA("auth-internal",y=>{const E=Tt(y.getProvider("auth").getImmediate());return new Zp(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,te.registerVersion)("@firebase/auth","0.17.1",void 0);class a_ extends at{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(y=>{this.resolveInialized=y})}addPassiveListener(y){this.passiveListeners.add(y)}removePassiveListener(y){this.passiveListeners.delete(y)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(y){return this.resolveInialized(),this.passiveListeners.forEach(E=>E(y)),super.onEvent(y)}initialized(){var y=this;return(0,m.Z)(function*(){yield y.initPromise})()}}function mc(C){return xh.apply(this,arguments)}function xh(){return(xh=(0,m.Z)(function*(C){const y=yield yc()._get(ar(C));return y&&(yield yc()._remove(ar(C))),y})).apply(this,arguments)}function Mo(){const C=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<20;E++){const I=Math.floor(Math.random()*y.length);C.push(y.charAt(I))}return C.join("")}function yc(){return ne(Rs)}function ar(C){return pt("authEvent",C.config.apiKey,C.name)}function Hu(C){if(!(null==C?void 0:C.includes("?")))return{};const[y,...E]=C.split("?");return(0,H.zd)(E.join("?"))}function Mh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Pe("no-auth-event")}}function Ph(){var C;return(null===(C=null==self?void 0:self.location)||void 0===C?void 0:C.protocol)||null}function ng(C=(0,H.z$)()){return!("file:"!==Ph()&&"ionic:"!==Ph()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function $u(){try{const C=self.localStorage,y=vu();if(C)return C.setItem(y,"1"),C.removeItem(y),!function(C=(0,H.z$)()){return(0,H.w1)()&&11===(null==document?void 0:document.documentMode)||function(C=(0,H.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,H.hl)()}catch(C){return Gu()&&(0,H.hl)()}return!1}function Gu(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Na(){return("http:"===Ph()||"https:"===Ph()||(0,H.ru)()||ng())&&!((0,H.b$)()||(0,H.UG)())&&$u()&&!Gu()}function ig(){return ng()&&"undefined"!=typeof document}function bc(){return(bc=(0,m.Z)(function*(){return!!ig()&&new Promise(C=>{const y=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(y),C(!0)})})})).apply(this,arguments)}const Ur={LOCAL:"local",NONE:"none",SESSION:"session"},os=le,Ni="persistence";function as(C){return kh.apply(this,arguments)}function kh(){return(kh=(0,m.Z)(function*(C){yield C._initializationPromise;const y=sg(),E=pt(Ni,C.config.apiKey,C.name);(null==y?void 0:y.sessionStorage)&&y.sessionStorage.setItem(E,C._getPersistence())})).apply(this,arguments)}function sg(){return"undefined"!=typeof window?window:null}const Zw=le;class _i{constructor(){this.browserResolver=ne(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ms,this._completeRedirectFn=Ea}_openPopup(y,E,I,x){var O=this;return(0,m.Z)(function*(){var Z;nt(null===(Z=O.eventManagers[y._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const ge=Ia(y,E,I,ae(),x);return function(C,y,E,I=500,x=600){const O=Math.max((window.screen.availHeight-x)/2,0).toString(),Z=Math.max((window.screen.availWidth-I)/2,0).toString();let ge="";const xe=Object.assign(Object.assign({},pc),{width:I.toString(),height:x.toString(),top:O,left:Z}),je=(0,H.z$)().toLowerCase();E&&(ge=na(je)?"_blank":E),xn(je)&&(y=y||"http://localhost",xe.scrollbars="yes");const Xe=Object.entries(xe).reduce((Dn,[vi,Mi])=>`${Dn}${vi}=${Mi},`,"");if(function(C=(0,H.z$)()){var y;return Zi(C)&&!!(null===(y=window.navigator)||void 0===y?void 0:y.standalone)}(je)&&"_self"!==ge)return function(C,y){const E=document.createElement("a");E.href=C,E.target=y;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(I)}(y||"",ge),new Ao(null);const ze=window.open(y||"",ge,Xe);le(ze,C,"popup-blocked");try{ze.focus()}catch(Dn){}return new Ao(ze)}(y,ge,vu())})()}_openRedirect(y,E,I,x){var O=this;return(0,m.Z)(function*(){return yield O._originValidation(y),C=Ia(y,E,I,ae(),x),Nn().location.href=C,new Promise(()=>{});var C})()}_initialize(y){const E=y._key();if(this.eventManagers[E]){const{manager:x,promise:O}=this.eventManagers[E];return x?Promise.resolve(x):(nt(O,"If manager is not set, promise should be"),O)}const I=this.initAndGetManager(y);return this.eventManagers[E]={promise:I},I}initAndGetManager(y){var E=this;return(0,m.Z)(function*(){const I=yield function(C){return Vu.apply(this,arguments)}(y),x=new at(y);return I.register("authEvent",O=>(le(null==O?void 0:O.authEvent,y,"invalid-auth-event"),{status:x.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[y._key()]={manager:x},E.iframes[y._key()]=I,x})()}_isIframeWebStorageSupported(y,E){this.iframes[y._key()].send(So,{type:So},x=>{var O;const Z=null===(O=null==x?void 0:x[0])||void 0===O?void 0:O[So];void 0!==Z&&E(!!Z),Ne(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const E=y._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function(C){return Si.apply(this,arguments)}(y)),this.originValidationPromises[E]}get _shouldInitProactively(){return $d()||vs()||Zi()}}),this.cordovaResolver=ne(class{constructor(){this._redirectPersistence=Ms,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ea}_initialize(y){var E=this;return(0,m.Z)(function*(){const I=y._key();let x=E.eventManagers.get(I);return x||(x=new a_(y),E.eventManagers.set(I,x),E.attachCallbackListeners(y,x)),x})()}_openPopup(y){Ne(y,"operation-not-supported-in-this-environment")}_openRedirect(y,E,I,x){var O=this;return(0,m.Z)(function*(){!function(C){var y,E,I,x,O,Z,ge,xe,je,Xe;const ze=No();le("function"==typeof(null===(y=null==ze?void 0:ze.universalLinks)||void 0===y?void 0:y.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),le(void 0!==(null===(E=null==ze?void 0:ze.BuildInfo)||void 0===E?void 0:E.packageName),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),le("function"==typeof(null===(O=null===(x=null===(I=null==ze?void 0:ze.cordova)||void 0===I?void 0:I.plugins)||void 0===x?void 0:x.browsertab)||void 0===O?void 0:O.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le("function"==typeof(null===(xe=null===(ge=null===(Z=null==ze?void 0:ze.cordova)||void 0===Z?void 0:Z.plugins)||void 0===ge?void 0:ge.browsertab)||void 0===xe?void 0:xe.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le("function"==typeof(null===(Xe=null===(je=null==ze?void 0:ze.cordova)||void 0===je?void 0:je.InAppBrowser)||void 0===Xe?void 0:Xe.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(y);const Z=yield O._initialize(y);yield Z.initialized(),Z.resetRedirect(),gh.clear(),yield O._originValidation(y);const ge=function(C,y,E=null){return{type:y,eventId:E,urlResponse:null,sessionId:Mo(),postBody:null,tenantId:C.tenantId,error:Pe(C,"no-auth-event")}}(y,I,x);yield function(C,y){return yc()._set(ar(C),y)}(y,ge);const xe=yield function(C,y,E){return Th.apply(this,arguments)}(y,ge,E),je=yield function(C){const{cordova:y}=No();return new Promise(E=>{y.plugins.browsertab.isAvailable(I=>{let x=null;I?y.plugins.browsertab.openUrl(C):x=y.InAppBrowser.open(C,function(C=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),E(x)})})}(xe);return function(C,y,E){return Ro.apply(this,arguments)}(y,Z,je)})()}_isIframeWebStorageSupported(y,E){throw new Error("Method not implemented.")}_originValidation(y){const E=y._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function(C){return Vr.apply(this,arguments)}(y)),this.originValidationPromises[E]}attachCallbackListeners(y,E){const{universalLinks:I,handleOpenURL:x,BuildInfo:O}=No(),Z=setTimeout((0,m.Z)(function*(){yield mc(y),E.onEvent(Mh())}),500),ge=function(){var Xe=(0,m.Z)(function*(ze){clearTimeout(Z);const Dn=yield mc(y);let vi=null;Dn&&(null==ze?void 0:ze.url)&&(vi=function(C,y){var E,I;const x=function(C){const y=Hu(C),E=y.link?decodeURIComponent(y.link):void 0,I=Hu(E).link,x=y.deep_link_id?decodeURIComponent(y.deep_link_id):void 0;return Hu(x).link||x||I||E||C}(y);if(x.includes("/__/auth/callback")){const O=Hu(x),Z=O.firebaseError?function(C){try{return JSON.parse(C)}catch(y){return null}}(decodeURIComponent(O.firebaseError)):null,ge=null===(I=null===(E=null==Z?void 0:Z.code)||void 0===E?void 0:E.split("auth/"))||void 0===I?void 0:I[1],xe=ge?Pe(ge):null;return xe?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:xe,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:x,postBody:null}}return null}(Dn,ze.url)),E.onEvent(vi||Mh())});return function(Dn){return Xe.apply(this,arguments)}}();void 0!==I&&"function"==typeof I.subscribe&&I.subscribe(null,ge);const xe=x,je=`${O.packageName.toLowerCase()}://`;No().handleOpenURL=function(){var Xe=(0,m.Z)(function*(ze){if(ze.toLowerCase().startsWith(je)&&ge({url:ze}),"function"==typeof xe)try{xe(ze)}catch(Dn){console.error(Dn)}});return function(ze){return Xe.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ms,this._completeRedirectFn=Ea}_initialize(y){var E=this;return(0,m.Z)(function*(){return yield E.selectUnderlyingResolver(),E.assertedUnderlyingResolver._initialize(y)})()}_openPopup(y,E,I,x){var O=this;return(0,m.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(y,E,I,x)})()}_openRedirect(y,E,I,x){var O=this;return(0,m.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(y,E,I,x)})()}_isIframeWebStorageSupported(y,E){this.assertedUnderlyingResolver._isIframeWebStorageSupported(y,E)}_originValidation(y){return this.assertedUnderlyingResolver._originValidation(y)}get _shouldInitProactively(){return ig()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zw(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var y=this;return(0,m.Z)(function*(){if(y.underlyingResolver)return;const E=yield function(){return bc.apply(this,arguments)}();y.underlyingResolver=E?y.cordovaResolver:y.browserResolver})()}}function Ri(C){return C.unwrap()}function Ic(C){return Fh(C)}function og(C,y){var E;const I=null===(E=y.customData)||void 0===E?void 0:E._tokenResponse;if("auth/multi-factor-auth-required"===y.code)y.resolver=new Tc(C,function(C,y){var E;const I=(0,H.m9)(C),x=y;return le(y.operationType,I,"argument-error"),le(null===(E=x.serverResponse)||void 0===E?void 0:E.mfaPendingCredential,I,"argument-error"),Yt._fromError(I,x)}(C,y));else if(I){const x=Fh(y),O=y;x&&(O.credential=x,O.tenantId=I.tenantId||void 0,O.email=I.email||void 0,O.phoneNumber=I.phoneNumber||void 0)}}function Fh(C){const{_tokenResponse:y}=C instanceof H.ZR?C.customData:C;if(!y)return null;if(!(C instanceof H.ZR)&&"temporaryProof"in y&&"phoneNumber"in y)return lc.credentialFromResult(C);const E=y.providerId;if(!E||"password"===E)return null;let I;switch(E){case"google.com":I=zd;break;case"facebook.com":I=My;break;case"github.com":I=Kd;break;case"twitter.com":I=Oy;break;default:const{oauthIdToken:x,oauthAccessToken:O,oauthTokenSecret:Z,pendingToken:ge,nonce:xe}=y;return O||Z||x||ge?ge?E.startsWith("saml.")?_o._create(E,ge):Jr._fromParams({providerId:E,signInMethod:E,pendingToken:ge,idToken:x,accessToken:O}):new du(E).credential({idToken:x,accessToken:O,rawNonce:xe}):null}return C instanceof H.ZR?I.credentialFromError(C):I.credentialFromResult(C)}function At(C,y){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,m.Z)(function*(C,y){let E;try{E=yield y}catch(O){throw O instanceof H.ZR&&og(C,O),O}const{operationType:I,user:x}=E;return{operationType:I,credential:Ic(E),additionalUserInfo:_u(E),user:Br.getOrCreate(x)}})).apply(this,arguments)}function Ra(C,y){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,m.Z)(function*(C,y){const E=yield y;return{verificationId:E.verificationId,confirm:I=>At(C,E.confirm(I))}})).apply(this,arguments)}class Tc{constructor(y,E){this.resolver=E,this.auth=function(C){return C.wrapped()}(y)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(y){return At(Ri(this.auth),this.resolver.resolveSignIn(y))}}class Br{constructor(y){this._delegate=y,this.multiFactor=function(C){const y=(0,H.m9)(C);return sh.has(y)||sh.set(y,ih._fromUser(y)),sh.get(y)}(y)}static getOrCreate(y){return Br.USER_MAP.has(y)||Br.USER_MAP.set(y,new Br(y)),Br.USER_MAP.get(y)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(y){return this._delegate.getIdTokenResult(y)}getIdToken(y){return this._delegate.getIdToken(y)}linkAndRetrieveDataWithCredential(y){return this.linkWithCredential(y)}linkWithCredential(y){var E=this;return(0,m.Z)(function*(){return At(E.auth,yp(E._delegate,y))})()}linkWithPhoneNumber(y,E){var I=this;return(0,m.Z)(function*(){return Ra(I.auth,function(C,y,E){return dh.apply(this,arguments)}(I._delegate,y,E))})()}linkWithPopup(y){var E=this;return(0,m.Z)(function*(){return At(E.auth,function(C,y,E){return Ji.apply(this,arguments)}(E._delegate,y,_i))})()}linkWithRedirect(y){var E=this;return(0,m.Z)(function*(){return yield as(Tt(E.auth)),function(C,y,E){return function(C,y,E){return va.apply(this,arguments)}(C,y,E)}(E._delegate,y,_i)})()}reauthenticateAndRetrieveDataWithCredential(y){return this.reauthenticateWithCredential(y)}reauthenticateWithCredential(y){var E=this;return(0,m.Z)(function*(){return At(E.auth,_p(E._delegate,y))})()}reauthenticateWithPhoneNumber(y,E){return Ra(this.auth,function(C,y,E){return _a.apply(this,arguments)}(this._delegate,y,E))}reauthenticateWithPopup(y){return At(this.auth,function(C,y,E){return ri.apply(this,arguments)}(this._delegate,y,_i))}reauthenticateWithRedirect(y){var E=this;return(0,m.Z)(function*(){return yield as(Tt(E.auth)),function(C,y,E){return function(C,y,E){return yh.apply(this,arguments)}(C,y,E)}(E._delegate,y,_i)})()}sendEmailVerification(y){return function(C,y){return Cp.apply(this,arguments)}(this._delegate,y)}unlink(y){var E=this;return(0,m.Z)(function*(){return yield function(C,y){return Qd.apply(this,arguments)}(E._delegate,y),E})()}updateEmail(y){return function(C,y){return rh((0,H.m9)(C),y,null)}(this._delegate,y)}updatePassword(y){return function(C,y){return rh((0,H.m9)(C),null,y)}(this._delegate,y)}updatePhoneNumber(y){return function(C,y){return Lp.apply(this,arguments)}(this._delegate,y)}updateProfile(y){return function(C,y){return xs.apply(this,arguments)}(this._delegate,y)}verifyBeforeUpdateEmail(y,E){return function(C,y,E){return Ss.apply(this,arguments)}(this._delegate,y,E)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Br.USER_MAP=new WeakMap;const qu=le;let Lh=(()=>{class C{constructor(E,I){if(this.app=E,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=E.options;qu(x,"invalid-api-key",{appName:E.name});let O=[vt];if("undefined"!=typeof window){O=function(C,y){const E=sg();if(!(null==E?void 0:E.sessionStorage))return[];const I=pt(Ni,C,y);switch(E.sessionStorage.getItem(I)){case Ur.NONE:return[vt];case Ur.LOCAL:return[sr,Ms];case Ur.SESSION:return[Ms];default:return[]}}(x,E.name);for(const ge of[sr,Rs,Ms])O.includes(ge)||O.push(ge)}qu(x,"invalid-api-key",{appName:E.name});const Z="undefined"!=typeof window?_i:void 0;this._delegate=I.initialize({options:{persistence:O,popupRedirectResolver:Z}}),this._delegate._updateErrorMap(ue),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Br.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(E){this._delegate.languageCode=E}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(E){this._delegate.tenantId=E}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(E,I){!function(C,y,E){const I=Tt(C);le(I._canInitEmulator,I,"emulator-config-failed"),le(/^https?:\/\//.test(y),I,"invalid-emulator-scheme");const x=!!(null==E?void 0:E.disableWarnings),O=Fe(y),{host:Z,port:ge}=function(C){const y=Fe(C),E=/(\/\/)?([^?#/]+)/.exec(C.substr(y.length));if(!E)return{host:"",port:null};const I=E[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(I);if(x){const O=x[1];return{host:O,port:$t(I.substr(O.length+1))}}{const[O,Z]=I.split(":");return{host:O,port:$t(Z)}}}(y);I.config.emulator={url:`${O}//${Z}${null===ge?"":`:${ge}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Z,port:ge,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:x})}),function(C){function y(){const E=document.createElement("p"),I=E.style;E.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",E.classList.add("firebase-emulator-warning"),document.body.appendChild(E)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!C&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}(x)}(this._delegate,E,I)}applyActionCode(E){return function(C,y){return Qe.apply(this,arguments)}(this._delegate,E)}checkActionCode(E){return Py(this._delegate,E)}confirmPasswordReset(E,I){return function(C,y,E){return Jl.apply(this,arguments)}(this._delegate,E,I)}createUserWithEmailAndPassword(E,I){var x=this;return(0,m.Z)(function*(){return At(x._delegate,function(C,y,E){return wo.apply(this,arguments)}(x._delegate,E,I))})()}fetchProvidersForEmail(E){return this.fetchSignInMethodsForEmail(E)}fetchSignInMethodsForEmail(E){return function(C,y){return As.apply(this,arguments)}(this._delegate,E)}isSignInWithEmailLink(E){return function(C,y){const E=Bl.parseLink(y);return"EMAIL_SIGNIN"===(null==E?void 0:E.operation)}(0,E)}getRedirectResult(){var E=this;return(0,m.Z)(function*(){qu(Na(),E._delegate,"operation-not-supported-in-this-environment");const I=yield function(C,y){return Ls.apply(this,arguments)}(E._delegate,_i);return I?At(E._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(E){!function(C,y){Tt(C)._logFramework(y)}(this._delegate,E)}onAuthStateChanged(E,I,x){const{next:O,error:Z,complete:ge}=ag(E,I,x);return this._delegate.onAuthStateChanged(O,Z,ge)}onIdTokenChanged(E,I,x){const{next:O,error:Z,complete:ge}=ag(E,I,x);return this._delegate.onIdTokenChanged(O,Z,ge)}sendSignInLinkToEmail(E,I){return function(C,y,E){return gt.apply(this,arguments)}(this._delegate,E,I)}sendPasswordResetEmail(E,I){return function(C,y,E){return Ql.apply(this,arguments)}(this._delegate,E,I||void 0)}setPersistence(E){var I=this;return(0,m.Z)(function*(){let x;switch(function(C,y){os(Object.values(Ur).includes(y),C,"invalid-persistence-type"),(0,H.b$)()?os(y!==Ur.SESSION,C,"unsupported-persistence-type"):(0,H.UG)()?os(y===Ur.NONE,C,"unsupported-persistence-type"):Gu()?os(y===Ur.NONE||y===Ur.LOCAL&&(0,H.hl)(),C,"unsupported-persistence-type"):os(y===Ur.NONE||$u(),C,"unsupported-persistence-type")}(I._delegate,E),E){case Ur.SESSION:x=Ms;break;case Ur.LOCAL:x=(yield ne(sr)._isAvailable())?sr:Rs;break;case Ur.NONE:x=vt;break;default:return Ne("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(E){return this.signInWithCredential(E)}signInAnonymously(){return At(this._delegate,function(C){return gp.apply(this,arguments)}(this._delegate))}signInWithCredential(E){return At(this._delegate,zl(this._delegate,E))}signInWithCustomToken(E){return At(this._delegate,function(C,y){return Is.apply(this,arguments)}(this._delegate,E))}signInWithEmailAndPassword(E,I){return At(this._delegate,function(C,y,E){return zl((0,H.m9)(C),fp.credential(y,E))}(this._delegate,E,I))}signInWithEmailLink(E,I){return At(this._delegate,function(C,y,E){return ec.apply(this,arguments)}(this._delegate,E,I))}signInWithPhoneNumber(E,I){return Ra(this._delegate,function(C,y,E){return xu.apply(this,arguments)}(this._delegate,E,I))}signInWithPopup(E){var I=this;return(0,m.Z)(function*(){return qu(Na(),I._delegate,"operation-not-supported-in-this-environment"),At(I._delegate,function(C,y,E){return fh.apply(this,arguments)}(I._delegate,E,_i))})()}signInWithRedirect(E){var I=this;return(0,m.Z)(function*(){return qu(Na(),I._delegate,"operation-not-supported-in-this-environment"),yield as(I._delegate),function(C,y,E){return function(C,y,E){return fc.apply(this,arguments)}(C,y,E)}(I._delegate,E,_i)})()}updateCurrentUser(E){return this._delegate.updateCurrentUser(E)}verifyPasswordResetCode(E){return function(C,y){return gu.apply(this,arguments)}(this._delegate,E)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=Ur,C})();function ag(C,y,E){let I=C;"function"!=typeof C&&({next:I,error:y,complete:E}=C);const x=I;return{next:Z=>x(Z&&Br.getOrCreate(Z)),error:y,complete:E}}class Ac{constructor(){this.providerId="phone",this._delegate=new lc(Ri(ie.Z.auth()))}static credential(y,E){return lc.credential(y,E)}verifyPhoneNumber(y,E){return this._delegate.verifyPhoneNumber(y,E)}unwrap(){return this._delegate}}Ac.PHONE_SIGN_IN_METHOD=lc.PHONE_SIGN_IN_METHOD,Ac.PROVIDER_ID=lc.PROVIDER_ID;const Sc=le;class ug{constructor(y,E,I=ie.Z.app()){var x;Sc(null===(x=I.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new $w(y,E,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(C){C.INTERNAL.registerComponent(new ye.wA("auth-compat",y=>{const E=y.getProvider("app-compat").getImmediate(),I=y.getProvider("auth");return new Lh(E,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:fp,FacebookAuthProvider:My,GithubAuthProvider:Kd,GoogleAuthProvider:zd,OAuthProvider:du,PhoneAuthProvider:Ac,PhoneMultiFactorGenerator:i_,RecaptchaVerifier:ug,TwitterAuthProvider:Oy,Auth:Lh,AuthCredential:Yr,Error:H.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.1.1")}(ie.Z)},7574:(He,Ee,F)=>{"use strict";F.d(Ee,{y:()=>j});var m=F(7393),H=F(9181),te=F(6490),re=F(6554),ye=F(4487);var L=F(2494);let j=(()=>{class B{constructor(ue){this._isScalar=!1,ue&&(this._subscribe=ue)}lift(ue){const ee=new B;return ee.source=this,ee.operator=ue,ee}subscribe(ue,ee,X){const{operator:Ae}=this,be=function(B,q,ue){if(B){if(B instanceof m.L)return B;if(B[H.b])return B[H.b]()}return B||q||ue?new m.L(B,q,ue):new m.L(te.c)}(ue,ee,X);if(be.add(Ae?Ae.call(be,this.source):this.source||L.v.useDeprecatedSynchronousErrorHandling&&!be.syncErrorThrowable?this._subscribe(be):this._trySubscribe(be)),L.v.useDeprecatedSynchronousErrorHandling&&be.syncErrorThrowable&&(be.syncErrorThrowable=!1,be.syncErrorThrown))throw be.syncErrorValue;return be}_trySubscribe(ue){try{return this._subscribe(ue)}catch(ee){L.v.useDeprecatedSynchronousErrorHandling&&(ue.syncErrorThrown=!0,ue.syncErrorValue=ee),function(B){for(;B;){const{closed:q,destination:ue,isStopped:ee}=B;if(q||ee)return!1;B=ue&&ue instanceof m.L?ue:null}return!0}(ue)?ue.error(ee):console.warn(ee)}}forEach(ue,ee){return new(ee=$(ee))((X,Ae)=>{let be;be=this.subscribe(Te=>{try{ue(Te)}catch(Ne){Ae(Ne),be&&be.unsubscribe()}},Ae,X)})}_subscribe(ue){const{source:ee}=this;return ee&&ee.subscribe(ue)}[re.L](){return this}pipe(...ue){return 0===ue.length?this:function(B){return 0===B.length?ye.y:1===B.length?B[0]:function(ue){return B.reduce((ee,X)=>X(ee),ue)}}(ue)(this)}toPromise(ue){return new(ue=$(ue))((ee,X)=>{let Ae;this.subscribe(be=>Ae=be,be=>X(be),()=>ee(Ae))})}}return B.create=q=>new B(q),B})();function $(B){if(B||(B=L.v.Promise||Promise),!B)throw new Error("no Promise impl found");return B}},6490:(He,Ee,F)=>{"use strict";F.d(Ee,{c:()=>H});var m=F(2494),ie=F(4449);const H={closed:!0,next(te){},error(te){if(m.v.useDeprecatedSynchronousErrorHandling)throw te;(0,ie.z)(te)},complete(){}}},9765:(He,Ee,F)=>{"use strict";F.d(Ee,{Yc:()=>ye,xQ:()=>he});var m=F(7574),ie=F(7393),H=F(5319),te=F(7971),pe=F(8858),re=F(9181);class ye extends ie.L{constructor(j){super(j),this.destination=j}}let he=(()=>{class L extends m.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[re.b](){return new ye(this)}lift($){const B=new z(this,this);return B.operator=$,B}next($){if(this.closed)throw new te.N;if(!this.isStopped){const{observers:B}=this,q=B.length,ue=B.slice();for(let ee=0;ee<q;ee++)ue[ee].next($)}}error($){if(this.closed)throw new te.N;this.hasError=!0,this.thrownError=$,this.isStopped=!0;const{observers:B}=this,q=B.length,ue=B.slice();for(let ee=0;ee<q;ee++)ue[ee].error($);this.observers.length=0}complete(){if(this.closed)throw new te.N;this.isStopped=!0;const{observers:$}=this,B=$.length,q=$.slice();for(let ue=0;ue<B;ue++)q[ue].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe($){if(this.closed)throw new te.N;return super._trySubscribe($)}_subscribe($){if(this.closed)throw new te.N;return this.hasError?($.error(this.thrownError),H.w.EMPTY):this.isStopped?($.complete(),H.w.EMPTY):(this.observers.push($),new pe.W(this,$))}asObservable(){const $=new m.y;return $.source=this,$}}return L.create=(j,$)=>new z(j,$),L})();class z extends he{constructor(j,$){super(),this.destination=j,this.source=$}next(j){const{destination:$}=this;$&&$.next&&$.next(j)}error(j){const{destination:$}=this;$&&$.error&&this.destination.error(j)}complete(){const{destination:j}=this;j&&j.complete&&this.destination.complete()}_subscribe(j){const{source:$}=this;return $?this.source.subscribe(j):H.w.EMPTY}}},8858:(He,Ee,F)=>{"use strict";F.d(Ee,{W:()=>ie});var m=F(5319);class ie extends m.w{constructor(te,pe){super(),this.subject=te,this.subscriber=pe,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const te=this.subject,pe=te.observers;if(this.subject=null,!pe||0===pe.length||te.isStopped||te.closed)return;const re=pe.indexOf(this.subscriber);-1!==re&&pe.splice(re,1)}}},7393:(He,Ee,F)=>{"use strict";F.d(Ee,{L:()=>ye});var m=F(9105),ie=F(6490),H=F(5319),te=F(9181),pe=F(2494),re=F(4449);class ye extends H.w{constructor(L,j,$){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ie.c;break;case 1:if(!L){this.destination=ie.c;break}if("object"==typeof L){L instanceof ye?(this.syncErrorThrowable=L.syncErrorThrowable,this.destination=L,L.add(this)):(this.syncErrorThrowable=!0,this.destination=new he(this,L));break}default:this.syncErrorThrowable=!0,this.destination=new he(this,L,j,$)}}[te.b](){return this}static create(L,j,$){const B=new ye(L,j,$);return B.syncErrorThrowable=!1,B}next(L){this.isStopped||this._next(L)}error(L){this.isStopped||(this.isStopped=!0,this._error(L))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(L){this.destination.next(L)}_error(L){this.destination.error(L),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:L}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=L,this}}class he extends ye{constructor(L,j,$,B){super(),this._parentSubscriber=L;let q,ue=this;(0,m.m)(j)?q=j:j&&(q=j.next,$=j.error,B=j.complete,j!==ie.c&&(ue=Object.create(j),(0,m.m)(ue.unsubscribe)&&this.add(ue.unsubscribe.bind(ue)),ue.unsubscribe=this.unsubscribe.bind(this))),this._context=ue,this._next=q,this._error=$,this._complete=B}next(L){if(!this.isStopped&&this._next){const{_parentSubscriber:j}=this;pe.v.useDeprecatedSynchronousErrorHandling&&j.syncErrorThrowable?this.__tryOrSetError(j,this._next,L)&&this.unsubscribe():this.__tryOrUnsub(this._next,L)}}error(L){if(!this.isStopped){const{_parentSubscriber:j}=this,{useDeprecatedSynchronousErrorHandling:$}=pe.v;if(this._error)$&&j.syncErrorThrowable?(this.__tryOrSetError(j,this._error,L),this.unsubscribe()):(this.__tryOrUnsub(this._error,L),this.unsubscribe());else if(j.syncErrorThrowable)$?(j.syncErrorValue=L,j.syncErrorThrown=!0):(0,re.z)(L),this.unsubscribe();else{if(this.unsubscribe(),$)throw L;(0,re.z)(L)}}}complete(){if(!this.isStopped){const{_parentSubscriber:L}=this;if(this._complete){const j=()=>this._complete.call(this._context);pe.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?(this.__tryOrSetError(L,j),this.unsubscribe()):(this.__tryOrUnsub(j),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(L,j){try{L.call(this._context,j)}catch($){if(this.unsubscribe(),pe.v.useDeprecatedSynchronousErrorHandling)throw $;(0,re.z)($)}}__tryOrSetError(L,j,$){if(!pe.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{j.call(this._context,$)}catch(B){return pe.v.useDeprecatedSynchronousErrorHandling?(L.syncErrorValue=B,L.syncErrorThrown=!0,!0):((0,re.z)(B),!0)}return!1}_unsubscribe(){const{_parentSubscriber:L}=this;this._context=null,this._parentSubscriber=null,L.unsubscribe()}}},5319:(He,Ee,F)=>{"use strict";F.d(Ee,{w:()=>re});var m=F(9796),ie=F(1555),H=F(9105);const pe=(()=>{function he(z){return Error.call(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((L,j)=>`${j+1}) ${L.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z,this}return he.prototype=Object.create(Error.prototype),he})();class re{constructor(z){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,z&&(this._ctorUnsubscribe=!0,this._unsubscribe=z)}unsubscribe(){let z;if(this.closed)return;let{_parentOrParents:L,_ctorUnsubscribe:j,_unsubscribe:$,_subscriptions:B}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,L instanceof re)L.remove(this);else if(null!==L)for(let q=0;q<L.length;++q)L[q].remove(this);if((0,H.m)($)){j&&(this._unsubscribe=void 0);try{$.call(this)}catch(q){z=q instanceof pe?ye(q.errors):[q]}}if((0,m.k)(B)){let q=-1,ue=B.length;for(;++q<ue;){const ee=B[q];if((0,ie.K)(ee))try{ee.unsubscribe()}catch(X){z=z||[],X instanceof pe?z=z.concat(ye(X.errors)):z.push(X)}}}if(z)throw new pe(z)}add(z){let L=z;if(!z)return re.EMPTY;switch(typeof z){case"function":L=new re(z);case"object":if(L===this||L.closed||"function"!=typeof L.unsubscribe)return L;if(this.closed)return L.unsubscribe(),L;if(!(L instanceof re)){const B=L;L=new re,L._subscriptions=[B]}break;default:throw new Error("unrecognized teardown "+z+" added to Subscription.")}let{_parentOrParents:j}=L;if(null===j)L._parentOrParents=this;else if(j instanceof re){if(j===this)return L;L._parentOrParents=[j,this]}else{if(-1!==j.indexOf(this))return L;j.push(this)}const $=this._subscriptions;return null===$?this._subscriptions=[L]:$.push(L),L}remove(z){const L=this._subscriptions;if(L){const j=L.indexOf(z);-1!==j&&L.splice(j,1)}}}var he;function ye(he){return he.reduce((z,L)=>z.concat(L instanceof pe?L.errors:L),[])}re.EMPTY=((he=new re).closed=!0,he)},2494:(He,Ee,F)=>{"use strict";F.d(Ee,{v:()=>ie});let m=!1;const ie={Promise:void 0,set useDeprecatedSynchronousErrorHandling(H){if(H){const te=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+te.stack)}else m&&console.log("RxJS: Back to a better error behavior. Thank you. <3");m=H},get useDeprecatedSynchronousErrorHandling(){return m}}},5345:(He,Ee,F)=>{"use strict";F.d(Ee,{IY:()=>te,Ds:()=>re,ft:()=>he});var m=F(7393),ie=F(7574),H=F(7444);class te extends m.L{constructor(L){super(),this.parent=L}_next(L){this.parent.notifyNext(L)}_error(L){this.parent.notifyError(L),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class re extends m.L{notifyNext(L){this.destination.next(L)}notifyError(L){this.destination.error(L)}notifyComplete(){this.destination.complete()}}function he(z,L){if(L.closed)return;if(z instanceof ie.y)return z.subscribe(L);let j;try{j=(0,H.s)(z)(L)}catch($){L.error($)}return j}},2441:(He,Ee,F)=>{"use strict";F.d(Ee,{c:()=>pe,N:()=>re});var m=F(9765),ie=F(7574),H=F(5319),te=F(1307);class pe extends ie.y{constructor(j,$){super(),this.source=j,this.subjectFactory=$,this._refCount=0,this._isComplete=!1}_subscribe(j){return this.getSubject().subscribe(j)}getSubject(){const j=this._subject;return(!j||j.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let j=this._connection;return j||(this._isComplete=!1,j=this._connection=new H.w,j.add(this.source.subscribe(new ye(this.getSubject(),this))),j.closed&&(this._connection=null,j=H.w.EMPTY)),j}refCount(){return(0,te.x)()(this)}}const re=(()=>{const L=pe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:L._subscribe},_isComplete:{value:L._isComplete,writable:!0},getSubject:{value:L.getSubject},connect:{value:L.connect},refCount:{value:L.refCount}}})();class ye extends m.Yc{constructor(j,$){super(j),this.connectable=$}_error(j){this._unsubscribe(),super._error(j)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const j=this.connectable;if(j){this.connectable=null;const $=j._connection;j._refCount=0,j._subject=null,j._connection=null,$&&$.unsubscribe()}}}},9193:(He,Ee,F)=>{"use strict";F.d(Ee,{E:()=>ie,c:()=>H});var m=F(7574);const ie=new m.y(pe=>pe.complete());function H(pe){return pe?function(pe){return new m.y(re=>pe.schedule(()=>re.complete()))}(pe):ie}},4402:(He,Ee,F)=>{"use strict";F.d(Ee,{D:()=>ue});var m=F(7574),ie=F(7444),H=F(5319),te=F(6554),ye=F(4087),he=F(377),j=F(4072),$=F(9489);function ue(ee,X){return X?function(ee,X){if(null!=ee){if(function(ee){return ee&&"function"==typeof ee[te.L]}(ee))return function(ee,X){return new m.y(Ae=>{const be=new H.w;return be.add(X.schedule(()=>{const Te=ee[te.L]();be.add(Te.subscribe({next(Ne){be.add(X.schedule(()=>Ae.next(Ne)))},error(Ne){be.add(X.schedule(()=>Ae.error(Ne)))},complete(){be.add(X.schedule(()=>Ae.complete()))}}))})),be})}(ee,X);if((0,j.t)(ee))return function(ee,X){return new m.y(Ae=>{const be=new H.w;return be.add(X.schedule(()=>ee.then(Te=>{be.add(X.schedule(()=>{Ae.next(Te),be.add(X.schedule(()=>Ae.complete()))}))},Te=>{be.add(X.schedule(()=>Ae.error(Te)))}))),be})}(ee,X);if((0,$.z)(ee))return(0,ye.r)(ee,X);if(function(ee){return ee&&"function"==typeof ee[he.hZ]}(ee)||"string"==typeof ee)return function(ee,X){if(!ee)throw new Error("Iterable cannot be null");return new m.y(Ae=>{const be=new H.w;let Te;return be.add(()=>{Te&&"function"==typeof Te.return&&Te.return()}),be.add(X.schedule(()=>{Te=ee[he.hZ](),be.add(X.schedule(function(){if(Ae.closed)return;let Ne,Pe;try{const Me=Te.next();Ne=Me.value,Pe=Me.done}catch(Me){return void Ae.error(Me)}Pe?Ae.complete():(Ae.next(Ne),this.schedule())}))})),be})}(ee,X)}throw new TypeError((null!==ee&&typeof ee||ee)+" is not observable")}(ee,X):ee instanceof m.y?ee:new m.y((0,ie.s)(ee))}},6693:(He,Ee,F)=>{"use strict";F.d(Ee,{n:()=>te});var m=F(7574),ie=F(5015),H=F(4087);function te(pe,re){return re?(0,H.r)(pe,re):new m.y((0,ie.V)(pe))}},6682:(He,Ee,F)=>{"use strict";F.d(Ee,{T:()=>pe});var m=F(7574),ie=F(4869),H=F(3282),te=F(6693);function pe(...re){let ye=Number.POSITIVE_INFINITY,he=null,z=re[re.length-1];return(0,ie.K)(z)?(he=re.pop(),re.length>1&&"number"==typeof re[re.length-1]&&(ye=re.pop())):"number"==typeof z&&(ye=re.pop()),null===he&&1===re.length&&re[0]instanceof m.y?re[0]:(0,H.J)(ye)((0,te.n)(re,he))}},5917:(He,Ee,F)=>{"use strict";F.d(Ee,{of:()=>te});var m=F(4869),ie=F(6693),H=F(4087);function te(...pe){let re=pe[pe.length-1];return(0,m.K)(re)?(pe.pop(),(0,H.r)(pe,re)):(0,ie.n)(pe)}},8002:(He,Ee,F)=>{"use strict";F.d(Ee,{U:()=>ie});var m=F(7393);function ie(pe,re){return function(he){if("function"!=typeof pe)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return he.lift(new H(pe,re))}}class H{constructor(re,ye){this.project=re,this.thisArg=ye}call(re,ye){return ye.subscribe(new te(re,this.project,this.thisArg))}}class te extends m.L{constructor(re,ye,he){super(re),this.project=ye,this.count=0,this.thisArg=he||this}_next(re){let ye;try{ye=this.project.call(this.thisArg,re,this.count++)}catch(he){return void this.destination.error(he)}this.destination.next(ye)}}},3282:(He,Ee,F)=>{"use strict";F.d(Ee,{J:()=>H});var m=F(9773),ie=F(4487);function H(te=Number.POSITIVE_INFINITY){return(0,m.zg)(ie.y,te)}},9773:(He,Ee,F)=>{"use strict";F.d(Ee,{zg:()=>te});var m=F(8002),ie=F(4402),H=F(5345);function te(he,z,L=Number.POSITIVE_INFINITY){return"function"==typeof z?j=>j.pipe(te(($,B)=>(0,ie.D)(he($,B)).pipe((0,m.U)((q,ue)=>z($,q,B,ue))),L)):("number"==typeof z&&(L=z),j=>j.lift(new pe(he,L)))}class pe{constructor(z,L=Number.POSITIVE_INFINITY){this.project=z,this.concurrent=L}call(z,L){return L.subscribe(new re(z,this.project,this.concurrent))}}class re extends H.Ds{constructor(z,L,j=Number.POSITIVE_INFINITY){super(z),this.project=L,this.concurrent=j,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(z){this.active<this.concurrent?this._tryNext(z):this.buffer.push(z)}_tryNext(z){let L;const j=this.index++;try{L=this.project(z,j)}catch($){return void this.destination.error($)}this.active++,this._innerSub(L)}_innerSub(z){const L=new H.IY(this),j=this.destination;j.add(L);const $=(0,H.ft)(z,L);$!==L&&j.add($)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(z){this.destination.next(z)}notifyComplete(){const z=this.buffer;this.active--,z.length>0?this._next(z.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(He,Ee,F)=>{"use strict";F.d(Ee,{ht:()=>j,QV:()=>z});var m=F(7393),ie=F(9193),H=F(5917),te=F(7574);class he{constructor(q,ue,ee){this.kind=q,this.value=ue,this.error=ee,this.hasValue="N"===q}observe(q){switch(this.kind){case"N":return q.next&&q.next(this.value);case"E":return q.error&&q.error(this.error);case"C":return q.complete&&q.complete()}}do(q,ue,ee){switch(this.kind){case"N":return q&&q(this.value);case"E":return ue&&ue(this.error);case"C":return ee&&ee()}}accept(q,ue,ee){return q&&"function"==typeof q.next?this.observe(q):this.do(q,ue,ee)}toObservable(){switch(this.kind){case"N":return(0,H.of)(this.value);case"E":return B=this.error,new te.y(ue=>ue.error(B));case"C":return(0,ie.c)()}var B;throw new Error("unexpected notification kind value")}static createNext(q){return void 0!==q?new he("N",q):he.undefinedValueNotification}static createError(q){return new he("E",void 0,q)}static createComplete(){return he.completeNotification}}function z(B,q=0){return function(ee){return ee.lift(new L(B,q))}}he.completeNotification=new he("C"),he.undefinedValueNotification=new he("N",void 0);class L{constructor(q,ue=0){this.scheduler=q,this.delay=ue}call(q,ue){return ue.subscribe(new j(q,this.scheduler,this.delay))}}class j extends m.L{constructor(q,ue,ee=0){super(q),this.scheduler=ue,this.delay=ee}static dispatch(q){const{notification:ue,destination:ee}=q;ue.observe(ee),this.unsubscribe()}scheduleMessage(q){this.destination.add(this.scheduler.schedule(j.dispatch,this.delay,new $(q,this.destination)))}_next(q){this.scheduleMessage(he.createNext(q))}_error(q){this.scheduleMessage(he.createError(q)),this.unsubscribe()}_complete(){this.scheduleMessage(he.createComplete()),this.unsubscribe()}}class ${constructor(q,ue){this.notification=q,this.destination=ue}}},1307:(He,Ee,F)=>{"use strict";F.d(Ee,{x:()=>ie});var m=F(7393);function ie(){return function(re){return re.lift(new H(re))}}class H{constructor(re){this.connectable=re}call(re,ye){const{connectable:he}=this;he._refCount++;const z=new te(re,he),L=ye.subscribe(z);return z.closed||(z.connection=he.connect()),L}}class te extends m.L{constructor(re,ye){super(re),this.connectable=ye}_unsubscribe(){const{connectable:re}=this;if(!re)return void(this.connection=null);this.connectable=null;const ye=re._refCount;if(ye<=0)return void(this.connection=null);if(re._refCount=ye-1,ye>1)return void(this.connection=null);const{connection:he}=this,z=re._connection;this.connection=null,z&&(!he||z===he)&&z.unsubscribe()}}},3101:(He,Ee,F)=>{"use strict";F.d(Ee,{R:()=>X});var m=F(7574);let ie=1;const H=Promise.resolve(),te={};function pe(be){return be in te&&(delete te[be],!0)}const re={setImmediate(be){const Te=ie++;return te[Te]=!0,H.then(()=>pe(Te)&&be()),Te},clearImmediate(be){pe(be)}};var he=F(6465),L=F(6102);const B=new class extends L.v{flush(Te){this.active=!0,this.scheduled=void 0;const{actions:Ne}=this;let Pe,Me=-1,le=Ne.length;Te=Te||Ne.shift();do{if(Pe=Te.execute(Te.state,Te.delay))break}while(++Me<le&&(Te=Ne.shift()));if(this.active=!1,Pe){for(;++Me<le&&(Te=Ne.shift());)Te.unsubscribe();throw Pe}}}(class extends he.o{constructor(Te,Ne){super(Te,Ne),this.scheduler=Te,this.work=Ne}requestAsyncId(Te,Ne,Pe=0){return null!==Pe&&Pe>0?super.requestAsyncId(Te,Ne,Pe):(Te.actions.push(this),Te.scheduled||(Te.scheduled=re.setImmediate(Te.flush.bind(Te,null))))}recycleAsyncId(Te,Ne,Pe=0){if(null!==Pe&&Pe>0||null===Pe&&this.delay>0)return super.recycleAsyncId(Te,Ne,Pe);0===Te.actions.length&&(re.clearImmediate(Ne),Te.scheduled=void 0)}});var q=F(9796);class ee extends m.y{constructor(Te,Ne=0,Pe=B){var be;super(),this.source=Te,this.delayTime=Ne,this.scheduler=Pe,(!(!(0,q.k)(be=Ne)&&be-parseFloat(be)+1>=0)||Ne<0)&&(this.delayTime=0),(!Pe||"function"!=typeof Pe.schedule)&&(this.scheduler=B)}static create(Te,Ne=0,Pe=B){return new ee(Te,Ne,Pe)}static dispatch(Te){const{source:Ne,subscriber:Pe}=Te;return this.add(Ne.subscribe(Pe))}_subscribe(Te){return this.scheduler.schedule(ee.dispatch,this.delayTime,{source:this.source,subscriber:Te})}}function X(be,Te=0){return function(Pe){return Pe.lift(new Ae(be,Te))}}class Ae{constructor(Te,Ne){this.scheduler=Te,this.delay=Ne}call(Te,Ne){return new ee(Ne,this.delay,this.scheduler).subscribe(Te)}}},3342:(He,Ee,F)=>{"use strict";F.d(Ee,{b:()=>te});var m=F(7393);function ie(){}var H=F(9105);function te(ye,he,z){return function(j){return j.lift(new pe(ye,he,z))}}class pe{constructor(he,z,L){this.nextOrObserver=he,this.error=z,this.complete=L}call(he,z){return z.subscribe(new re(he,this.nextOrObserver,this.error,this.complete))}}class re extends m.L{constructor(he,z,L,j){super(he),this._tapNext=ie,this._tapError=ie,this._tapComplete=ie,this._tapError=L||ie,this._tapComplete=j||ie,(0,H.m)(z)?(this._context=this,this._tapNext=z):z&&(this._context=z,this._tapNext=z.next||ie,this._tapError=z.error||ie,this._tapComplete=z.complete||ie)}_next(he){try{this._tapNext.call(this._context,he)}catch(z){return void this.destination.error(z)}this.destination.next(he)}_error(he){try{this._tapError.call(this._context,he)}catch(z){return void this.destination.error(z)}this.destination.error(he)}_complete(){try{this._tapComplete.call(this._context)}catch(he){return void this.destination.error(he)}return this.destination.complete()}}},4087:(He,Ee,F)=>{"use strict";F.d(Ee,{r:()=>H});var m=F(7574),ie=F(5319);function H(te,pe){return new m.y(re=>{const ye=new ie.w;let he=0;return ye.add(pe.schedule(function(){he!==te.length?(re.next(te[he++]),re.closed||ye.add(this.schedule())):re.complete()})),ye})}},6465:(He,Ee,F)=>{"use strict";F.d(Ee,{o:()=>H});var m=F(5319);class ie extends m.w{constructor(pe,re){super()}schedule(pe,re=0){return this}}class H extends ie{constructor(pe,re){super(pe,re),this.scheduler=pe,this.work=re,this.pending=!1}schedule(pe,re=0){if(this.closed)return this;this.state=pe;const ye=this.id,he=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId(he,ye,re)),this.pending=!0,this.delay=re,this.id=this.id||this.requestAsyncId(he,this.id,re),this}requestAsyncId(pe,re,ye=0){return setInterval(pe.flush.bind(pe,this),ye)}recycleAsyncId(pe,re,ye=0){if(null!==ye&&this.delay===ye&&!1===this.pending)return re;clearInterval(re)}execute(pe,re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(pe,re);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(pe,re){let he,ye=!1;try{this.work(pe)}catch(z){ye=!0,he=!!z&&z||new Error(z)}if(ye)return this.unsubscribe(),he}_unsubscribe(){const pe=this.id,re=this.scheduler,ye=re.actions,he=ye.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==he&&ye.splice(he,1),null!=pe&&(this.id=this.recycleAsyncId(re,pe,null)),this.delay=null}}},6102:(He,Ee,F)=>{"use strict";F.d(Ee,{v:()=>ie});let m=(()=>{class H{constructor(pe,re=H.now){this.SchedulerAction=pe,this.now=re}schedule(pe,re=0,ye){return new this.SchedulerAction(this,pe).schedule(ye,re)}}return H.now=()=>Date.now(),H})();class ie extends m{constructor(te,pe=m.now){super(te,()=>ie.delegate&&ie.delegate!==this?ie.delegate.now():pe()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(te,pe=0,re){return ie.delegate&&ie.delegate!==this?ie.delegate.schedule(te,pe,re):super.schedule(te,pe,re)}flush(te){const{actions:pe}=this;if(this.active)return void pe.push(te);let re;this.active=!0;do{if(re=te.execute(te.state,te.delay))break}while(te=pe.shift());if(this.active=!1,re){for(;te=pe.shift();)te.unsubscribe();throw re}}}},3637:(He,Ee,F)=>{"use strict";F.d(Ee,{z:()=>H});var m=F(6465);const H=new(F(6102).v)(m.o)},7771:(He,Ee,F)=>{"use strict";F.d(Ee,{c:()=>re,N:()=>pe});var m=F(6465),H=F(6102);const pe=new class extends H.v{}(class extends m.o{constructor(he,z){super(he,z),this.scheduler=he,this.work=z}schedule(he,z=0){return z>0?super.schedule(he,z):(this.delay=z,this.state=he,this.scheduler.flush(this),this)}execute(he,z){return z>0||this.closed?super.execute(he,z):this._execute(he,z)}requestAsyncId(he,z,L=0){return null!==L&&L>0||null===L&&this.delay>0?super.requestAsyncId(he,z,L):he.flush(this)}}),re=pe},377:(He,Ee,F)=>{"use strict";F.d(Ee,{hZ:()=>ie});const ie="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(He,Ee,F)=>{"use strict";F.d(Ee,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(He,Ee,F)=>{"use strict";F.d(Ee,{b:()=>m});const m="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(He,Ee,F)=>{"use strict";F.d(Ee,{N:()=>ie});const ie=(()=>{function H(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return H.prototype=Object.create(Error.prototype),H})()},4449:(He,Ee,F)=>{"use strict";function m(ie){setTimeout(()=>{throw ie},0)}F.d(Ee,{z:()=>m})},4487:(He,Ee,F)=>{"use strict";function m(ie){return ie}F.d(Ee,{y:()=>m})},9796:(He,Ee,F)=>{"use strict";F.d(Ee,{k:()=>m});const m=Array.isArray||(ie=>ie&&"number"==typeof ie.length)},9489:(He,Ee,F)=>{"use strict";F.d(Ee,{z:()=>m});const m=ie=>ie&&"number"==typeof ie.length&&"function"!=typeof ie},9105:(He,Ee,F)=>{"use strict";function m(ie){return"function"==typeof ie}F.d(Ee,{m:()=>m})},1555:(He,Ee,F)=>{"use strict";function m(ie){return null!==ie&&"object"==typeof ie}F.d(Ee,{K:()=>m})},4072:(He,Ee,F)=>{"use strict";function m(ie){return!!ie&&"function"!=typeof ie.subscribe&&"function"==typeof ie.then}F.d(Ee,{t:()=>m})},4869:(He,Ee,F)=>{"use strict";function m(ie){return ie&&"function"==typeof ie.schedule}F.d(Ee,{K:()=>m})},7444:(He,Ee,F)=>{"use strict";F.d(Ee,{s:()=>j});var m=F(5015),ie=F(4449),te=F(377),re=F(6554),he=F(9489),z=F(4072),L=F(1555);const j=$=>{if($&&"function"==typeof $[re.L])return($=>B=>{const q=$[re.L]();if("function"!=typeof q.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return q.subscribe(B)})($);if((0,he.z)($))return(0,m.V)($);if((0,z.t)($))return($=>B=>($.then(q=>{B.closed||(B.next(q),B.complete())},q=>B.error(q)).then(null,ie.z),B))($);if($&&"function"==typeof $[te.hZ])return($=>B=>{const q=$[te.hZ]();for(;;){let ue;try{ue=q.next()}catch(ee){return B.error(ee),B}if(ue.done){B.complete();break}if(B.next(ue.value),B.closed)break}return"function"==typeof q.return&&B.add(()=>{q.return&&q.return()}),B})($);{const q=`You provided ${(0,L.K)($)?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(q)}}},5015:(He,Ee,F)=>{"use strict";F.d(Ee,{V:()=>m});const m=ie=>H=>{for(let te=0,pe=ie.length;te<pe&&!H.closed;te++)H.next(ie[te]);H.complete()}},9542:(He,Ee,F)=>{"use strict";var m=F(3018);let ie=null;function H(){return ie}const ye=new m.OlP("DocumentToken");let he=(()=>{class s{historyGo(i){throw new Error("Not implemented")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,m.Yz7)({factory:z,token:s,providedIn:"platform"}),s})();function z(){return(0,m.LFG)(j)}const L=new m.OlP("Location Initialized");let j=(()=>{class s extends he{constructor(i){super(),this._doc=i,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(i){const u=H().getGlobalEventTarget(this._doc,"window");return u.addEventListener("popstate",i,!1),()=>u.removeEventListener("popstate",i)}onHashChange(i){const u=H().getGlobalEventTarget(this._doc,"window");return u.addEventListener("hashchange",i,!1),()=>u.removeEventListener("hashchange",i)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(i){this.location.pathname=i}pushState(i,u,c){$()?this._history.pushState(i,u,c):this.location.hash=c}replaceState(i,u,c){$()?this._history.replaceState(i,u,c):this.location.hash=c}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(ye))},s.\u0275prov=(0,m.Yz7)({factory:B,token:s,providedIn:"platform"}),s})();function $(){return!!window.history.pushState}function B(){return new j((0,m.LFG)(ye))}function q(s,r){if(0==s.length)return r;if(0==r.length)return s;let i=0;return s.endsWith("/")&&i++,r.startsWith("/")&&i++,2==i?s+r.substring(1):1==i?s+r:s+"/"+r}function ue(s){const r=s.match(/#|\?|$/),i=r&&r.index||s.length;return s.slice(0,i-("/"===s[i-1]?1:0))+s.slice(i)}function ee(s){return s&&"?"!==s[0]?"?"+s:s}let X=(()=>{class s{historyGo(i){throw new Error("Not implemented")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,m.Yz7)({factory:Ae,token:s,providedIn:"root"}),s})();function Ae(s){const r=(0,m.LFG)(ye).location;return new Te((0,m.LFG)(he),r&&r.origin||"")}const be=new m.OlP("appBaseHref");let Te=(()=>{class s extends X{constructor(i,u){if(super(),this._platformLocation=i,this._removeListenerFns=[],null==u&&(u=this._platformLocation.getBaseHrefFromDOM()),null==u)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=u}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return q(this._baseHref,i)}path(i=!1){const u=this._platformLocation.pathname+ee(this._platformLocation.search),c=this._platformLocation.hash;return c&&i?`${u}${c}`:u}pushState(i,u,c,f){const _=this.prepareExternalUrl(c+ee(f));this._platformLocation.pushState(i,u,_)}replaceState(i,u,c,f){const _=this.prepareExternalUrl(c+ee(f));this._platformLocation.replaceState(i,u,_)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var u,c;null===(c=(u=this._platformLocation).historyGo)||void 0===c||c.call(u,i)}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(he),m.LFG(be,8))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})(),Ne=(()=>{class s extends X{constructor(i,u){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=u&&(this._baseHref=u)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let u=this._platformLocation.hash;return null==u&&(u="#"),u.length>0?u.substring(1):u}prepareExternalUrl(i){const u=q(this._baseHref,i);return u.length>0?"#"+u:u}pushState(i,u,c,f){let _=this.prepareExternalUrl(c+ee(f));0==_.length&&(_=this._platformLocation.pathname),this._platformLocation.pushState(i,u,_)}replaceState(i,u,c,f){let _=this.prepareExternalUrl(c+ee(f));0==_.length&&(_=this._platformLocation.pathname),this._platformLocation.replaceState(i,u,_)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var u,c;null===(c=(u=this._platformLocation).historyGo)||void 0===c||c.call(u,i)}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(he),m.LFG(be,8))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})(),Pe=(()=>{class s{constructor(i,u){this._subject=new m.vpe,this._urlChangeListeners=[],this._platformStrategy=i;const c=this._platformStrategy.getBaseHref();this._platformLocation=u,this._baseHref=ue(Ct(c)),this._platformStrategy.onPopState(f=>{this._subject.emit({url:this.path(!0),pop:!0,state:f.state,type:f.type})})}path(i=!1){return this.normalize(this._platformStrategy.path(i))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(i,u=""){return this.path()==this.normalize(i+ee(u))}normalize(i){return s.stripTrailingSlash(function(s,r){return s&&r.startsWith(s)?r.substring(s.length):r}(this._baseHref,Ct(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._platformStrategy.prepareExternalUrl(i)}go(i,u="",c=null){this._platformStrategy.pushState(c,"",i,u),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ee(u)),c)}replaceState(i,u="",c=null){this._platformStrategy.replaceState(c,"",i,u),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ee(u)),c)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(i=0){var u,c;null===(c=(u=this._platformStrategy).historyGo)||void 0===c||c.call(u,i)}onUrlChange(i){this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(u=>{this._notifyUrlChangeListeners(u.url,u.state)}))}_notifyUrlChangeListeners(i="",u){this._urlChangeListeners.forEach(c=>c(i,u))}subscribe(i,u,c){return this._subject.subscribe({next:i,error:u,complete:c})}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(X),m.LFG(he))},s.normalizeQueryParams=ee,s.joinWithSlash=q,s.stripTrailingSlash=ue,s.\u0275prov=(0,m.Yz7)({factory:Me,token:s,providedIn:"root"}),s})();function Me(){return new Pe((0,m.LFG)(X),(0,m.LFG)(he))}function Ct(s){return s.replace(/\/index.html$/,"")}var ne=(()=>((ne=ne||{})[ne.Zero=0]="Zero",ne[ne.One=1]="One",ne[ne.Two=2]="Two",ne[ne.Few=3]="Few",ne[ne.Many=4]="Many",ne[ne.Other=5]="Other",ne))();const Gn=m.kL8;class Qr{}let mo=(()=>{class s extends Qr{constructor(i){super(),this.locale=i}getPluralCategory(i,u){switch(Gn(u||this.locale)(i)){case ne.Zero:return"zero";case ne.One:return"one";case ne.Two:return"two";case ne.Few:return"few";case ne.Many:return"many";default:return"other"}}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(m.soG))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})(),Lw=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({providers:[{provide:Qr,useClass:mo}]}),s})();function Hl(s){return"server"===s}let Gl=(()=>{class s{}return s.\u0275prov=(0,m.Yz7)({token:s,providedIn:"root",factory:()=>new mp((0,m.LFG)(ye),window)}),s})();class mp{constructor(r,i){this.document=r,this.window=i,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const i=function(s,r){const i=s.getElementById(r)||s.getElementsByName(r)[0];if(i)return i;if("function"==typeof s.createTreeWalker&&s.body&&(s.body.createShadowRoot||s.body.attachShadow)){const u=s.createTreeWalker(s.body,NodeFilter.SHOW_ELEMENT);let c=u.currentNode;for(;c;){const f=c.shadowRoot;if(f){const _=f.getElementById(r)||f.querySelector(`[name="${r}"]`);if(_)return _}c=u.nextNode()}}return null}(this.document,r);i&&(this.scrollToElement(i),this.attemptFocus(i))}setHistoryScrollRestoration(r){if(this.supportScrollRestoration()){const i=this.window.history;i&&i.scrollRestoration&&(i.scrollRestoration=r)}}scrollToElement(r){const i=r.getBoundingClientRect(),u=i.left+this.window.pageXOffset,c=i.top+this.window.pageYOffset,f=this.offset();this.window.scrollTo(u-f[0],c-f[1])}attemptFocus(r){return r.focus(),this.document.activeElement===r}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const r=ql(this.window.history)||ql(Object.getPrototypeOf(this.window.history));return!(!r||!r.writable&&!r.set)}catch(r){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(r){return!1}}}function ql(s){return Object.getOwnPropertyDescriptor(s,"scrollRestoration")}class vo extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var s;s=new vo,ie||(ie=s)}onAndCancel(r,i,u){return r.addEventListener(i,u,!1),()=>{r.removeEventListener(i,u,!1)}}dispatchEvent(r,i){r.dispatchEvent(i)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,i){return(i=i||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,i){return"window"===i?window:"document"===i?r:"body"===i?r.body:null}getBaseHref(r){const i=(da=da||document.querySelector("base"),da?da.getAttribute("href"):null);return null==i?null:function(s){Wl=Wl||document.createElement("a"),Wl.setAttribute("href",s);const r=Wl.pathname;return"/"===r.charAt(0)?r:`/${r}`}(i)}resetBaseElement(){da=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return function(s,r){r=encodeURIComponent(r);for(const i of s.split(";")){const u=i.indexOf("="),[c,f]=-1==u?[i,""]:[i.slice(0,u),i.slice(u+1)];if(c.trim()===r)return decodeURIComponent(f)}return null}(document.cookie,r)}}let Wl,da=null;const zl=new m.OlP("TRANSITION_ID"),yp=[{provide:m.ip1,useFactory:function(s,r,i){return()=>{i.get(m.CZH).donePromise.then(()=>{const u=H(),c=r.querySelectorAll(`style[ng-transition="${s}"]`);for(let f=0;f<c.length;f++)u.remove(c[f])})}},deps:[zl,ye,m.zs3],multi:!0}];class Kt{static init(){(0,m.VLi)(new Kt)}addToWindow(r){m.dqk.getAngularTestability=(u,c=!0)=>{const f=r.findTestabilityInTree(u,c);if(null==f)throw new Error("Could not find testability for element.");return f},m.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(u=>{const c=m.dqk.getAllAngularTestabilities();let f=c.length,_=!1;const b=function(T){_=_||T,f--,0==f&&u(_)};c.forEach(function(T){T.whenStable(b)})})}findTestabilityInTree(r,i,u){if(null==i)return null;const c=r.getTestability(i);return null!=c?c:u?H().isShadowRoot(i)?this.findTestabilityInTree(r,i.host,!0):this.findTestabilityInTree(r,i.parentElement,!0):null}}let _p=(()=>{class s{build(){return new XMLHttpRequest}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();const Eo=new m.OlP("EventManagerPlugins");let Xl=(()=>{class s{constructor(i,u){this._zone=u,this._eventNameToPlugin=new Map,i.forEach(c=>c.manager=this),this._plugins=i.slice().reverse()}addEventListener(i,u,c){return this._findPluginFor(u).addEventListener(i,u,c)}addGlobalEventListener(i,u,c){return this._findPluginFor(u).addGlobalEventListener(i,u,c)}getZone(){return this._zone}_findPluginFor(i){const u=this._eventNameToPlugin.get(i);if(u)return u;const c=this._plugins;for(let f=0;f<c.length;f++){const _=c[f];if(_.supports(i))return this._eventNameToPlugin.set(i,_),_}throw new Error(`No event manager plugin found for event ${i}`)}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(Eo),m.LFG(m.R0b))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();class gu{constructor(r){this._doc=r}addGlobalEventListener(r,i,u){const c=H().getGlobalEventTarget(this._doc,r);if(!c)throw new Error(`Unsupported event target ${c} for event ${i}`);return this.addEventListener(c,i,u)}}let eh=(()=>{class s{constructor(){this._stylesSet=new Set}addStyles(i){const u=new Set;i.forEach(c=>{this._stylesSet.has(c)||(this._stylesSet.add(c),u.add(c))}),this.onStylesAdded(u)}onStylesAdded(i){}getAllStyles(){return Array.from(this._stylesSet)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})(),wo=(()=>{class s extends eh{constructor(i){super(),this._doc=i,this._hostNodes=new Map,this._hostNodes.set(i.head,[])}_addStylesToHost(i,u,c){i.forEach(f=>{const _=this._doc.createElement("style");_.textContent=f,c.push(u.appendChild(_))})}addHost(i){const u=[];this._addStylesToHost(this._stylesSet,i,u),this._hostNodes.set(i,u)}removeHost(i){const u=this._hostNodes.get(i);u&&u.forEach(Ep),this._hostNodes.delete(i)}onStylesAdded(i){this._hostNodes.forEach((u,c)=>{this._addStylesToHost(i,c,u)})}ngOnDestroy(){this._hostNodes.forEach(i=>i.forEach(Ep))}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(ye))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();function Ep(s){H().remove(s)}const we={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},gt=/%COMP%/g;function As(s,r,i){for(let u=0;u<r.length;u++){let c=r[u];Array.isArray(c)?As(s,c,i):(c=c.replace(gt,s),i.push(c))}return i}function ky(s){return r=>{if("__ngUnwrap__"===r)return s;!1===s(r)&&(r.preventDefault(),r.returnValue=!1)}}let ha=(()=>{class s{constructor(i,u,c){this.eventManager=i,this.sharedStylesHost=u,this.appId=c,this.rendererByCompId=new Map,this.defaultRenderer=new Ss(i)}createRenderer(i,u){if(!i||!u)return this.defaultRenderer;switch(u.encapsulation){case m.ifc.Emulated:{let c=this.rendererByCompId.get(u.id);return c||(c=new xs(this.eventManager,this.sharedStylesHost,u,this.appId),this.rendererByCompId.set(u.id,c)),c.applyToHost(i),c}case 1:case m.ifc.ShadowDom:return new Ki(this.eventManager,this.sharedStylesHost,i,u);default:if(!this.rendererByCompId.has(u.id)){const c=As(u.id,u.styles,[]);this.sharedStylesHost.addStyles(c),this.rendererByCompId.set(u.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(Xl),m.LFG(wo),m.LFG(m.AFp))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();class Ss{constructor(r){this.eventManager=r,this.data=Object.create(null)}destroy(){}createElement(r,i){return i?document.createElementNS(we[i]||i,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,i){r.appendChild(i)}insertBefore(r,i,u){r&&r.insertBefore(i,u)}removeChild(r,i){r&&r.removeChild(i)}selectRootElement(r,i){let u="string"==typeof r?document.querySelector(r):r;if(!u)throw new Error(`The selector "${r}" did not match any elements`);return i||(u.textContent=""),u}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,i,u,c){if(c){i=c+":"+i;const f=we[c];f?r.setAttributeNS(f,i,u):r.setAttribute(i,u)}else r.setAttribute(i,u)}removeAttribute(r,i,u){if(u){const c=we[u];c?r.removeAttributeNS(c,i):r.removeAttribute(`${u}:${i}`)}else r.removeAttribute(i)}addClass(r,i){r.classList.add(i)}removeClass(r,i){r.classList.remove(i)}setStyle(r,i,u,c){c&(m.JOm.DashCase|m.JOm.Important)?r.style.setProperty(i,u,c&m.JOm.Important?"important":""):r.style[i]=u}removeStyle(r,i,u){u&m.JOm.DashCase?r.style.removeProperty(i):r.style[i]=""}setProperty(r,i,u){r[i]=u}setValue(r,i){r.nodeValue=i}listen(r,i,u){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,i,ky(u)):this.eventManager.addEventListener(r,i,ky(u))}}class xs extends Ss{constructor(r,i,u,c){super(r),this.component=u;const f=As(c+"-"+u.id,u.styles,[]);i.addStyles(f),this.contentAttr="_ngcontent-%COMP%".replace(gt,c+"-"+u.id),this.hostAttr=function(s){return"_nghost-%COMP%".replace(gt,s)}(c+"-"+u.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,i){const u=super.createElement(r,i);return super.setAttribute(u,this.contentAttr,""),u}}class Ki extends Ss{constructor(r,i,u,c){super(r),this.sharedStylesHost=i,this.hostEl=u,this.shadowRoot=u.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=As(c.id,c.styles,[]);for(let _=0;_<f.length;_++){const b=document.createElement("style");b.textContent=f[_],this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,i){return super.appendChild(this.nodeOrShadowRoot(r),i)}insertBefore(r,i,u){return super.insertBefore(this.nodeOrShadowRoot(r),i,u)}removeChild(r,i){return super.removeChild(this.nodeOrShadowRoot(r),i)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let Fy=(()=>{class s extends gu{constructor(i){super(i)}supports(i){return!0}addEventListener(i,u,c){return i.addEventListener(u,c,!1),()=>this.removeEventListener(i,u,c)}removeEventListener(i,u,c){return i.removeEventListener(u,c)}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(ye))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();const _u=["alt","control","meta","shift"],By={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Tp={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Un={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let Er=(()=>{class s extends gu{constructor(i){super(i)}supports(i){return null!=s.parseEventName(i)}addEventListener(i,u,c){const f=s.parseEventName(u),_=s.eventCallback(f.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>H().onAndCancel(i,f.domEventName,_))}static parseEventName(i){const u=i.toLowerCase().split("."),c=u.shift();if(0===u.length||"keydown"!==c&&"keyup"!==c)return null;const f=s._normalizeKey(u.pop());let _="";if(_u.forEach(T=>{const N=u.indexOf(T);N>-1&&(u.splice(N,1),_+=T+".")}),_+=f,0!=u.length||0===f.length)return null;const b={};return b.domEventName=c,b.fullKey=_,b}static getEventFullKey(i){let u="",c=function(s){let r=s.key;if(null==r){if(r=s.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===s.location&&Tp.hasOwnProperty(r)&&(r=Tp[r]))}return By[r]||r}(i);return c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),_u.forEach(f=>{f!=c&&Un[f](i)&&(u+=f+".")}),u+=c,u}static eventCallback(i,u,c){return f=>{s.getEventFullKey(f)===i&&c.runGuarded(()=>u(f))}}static _normalizeKey(i){switch(i){case"esc":return"escape";default:return i}}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(ye))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();const $y=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:"browser"},{provide:m.g9A,useValue:function(){vo.makeCurrent(),Kt.init()},multi:!0},{provide:ye,useFactory:function(){return(0,m.RDi)(document),document},deps:[]}]),bo=[[],{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function(){return new m.qLn},deps:[]},{provide:Eo,useClass:Fy,multi:!0,deps:[ye,m.R0b,m.Lbi]},{provide:Eo,useClass:Er,multi:!0,deps:[ye]},[],{provide:ha,useClass:ha,deps:[Xl,wo,m.AFp]},{provide:m.FYo,useExisting:ha},{provide:eh,useExisting:wo},{provide:wo,useClass:wo,deps:[ye]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b]},{provide:Xl,useClass:Xl,deps:[Eo,m.R0b]},{provide:class{},useClass:_p,deps:[]},[]];let Rs=(()=>{class s{constructor(i){if(i)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(i){return{ngModule:s,providers:[{provide:m.AFp,useValue:i.appId},{provide:zl,useExisting:m.AFp},yp]}}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(s,12))},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({providers:bo,imports:[Lw,m.hGG]}),s})();"undefined"!=typeof window&&window;let ch=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=m.Xpm({type:s,selectors:[["app-menu-principal"]],decls:22,vars:0,consts:[[1,"site-header","sticky-top","py-1"],[1,"container","d-flex","flex-column","flex-md-row","justify-content-between"],["href","#","aria-label","Product",1,"py-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","role","img","viewBox","0 0 24 24","focusable","false",1,"d-block","mx-auto"],["cx","12","cy","12","r","10"],["d","M14.31 8l5.74 9.94M9.69 8h11.48M7.38 12l5.74-9.94M9.69 16L3.95 6.06M14.31 16H2.83m13.79-4l-5.74 9.94"],["href","#",1,"py-2","d-none","d-md-inline-block"]],template:function(i,u){1&i&&(m.TgZ(0,"nav",0),m.TgZ(1,"div",1),m.TgZ(2,"a",2),m.O4$(),m.TgZ(3,"svg",3),m.TgZ(4,"title"),m._uU(5,"Product"),m.qZA(),m._UZ(6,"circle",4),m._UZ(7,"path",5),m.qZA(),m.qZA(),m.kcU(),m.TgZ(8,"a",6),m._uU(9,"Tour"),m.qZA(),m.TgZ(10,"a",6),m._uU(11,"Product"),m.qZA(),m.TgZ(12,"a",6),m._uU(13,"Features"),m.qZA(),m.TgZ(14,"a",6),m._uU(15,"Enterprise"),m.qZA(),m.TgZ(16,"a",6),m._uU(17,"Support"),m.qZA(),m.TgZ(18,"a",6),m._uU(19,"Pricing"),m.qZA(),m.TgZ(20,"a",6),m._uU(21,"Cart"),m.qZA(),m.qZA(),m.qZA())},styles:[".site-header[_ngcontent-%COMP%]{background-color:#000000d9;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#999;transition:ease-in-out color .15s}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:none}"]}),s})();var Qt=F(4402),Ye=F(5917),wr=F(9765),wu=F(7971);class Fr extends wr.xQ{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){const i=super._subscribe(r);return i&&!i.closed&&r.next(this._value),i}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new wu.N;return this._value}next(r){super.next(this._value=r)}}var Cu=F(4869),bu=F(9796),sr=F(7393);class Rp extends sr.L{notifyNext(r,i,u,c,f){this.destination.next(i)}notifyError(r,i){this.destination.error(r)}notifyComplete(r){this.destination.complete()}}class Mp extends sr.L{constructor(r,i,u){super(),this.parent=r,this.outerValue=i,this.outerIndex=u,this.index=0}_next(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)}_error(r){this.parent.notifyError(r,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Op=F(7444),Cr=F(7574);function qy(s,r,i,u,c=new Mp(s,i,u)){if(!c.closed)return r instanceof Cr.y?r.subscribe(c):(0,Op.s)(r)(c)}var Pp=F(6693);const ma={};class Zy{constructor(r){this.resultSelector=r}call(r,i){return i.subscribe(new Du(r,this.resultSelector))}}class Du extends Rp{constructor(r,i){super(r),this.resultSelector=i,this.active=0,this.values=[],this.observables=[]}_next(r){this.values.push(ma),this.observables.push(r)}_complete(){const r=this.observables,i=r.length;if(0===i)this.destination.complete();else{this.active=i,this.toRespond=i;for(let u=0;u<i;u++)this.add(qy(this,r[u],void 0,u))}}notifyComplete(r){0==(this.active-=1)&&this.destination.complete()}notifyNext(r,i,u){const c=this.values,_=this.toRespond?c[u]===ma?--this.toRespond:this.toRespond:0;c[u]=i,0===_&&(this.resultSelector?this._tryResultSelector(c):this.destination.next(c.slice()))}_tryResultSelector(r){let i;try{i=this.resultSelector.apply(this,r)}catch(u){return void this.destination.error(u)}this.destination.next(i)}}const Yi=(()=>{function s(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return s.prototype=Object.create(Error.prototype),s})();var Tu=F(3282);function Su(...s){return(0,Tu.J)(1)((0,Ye.of)(...s))}var Lr=F(9193);function Io(s){return new Cr.y(r=>{let i;try{i=s()}catch(c){return void r.error(c)}return(i?(0,Qt.D)(i):(0,Lr.c)()).subscribe(r)})}var ya=F(2441),it=F(8002),Qi=F(5345);function an(s,r){return"function"==typeof r?i=>i.pipe(an((u,c)=>(0,Qt.D)(s(u,c)).pipe((0,it.U)((f,_)=>r(u,f,c,_))))):i=>i.lift(new $w(s))}class $w{constructor(r){this.project=r}call(r,i){return i.subscribe(new Gw(r,this.project))}}class Gw extends Qi.Ds{constructor(r,i){super(r),this.project=i,this.index=0}_next(r){let i;const u=this.index++;try{i=this.project(r,u)}catch(c){return void this.destination.error(c)}this._innerSub(i)}_innerSub(r){const i=this.innerSubscription;i&&i.unsubscribe();const u=new Qi.IY(this),c=this.destination;c.add(u),this.innerSubscription=(0,Qi.ft)(r,u),this.innerSubscription!==u&&c.add(this.innerSubscription)}_complete(){const{innerSubscription:r}=this;(!r||r.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(r){this.destination.next(r)}}const zy=(()=>{function s(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return s.prototype=Object.create(Error.prototype),s})();function xu(s){return r=>0===s?(0,Lr.c)():r.lift(new un(s))}class un{constructor(r){if(this.total=r,this.total<0)throw new zy}call(r,i){return i.subscribe(new dh(r,this.total))}}class dh extends sr.L{constructor(r,i){super(r),this.total=i,this.count=0}_next(r){const i=this.total,u=++this.count;u<=i&&(this.destination.next(r),u===i&&(this.destination.complete(),this.unsubscribe()))}}function Nu(...s){const r=s[s.length-1];return(0,Cu.K)(r)?(s.pop(),i=>Su(s,i,r)):i=>Su(s,i)}function _a(s,r){let i=!1;return arguments.length>=2&&(i=!0),function(c){return c.lift(new hh(s,r,i))}}class hh{constructor(r,i,u=!1){this.accumulator=r,this.seed=i,this.hasSeed=u}call(r,i){return i.subscribe(new Fp(r,this.accumulator,this.seed,this.hasSeed))}}class Fp extends sr.L{constructor(r,i,u,c){super(r),this.accumulator=i,this._seed=u,this.hasSeed=c,this.index=0}get seed(){return this._seed}set seed(r){this.hasSeed=!0,this._seed=r}_next(r){if(this.hasSeed)return this._tryNext(r);this.seed=r,this.destination.next(r)}_tryNext(r){const i=this.index++;let u;try{u=this.accumulator(this.seed,r,i)}catch(c){this.destination.error(c)}this.seed=u,this.destination.next(u)}}function ks(s,r){return function(u){return u.lift(new Lp(s,r))}}class Lp{constructor(r,i){this.predicate=r,this.thisArg=i}call(r,i){return i.subscribe(new lc(r,this.predicate,this.thisArg))}}class lc extends sr.L{constructor(r,i,u){super(r),this.predicate=i,this.thisArg=u,this.count=0}_next(r){let i;try{i=this.predicate.call(this.thisArg,r,this.count++)}catch(u){return void this.destination.error(u)}i&&this.destination.next(r)}}function ti(s){return function(i){const u=new Vp(s),c=i.lift(u);return u.caught=c}}class Vp{constructor(r){this.selector=r}call(r,i){return i.subscribe(new qw(r,this.selector,this.caught))}}class qw extends Qi.Ds{constructor(r,i,u){super(r),this.selector=i,this.caught=u}error(r){if(!this.isStopped){let i;try{i=this.selector(r,this.caught)}catch(f){return void super.error(f)}this._unsubscribeAndRecycle();const u=new Qi.IY(this);this.add(u);const c=(0,Qi.ft)(i,u);c!==u&&this.add(c)}}}var In=F(9773);function cc(s,r){return(0,In.zg)(s,r,1)}function en(s){return function(i){return 0===s?(0,Lr.c)():i.lift(new Ru(s))}}class Ru{constructor(r){if(this.total=r,this.total<0)throw new zy}call(r,i){return i.subscribe(new dc(r,this.total))}}class dc extends sr.L{constructor(r,i){super(r),this.total=i,this.ring=new Array,this.count=0}_next(r){const i=this.ring,u=this.total,c=this.count++;i.length<u?i.push(r):i[c%u]=r}_complete(){const r=this.destination;let i=this.count;if(i>0){const u=this.count>=this.total?this.total:this.count,c=this.ring;for(let f=0;f<u;f++){const _=i++%u;r.next(c[_])}}r.complete()}}function Ky(s=ri){return r=>r.lift(new fh(s))}class fh{constructor(r){this.errorFactory=r}call(r,i){return i.subscribe(new ni(r,this.errorFactory))}}class ni extends sr.L{constructor(r,i){super(r),this.errorFactory=i,this.hasValue=!1}_next(r){this.hasValue=!0,this.destination.next(r)}_complete(){if(this.hasValue)return this.destination.complete();{let r;try{r=this.errorFactory()}catch(i){r=i}this.destination.error(r)}}}function ri(){return new Yi}function Mu(s=null){return r=>r.lift(new Ji(s))}class Ji{constructor(r){this.defaultValue=r}call(r,i){return i.subscribe(new Ai(r,this.defaultValue))}}class Ai extends sr.L{constructor(r,i){super(r),this.defaultValue=i,this.isEmpty=!0}_next(r){this.isEmpty=!1,this.destination.next(r)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var ph=F(4487);function Do(s,r){const i=arguments.length>=2;return u=>u.pipe(s?ks((c,f)=>s(c,f,u)):ph.y,xu(1),i?Mu(r):Ky(()=>new Yi))}var ii=F(3342),Up=F(1307),Ou=F(5319);class mh{constructor(r){this.callback=r}call(r,i){return i.subscribe(new Fs(r,this.callback))}}class Fs extends sr.L{constructor(r,i){super(r),this.add(new Ou.w(i))}}class Xi{constructor(r,i){this.id=r,this.url=i}}class hc extends Xi{constructor(r,i,u="imperative",c=null){super(r,i),this.navigationTrigger=u,this.restoredState=c}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pu extends Xi{constructor(r,i,u){super(r,i),this.urlAfterRedirects=u}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fc extends Xi{constructor(r,i,u){super(r,i),this.reason=u}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Yy extends Xi{constructor(r,i,u){super(r,i),this.error=u}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qy extends Xi{constructor(r,i,u,c){super(r,i),this.urlAfterRedirects=u,this.state=c}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yh extends Xi{constructor(r,i,u,c){super(r,i),this.urlAfterRedirects=u,this.state=c}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ku extends Xi{constructor(r,i,u,c,f){super(r,i),this.urlAfterRedirects=u,this.state=c,this.shouldActivate=f}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _h extends Xi{constructor(r,i,u,c){super(r,i),this.urlAfterRedirects=u,this.state=c}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class va extends Xi{constructor(r,i,u,c){super(r,i),this.urlAfterRedirects=u,this.state=c}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jy{constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ls{constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ea{constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vs{constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bp{constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vh{constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jp{constructor(r,i,u){this.routerEvent=r,this.position=i,this.anchor=u}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const at="primary";class Xy{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const i=this.params[r];return Array.isArray(i)?i[0]:i}return null}getAll(r){if(this.has(r)){const i=this.params[r];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function es(s){return new Xy(s)}const wa="ngNavigationCancelingError";function ts(s){const r=Error("NavigationCancelingError: "+s);return r[wa]=!0,r}function Cn(s,r,i){const u=i.path.split("/");if(u.length>s.length||"full"===i.pathMatch&&(r.hasChildren()||u.length<s.length))return null;const c={};for(let f=0;f<u.length;f++){const _=u[f],b=s[f];if(_.startsWith(":"))c[_.substring(1)]=b;else if(_!==b.path)return null}return{consumed:s.slice(0,u.length),posParams:c}}function ns(s,r){const i=s?Object.keys(s):void 0,u=r?Object.keys(r):void 0;if(!i||!u||i.length!=u.length)return!1;let c;for(let f=0;f<i.length;f++)if(c=i[f],!Si(s[c],r[c]))return!1;return!0}function Si(s,r){if(Array.isArray(s)&&Array.isArray(r)){if(s.length!==r.length)return!1;const i=[...s].sort(),u=[...r].sort();return i.every((c,f)=>u[f]===c)}return s===r}function Ca(s){return Array.prototype.concat.apply([],s)}function $p(s){return s.length>0?s[s.length-1]:null}function Rn(s,r){for(const i in s)s.hasOwnProperty(i)&&r(s[i],i)}function si(s){return(0,m.CqO)(s)?s:(0,m.QGY)(s)?(0,Qt.D)(Promise.resolve(s)):(0,Ye.of)(s)}const rs={exact:function wh(s,r,i){if(!Ao(s.segments,r.segments)||!pc(s.segments,r.segments,i)||s.numberOfChildren!==r.numberOfChildren)return!1;for(const u in r.children)if(!s.children[u]||!wh(s.children[u],r.children[u],i))return!1;return!0},subset:Lu},Fu={exact:function(s,r){return ns(s,r)},subset:function(s,r){return Object.keys(r).length<=Object.keys(s).length&&Object.keys(r).every(i=>Si(s[i],r[i]))},ignored:()=>!0};function is(s,r,i){return rs[i.paths](s.root,r.root,i.matrixParams)&&Fu[i.queryParams](s.queryParams,r.queryParams)&&!("exact"===i.fragment&&s.fragment!==r.fragment)}function Lu(s,r,i){return Vu(s,r,r.segments,i)}function Vu(s,r,i,u){if(s.segments.length>i.length){const c=s.segments.slice(0,i.length);return!(!Ao(c,i)||r.hasChildren()||!pc(c,i,u))}if(s.segments.length===i.length){if(!Ao(s.segments,i)||!pc(s.segments,i,u))return!1;for(const c in r.children)if(!s.children[c]||!Lu(s.children[c],r.children[c],u))return!1;return!0}{const c=i.slice(0,s.segments.length),f=i.slice(s.segments.length);return!!(Ao(s.segments,c)&&pc(s.segments,c,u)&&s.children[at])&&Vu(s.children[at],r,f,u)}}function pc(s,r,i){return r.every((u,c)=>Fu[i](s[c].parameters,u.parameters))}class To{constructor(r,i,u){this.root=r,this.queryParams=i,this.fragment=u}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=es(this.queryParams)),this._queryParamMap}toString(){return r_.serialize(this)}}class ut{constructor(r,i){this.segments=r,this.children=i,this.parent=null,Rn(i,(u,c)=>u.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ia(this)}}class ss{constructor(r,i){this.path=r,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=es(this.parameters)),this._parameterMap}toString(){return Bu(this)}}function Ao(s,r){return s.length===r.length&&s.every((i,u)=>i.path===r[u].path)}class bh{}class n_{parse(r){const i=new Th(r);return new To(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(r){var s;return`${`/${Uu(r.root,!0)}`}${function(s){const r=Object.keys(s).map(i=>{const u=s[i];return Array.isArray(u)?u.map(c=>`${Da(i)}=${Da(c)}`).join("&"):`${Da(i)}=${Da(u)}`}).filter(i=>!!i);return r.length?`?${r.join("&")}`:""}(r.queryParams)}${"string"==typeof r.fragment?`#${s=r.fragment,encodeURI(s)}`:""}`}}const r_=new n_;function Ia(s){return s.segments.map(r=>Bu(r)).join("/")}function Uu(s,r){if(!s.hasChildren())return Ia(s);if(r){const i=s.children[at]?Uu(s.children[at],!1):"",u=[];return Rn(s.children,(c,f)=>{f!==at&&u.push(`${f}:${Uu(c,!1)}`)}),u.length>0?`${i}(${u.join("//")})`:i}{const i=function(s,r){let i=[];return Rn(s.children,(u,c)=>{c===at&&(i=i.concat(r(u,c)))}),Rn(s.children,(u,c)=>{c!==at&&(i=i.concat(r(u,c)))}),i}(s,(u,c)=>c===at?[Uu(s.children[at],!1)]:[`${c}:${Uu(u,!1)}`]);return 1===Object.keys(s.children).length&&null!=s.children[at]?`${Ia(s)}/${i[0]}`:`${Ia(s)}/(${i.join("//")})`}}function So(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Da(s){return So(s).replace(/%3B/gi,";")}function Ih(s){return So(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ta(s){return decodeURIComponent(s)}function i_(s){return Ta(s.replace(/\+/g,"%20"))}function Bu(s){return`${Ih(s.path)}${function(s){return Object.keys(s).map(r=>`;${Ih(r)}=${Ih(s[r])}`).join("")}(s.parameters)}`}const Wp=/^[^\/()?;=#]+/;function ju(s){const r=s.match(Wp);return r?r[0]:""}const Aa=/^[^=?&#]+/,s_=/^[^?&#]+/;class Th{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ut([],{}):new ut([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let u={};return this.peekStartsWith("(")&&(u=this.parseParens(!1)),(r.length>0||Object.keys(i).length>0)&&(u[at]=new ut(r,i)),u}parseSegment(){const r=ju(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(r),new ss(Ta(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const i=ju(this.remaining);if(!i)return;this.capture(i);let u="";if(this.consumeOptional("=")){const c=ju(this.remaining);c&&(u=c,this.capture(u))}r[Ta(i)]=Ta(u)}parseQueryParam(r){const i=function(s){const r=s.match(Aa);return r?r[0]:""}(this.remaining);if(!i)return;this.capture(i);let u="";if(this.consumeOptional("=")){const _=function(s){const r=s.match(s_);return r?r[0]:""}(this.remaining);_&&(u=_,this.capture(u))}const c=i_(i),f=i_(u);if(r.hasOwnProperty(c)){let _=r[c];Array.isArray(_)||(_=[_],r[c]=_),_.push(f)}else r[c]=f}parseParens(r){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const u=ju(this.remaining),c=this.remaining[u.length];if("/"!==c&&")"!==c&&";"!==c)throw new Error(`Cannot parse url '${this.url}'`);let f;u.indexOf(":")>-1?(f=u.substr(0,u.indexOf(":")),this.capture(f),this.capture(":")):r&&(f=at);const _=this.parseChildren();i[f]=1===Object.keys(_).length?_[at]:new ut([],_),this.consumeOptional("//")}return i}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new Error(`Expected "${r}".`)}}class zp{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const i=this.pathFromRoot(r);return i.length>1?i[i.length-2]:null}children(r){const i=Vr(r,this._root);return i?i.children.map(u=>u.value):[]}firstChild(r){const i=Vr(r,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(r){const i=Us(r,this._root);return i.length<2?[]:i[i.length-2].children.map(c=>c.value).filter(c=>c!==r)}pathFromRoot(r){return Us(r,this._root).map(i=>i.value)}}function Vr(s,r){if(s===r.value)return r;for(const i of r.children){const u=Vr(s,i);if(u)return u}return null}function Us(s,r){if(s===r.value)return[r];for(const i of r.children){const u=Us(s,i);if(u.length)return u.unshift(r),u}return[]}class xi{constructor(r,i){this.value=r,this.children=i}toString(){return`TreeNode(${this.value})`}}function Ro(s){const r={};return s&&s.children.forEach(i=>r[i.value.outlet]=i),r}class Kp extends zp{constructor(r,i){super(r),this.snapshot=i,mc(this,r)}toString(){return this.snapshot.toString()}}function Yp(s,r){const i=function(s,r){const _=new gc([],{},{},"",{},at,r,null,s.root,-1,{});return new Qp("",new xi(_,[]))}(s,r),u=new Fr([new ss("",{})]),c=new Fr({}),f=new Fr({}),_=new Fr({}),b=new Fr(""),T=new Sa(u,c,_,b,f,at,r,i.root);return T.snapshot=i.root,new Kp(new xi(T,[]),i)}class Sa{constructor(r,i,u,c,f,_,b,T){this.url=r,this.params=i,this.queryParams=u,this.fragment=c,this.data=f,this.outlet=_,this.component=b,this._futureSnapshot=T}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,it.U)(r=>es(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,it.U)(r=>es(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Sh(s,r="emptyOnly"){const i=s.pathFromRoot;let u=0;if("always"!==r)for(u=i.length-1;u>=1;){const c=i[u],f=i[u-1];if(c.routeConfig&&""===c.routeConfig.path)u--;else{if(f.component)break;u--}}return function(s){return s.reduce((r,i)=>({params:Object.assign(Object.assign({},r.params),i.params),data:Object.assign(Object.assign({},r.data),i.data),resolve:Object.assign(Object.assign({},r.resolve),i._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(u))}class gc{constructor(r,i,u,c,f,_,b,T,N,M,k){this.url=r,this.params=i,this.queryParams=u,this.fragment=c,this.data=f,this.outlet=_,this.component=b,this.routeConfig=T,this._urlSegment=N,this._lastPathIndex=M,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=es(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=es(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(u=>u.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qp extends zp{constructor(r,i){super(i),this.url=r,mc(this,i)}toString(){return xh(this._root)}}function mc(s,r){r.value._routerState=s,r.children.forEach(i=>mc(s,i))}function xh(s){const r=s.children.length>0?` { ${s.children.map(xh).join(", ")} } `:"";return`${s.value}${r}`}function Nh(s){if(s.snapshot){const r=s.snapshot,i=s._futureSnapshot;s.snapshot=i,ns(r.queryParams,i.queryParams)||s.queryParams.next(i.queryParams),r.fragment!==i.fragment&&s.fragment.next(i.fragment),ns(r.params,i.params)||s.params.next(i.params),function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(!ns(s[i],r[i]))return!1;return!0}(r.url,i.url)||s.url.next(i.url),ns(r.data,i.data)||s.data.next(i.data)}else s.snapshot=s._futureSnapshot,s.data.next(s._futureSnapshot.data)}function Mo(s,r){return ns(s.params,r.params)&&function(s,r){return Ao(s,r)&&s.every((i,u)=>ns(i.parameters,r[u].parameters))}(s.url,r.url)&&!(!s.parent!=!r.parent)&&(!s.parent||Mo(s.parent,r.parent))}function ar(s,r,i){if(i&&s.shouldReuseRoute(r.value,i.value.snapshot)){const u=i.value;u._futureSnapshot=r.value;const c=function(s,r,i){return r.children.map(u=>{for(const c of i.children)if(s.shouldReuseRoute(u.value,c.value.snapshot))return ar(s,u,c);return ar(s,u)})}(s,r,i);return new xi(u,c)}{if(s.shouldAttach(r.value)){const f=s.retrieve(r.value);if(null!==f){const _=f.route;return xa(r,_),_}}const u=function(s){return new Sa(new Fr(s.url),new Fr(s.params),new Fr(s.queryParams),new Fr(s.fragment),new Fr(s.data),s.outlet,s.component,s)}(r.value),c=r.children.map(f=>ar(s,f));return new xi(u,c)}}function xa(s,r){if(s.value.routeConfig!==r.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(s.children.length!==r.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");r.value._futureSnapshot=s.value;for(let i=0;i<s.children.length;++i)xa(s.children[i],r.children[i])}function Rh(s){return"object"==typeof s&&null!=s&&!s.outlets&&!s.segmentPath}function _c(s){return"object"==typeof s&&null!=s&&s.outlets}function Mh(s,r,i,u,c){let f={};return u&&Rn(u,(_,b)=>{f[b]=Array.isArray(_)?_.map(T=>`${T}`):`${_}`}),new To(i.root===s?r:vc(i.root,s,r),f,c)}function vc(s,r,i){const u={};return Rn(s.children,(c,f)=>{u[f]=c===r?i:vc(c,r,i)}),new ut(s.segments,u)}class Ec{constructor(r,i,u){if(this.isAbsolute=r,this.numberOfDoubleDots=i,this.commands=u,r&&u.length>0&&Rh(u[0]))throw new Error("Root segment cannot have matrix parameters");const c=u.find(_c);if(c&&c!==$p(u))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class eg{constructor(r,i,u){this.segmentGroup=r,this.processChildren=i,this.index=u}}function rg(s,r,i){if(s||(s=new ut([],{})),0===s.segments.length&&s.hasChildren())return wc(s,r,i);const u=function(s,r,i){let u=0,c=r;const f={match:!1,pathIndex:0,commandIndex:0};for(;c<s.segments.length;){if(u>=i.length)return f;const _=s.segments[c],b=i[u];if(_c(b))break;const T=`${b}`,N=u<i.length-1?i[u+1]:null;if(c>0&&void 0===T)break;if(T&&N&&"object"==typeof N&&void 0===N.outlets){if(!Na(T,N,_))return f;u+=2}else{if(!Na(T,{},_))return f;u++}c++}return{match:!0,pathIndex:c,commandIndex:u}}(s,r,i),c=i.slice(u.commandIndex);if(u.match&&u.pathIndex<s.segments.length){const f=new ut(s.segments.slice(0,u.pathIndex),{});return f.children[at]=new ut(s.segments.slice(u.pathIndex),s.children),wc(f,0,c)}return u.match&&0===c.length?new ut(s.segments,{}):u.match&&!s.hasChildren()?Cc(s,r,i):u.match?wc(s,0,c):Cc(s,r,i)}function wc(s,r,i){if(0===i.length)return new ut(s.segments,{});{const u=function(s){return _c(s[0])?s[0].outlets:{[at]:s}}(i),c={};return Rn(u,(f,_)=>{"string"==typeof f&&(f=[f]),null!==f&&(c[_]=rg(s.children[_],r,f))}),Rn(s.children,(f,_)=>{void 0===u[_]&&(c[_]=f)}),new ut(s.segments,c)}}function Cc(s,r,i){const u=s.segments.slice(0,r);let c=0;for(;c<i.length;){const f=i[c];if(_c(f)){const T=$u(f.outlets);return new ut(u,T)}if(0===c&&Rh(i[0])){u.push(new ss(s.segments[r].path,Gu(i[0]))),c++;continue}const _=_c(f)?f.outlets[at]:`${f}`,b=c<i.length-1?i[c+1]:null;_&&b&&Rh(b)?(u.push(new ss(_,Gu(b))),c+=2):(u.push(new ss(_,{})),c++)}return new ut(u,{})}function $u(s){const r={};return Rn(s,(i,u)=>{"string"==typeof i&&(i=[i]),null!==i&&(r[u]=Cc(new ut([],{}),0,i))}),r}function Gu(s){const r={};return Rn(s,(i,u)=>r[u]=`${i}`),r}function Na(s,r,i){return s==i.path&&ns(r,i.parameters)}class ln{constructor(r,i,u,c){this.routeReuseStrategy=r,this.futureState=i,this.currState=u,this.forwardEvent=c}activate(r){const i=this.futureState._root,u=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,u,r),Nh(this.futureState.root),this.activateChildRoutes(i,u,r)}deactivateChildRoutes(r,i,u){const c=Ro(i);r.children.forEach(f=>{const _=f.value.outlet;this.deactivateRoutes(f,c[_],u),delete c[_]}),Rn(c,(f,_)=>{this.deactivateRouteAndItsChildren(f,u)})}deactivateRoutes(r,i,u){const c=r.value,f=i?i.value:null;if(c===f)if(c.component){const _=u.getContext(c.outlet);_&&this.deactivateChildRoutes(r,i,_.children)}else this.deactivateChildRoutes(r,i,u);else f&&this.deactivateRouteAndItsChildren(i,u)}deactivateRouteAndItsChildren(r,i){this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,i):this.deactivateRouteAndOutlet(r,i)}detachAndStoreRouteSubtree(r,i){const u=i.getContext(r.value.outlet);if(u&&u.outlet){const c=u.outlet.detach(),f=u.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:c,route:r,contexts:f})}}deactivateRouteAndOutlet(r,i){const u=i.getContext(r.value.outlet),c=u&&r.value.component?u.children:i,f=Ro(r);for(const _ of Object.keys(f))this.deactivateRouteAndItsChildren(f[_],c);u&&u.outlet&&(u.outlet.deactivate(),u.children.onOutletDeactivated(),u.attachRef=null,u.resolver=null,u.route=null)}activateChildRoutes(r,i,u){const c=Ro(i);r.children.forEach(f=>{this.activateRoutes(f,c[f.value.outlet],u),this.forwardEvent(new vh(f.value.snapshot))}),r.children.length&&this.forwardEvent(new Vs(r.value.snapshot))}activateRoutes(r,i,u){const c=r.value,f=i?i.value:null;if(Nh(c),c===f)if(c.component){const _=u.getOrCreateContext(c.outlet);this.activateChildRoutes(r,i,_.children)}else this.activateChildRoutes(r,i,u);else if(c.component){const _=u.getOrCreateContext(c.outlet);if(this.routeReuseStrategy.shouldAttach(c.snapshot)){const b=this.routeReuseStrategy.retrieve(c.snapshot);this.routeReuseStrategy.store(c.snapshot,null),_.children.onOutletReAttached(b.contexts),_.attachRef=b.componentRef,_.route=b.route.value,_.outlet&&_.outlet.attach(b.componentRef,b.route.value),bc(b.route)}else{const b=function(s){for(let r=s.parent;r;r=r.parent){const i=r.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig;if(i&&i.component)return null}return null}(c.snapshot),T=b?b.module.componentFactoryResolver:null;_.attachRef=null,_.route=c,_.resolver=T,_.outlet&&_.outlet.activateWith(c,T),this.activateChildRoutes(r,null,_.children)}}else this.activateChildRoutes(r,null,u)}}function bc(s){Nh(s.value),s.children.forEach(bc)}class os{constructor(r,i){this.routes=r,this.module=i}}function Ni(s){return"function"==typeof s}function as(s){return s instanceof To}const _i=Symbol("INITIAL_VALUE");function Ri(){return an(s=>function(...s){let r,i;return(0,Cu.K)(s[s.length-1])&&(i=s.pop()),"function"==typeof s[s.length-1]&&(r=s.pop()),1===s.length&&(0,bu.k)(s[0])&&(s=s[0]),(0,Pp.n)(s,i).lift(new Zy(r))}(s.map(r=>r.pipe(xu(1),Nu(_i)))).pipe(_a((r,i)=>{let u=!1;return i.reduce((c,f,_)=>c!==_i?c:(f===_i&&(u=!0),u||!1!==f&&_!==i.length-1&&!as(f)?c:f),r)},_i),ks(r=>r!==_i),(0,it.U)(r=>as(r)?r:!0===r),xu(1)))}let qn=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=m.Xpm({type:s,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,u){1&i&&m._UZ(0,"router-outlet")},directives:function(){return[yg]},encapsulation:2}),s})();function Ic(s,r=""){for(let i=0;i<s.length;i++){const u=s[i];og(u,Fh(r,u))}}function og(s,r){s.children&&Ic(s.children,r)}function Fh(s,r){return r?s||r.path?s&&!r.path?`${s}/`:!s&&r.path?r.path:`${s}/${r.path}`:"":s}function At(s){const r=s.children&&s.children.map(At),i=r?Object.assign(Object.assign({},s),{children:r}):Object.assign({},s);return!i.component&&(r||i.loadChildren)&&i.outlet&&i.outlet!==at&&(i.component=qn),i}function Mn(s){return s.outlet||at}function Ra(s,r){const i=s.filter(u=>Mn(u)===r);return i.push(...s.filter(u=>Mn(u)!==r)),i}const Dc={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Tc(s,r,i){var u;if(""===r.path)return"full"===r.pathMatch&&(s.hasChildren()||i.length>0)?Object.assign({},Dc):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const f=(r.matcher||Cn)(i,s,r);if(!f)return Object.assign({},Dc);const _={};Rn(f.posParams,(T,N)=>{_[N]=T.path});const b=f.consumed.length>0?Object.assign(Object.assign({},_),f.consumed[f.consumed.length-1].parameters):_;return{matched:!0,consumedSegments:f.consumed,lastChild:f.consumed.length,parameters:b,positionalParamSegments:null!==(u=f.posParams)&&void 0!==u?u:{}}}function Br(s,r,i,u,c="corrected"){if(i.length>0&&function(s,r,i){return i.some(u=>Sc(s,r,u)&&Mn(u)!==at)}(s,i,u)){const _=new ut(r,function(s,r,i,u){const c={};c[at]=u,u._sourceSegment=s,u._segmentIndexShift=r.length;for(const f of i)if(""===f.path&&Mn(f)!==at){const _=new ut([],{});_._sourceSegment=s,_._segmentIndexShift=r.length,c[Mn(f)]=_}return c}(s,r,u,new ut(i,s.children)));return _._sourceSegment=s,_._segmentIndexShift=r.length,{segmentGroup:_,slicedSegments:[]}}if(0===i.length&&function(s,r,i){return i.some(u=>Sc(s,r,u))}(s,i,u)){const _=new ut(s.segments,function(s,r,i,u,c,f){const _={};for(const b of u)if(Sc(s,i,b)&&!c[Mn(b)]){const T=new ut([],{});T._sourceSegment=s,T._segmentIndexShift="legacy"===f?s.segments.length:r.length,_[Mn(b)]=T}return Object.assign(Object.assign({},c),_)}(s,r,i,u,s.children,c));return _._sourceSegment=s,_._segmentIndexShift=r.length,{segmentGroup:_,slicedSegments:i}}const f=new ut(s.segments,s.children);return f._sourceSegment=s,f._segmentIndexShift=r.length,{segmentGroup:f,slicedSegments:i}}function Sc(s,r,i){return(!(s.hasChildren()||r.length>0)||"full"!==i.pathMatch)&&""===i.path}function ug(s,r,i,u){return!!(Mn(s)===u||u!==at&&Sc(r,i,s))&&("**"===s.path||Tc(r,s,i).matched)}function lg(s,r,i){return 0===r.length&&!s.children[i]}class Ma{constructor(r){this.segmentGroup=r||null}}class C{constructor(r){this.urlTree=r}}function y(s){return new Cr.y(r=>r.error(new Ma(s)))}function E(s){return new Cr.y(r=>r.error(new C(s)))}function I(s){return new Cr.y(r=>r.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${s}'`)))}class Z{constructor(r,i,u,c,f){this.configLoader=i,this.urlSerializer=u,this.urlTree=c,this.config=f,this.allowRedirects=!0,this.ngModule=r.get(m.h0i)}apply(){const r=Br(this.urlTree.root,[],[],this.config).segmentGroup,i=new ut(r.segments,r.children);return this.expandSegmentGroup(this.ngModule,this.config,i,at).pipe((0,it.U)(f=>this.createUrlTree(xe(f),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ti(f=>{if(f instanceof C)return this.allowRedirects=!1,this.match(f.urlTree);throw f instanceof Ma?this.noMatchError(f):f}))}match(r){return this.expandSegmentGroup(this.ngModule,this.config,r.root,at).pipe((0,it.U)(c=>this.createUrlTree(xe(c),r.queryParams,r.fragment))).pipe(ti(c=>{throw c instanceof Ma?this.noMatchError(c):c}))}noMatchError(r){return new Error(`Cannot match any routes. URL Segment: '${r.segmentGroup}'`)}createUrlTree(r,i,u){const c=r.segments.length>0?new ut([],{[at]:r}):r;return new To(c,i,u)}expandSegmentGroup(r,i,u,c){return 0===u.segments.length&&u.hasChildren()?this.expandChildren(r,i,u).pipe((0,it.U)(f=>new ut([],f))):this.expandSegment(r,u,i,u.segments,c,!0)}expandChildren(r,i,u){const c=[];for(const f of Object.keys(u.children))"primary"===f?c.unshift(f):c.push(f);return(0,Qt.D)(c).pipe(cc(f=>{const _=u.children[f],b=Ra(i,f);return this.expandSegmentGroup(r,b,_,f).pipe((0,it.U)(T=>({segment:T,outlet:f})))}),_a((f,_)=>(f[_.outlet]=_.segment,f),{}),function(s,r){const i=arguments.length>=2;return u=>u.pipe(s?ks((c,f)=>s(c,f,u)):ph.y,en(1),i?Mu(r):Ky(()=>new Yi))}())}expandSegment(r,i,u,c,f,_){return(0,Qt.D)(u).pipe(cc(b=>this.expandSegmentAgainstRoute(r,i,u,b,c,f,_).pipe(ti(N=>{if(N instanceof Ma)return(0,Ye.of)(null);throw N}))),Do(b=>!!b),ti((b,T)=>{if(b instanceof Yi||"EmptyError"===b.name){if(lg(i,c,f))return(0,Ye.of)(new ut([],{}));throw new Ma(i)}throw b}))}expandSegmentAgainstRoute(r,i,u,c,f,_,b){return ug(c,i,f,_)?void 0===c.redirectTo?this.matchSegmentAgainstRoute(r,i,c,f,_):b&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,i,u,c,f,_):y(i):y(i)}expandSegmentAgainstRouteUsingRedirect(r,i,u,c,f,_){return"**"===c.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,u,c,_):this.expandRegularSegmentAgainstRouteUsingRedirect(r,i,u,c,f,_)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,i,u,c){const f=this.applyRedirectCommands([],u.redirectTo,{});return u.redirectTo.startsWith("/")?E(f):this.lineralizeSegments(u,f).pipe((0,In.zg)(_=>{const b=new ut(_,{});return this.expandSegment(r,b,i,_,c,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,i,u,c,f,_){const{matched:b,consumedSegments:T,lastChild:N,positionalParamSegments:M}=Tc(i,c,f);if(!b)return y(i);const k=this.applyRedirectCommands(T,c.redirectTo,M);return c.redirectTo.startsWith("/")?E(k):this.lineralizeSegments(c,k).pipe((0,In.zg)(W=>this.expandSegment(r,i,u,W.concat(f.slice(N)),_,!1)))}matchSegmentAgainstRoute(r,i,u,c,f){if("**"===u.path)return u.loadChildren?(u._loadedConfig?(0,Ye.of)(u._loadedConfig):this.configLoader.load(r.injector,u)).pipe((0,it.U)(W=>(u._loadedConfig=W,new ut(c,{})))):(0,Ye.of)(new ut(c,{}));const{matched:_,consumedSegments:b,lastChild:T}=Tc(i,u,c);if(!_)return y(i);const N=c.slice(T);return this.getChildConfig(r,u,c).pipe((0,In.zg)(k=>{const W=k.module,K=k.routes,{segmentGroup:_e,slicedSegments:Oe}=Br(i,b,N,K),Le=new ut(_e.segments,_e.children);if(0===Oe.length&&Le.hasChildren())return this.expandChildren(W,K,Le).pipe((0,it.U)(qt=>new ut(b,qt)));if(0===K.length&&0===Oe.length)return(0,Ye.of)(new ut(b,{}));const yt=Mn(u)===f;return this.expandSegment(W,Le,K,Oe,yt?at:f,!0).pipe((0,it.U)(_t=>new ut(b.concat(_t.segments),_t.children)))}))}getChildConfig(r,i,u){return i.children?(0,Ye.of)(new os(i.children,r)):i.loadChildren?void 0!==i._loadedConfig?(0,Ye.of)(i._loadedConfig):this.runCanLoadGuards(r.injector,i,u).pipe((0,In.zg)(c=>{return c?this.configLoader.load(r.injector,i).pipe((0,it.U)(f=>(i._loadedConfig=f,f))):(s=i,new Cr.y(r=>r.error(ts(`Cannot load children because the guard of the route "path: '${s.path}'" returned false`))));var s})):(0,Ye.of)(new os([],r))}runCanLoadGuards(r,i,u){const c=i.canLoad;if(!c||0===c.length)return(0,Ye.of)(!0);const f=c.map(_=>{const b=r.get(_);let T;if((s=b)&&Ni(s.canLoad))T=b.canLoad(i,u);else{if(!Ni(b))throw new Error("Invalid CanLoad guard");T=b(i,u)}var s;return si(T)});return(0,Ye.of)(f).pipe(Ri(),(0,ii.b)(_=>{if(!as(_))return;const b=ts(`Redirecting to "${this.urlSerializer.serialize(_)}"`);throw b.url=_,b}),(0,it.U)(_=>!0===_))}lineralizeSegments(r,i){let u=[],c=i.root;for(;;){if(u=u.concat(c.segments),0===c.numberOfChildren)return(0,Ye.of)(u);if(c.numberOfChildren>1||!c.children[at])return I(r.redirectTo);c=c.children[at]}}applyRedirectCommands(r,i,u){return this.applyRedirectCreatreUrlTree(i,this.urlSerializer.parse(i),r,u)}applyRedirectCreatreUrlTree(r,i,u,c){const f=this.createSegmentGroup(r,i.root,u,c);return new To(f,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(r,i){const u={};return Rn(r,(c,f)=>{if("string"==typeof c&&c.startsWith(":")){const b=c.substring(1);u[f]=i[b]}else u[f]=c}),u}createSegmentGroup(r,i,u,c){const f=this.createSegments(r,i.segments,u,c);let _={};return Rn(i.children,(b,T)=>{_[T]=this.createSegmentGroup(r,b,u,c)}),new ut(f,_)}createSegments(r,i,u,c){return i.map(f=>f.path.startsWith(":")?this.findPosParam(r,f,c):this.findOrReturn(f,u))}findPosParam(r,i,u){const c=u[i.path.substring(1)];if(!c)throw new Error(`Cannot redirect to '${r}'. Cannot find '${i.path}'.`);return c}findOrReturn(r,i){let u=0;for(const c of i){if(c.path===r.path)return i.splice(u),c;u++}return r}}function xe(s){const r={};for(const u of Object.keys(s.children)){const f=xe(s.children[u]);(f.segments.length>0||f.hasChildren())&&(r[u]=f)}return function(s){if(1===s.numberOfChildren&&s.children[at]){const r=s.children[at];return new ut(s.segments.concat(r.segments),r.children)}return s}(new ut(s.segments,r))}class Xe{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class ze{constructor(r,i){this.component=r,this.route=i}}function Dn(s,r,i){const u=s._root;return Bs(u,r?r._root:null,i,[u.value])}function Mi(s,r,i){const u=function(s){if(!s)return null;for(let r=s.parent;r;r=r.parent){const i=r.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig}return null}(r);return(u?u.module.injector:i).get(s)}function Bs(s,r,i,u,c={canDeactivateChecks:[],canActivateChecks:[]}){const f=Ro(r);return s.children.forEach(_=>{(function(s,r,i,u,c={canDeactivateChecks:[],canActivateChecks:[]}){const f=s.value,_=r?r.value:null,b=i?i.getContext(s.value.outlet):null;if(_&&f.routeConfig===_.routeConfig){const T=function(s,r,i){if("function"==typeof i)return i(s,r);switch(i){case"pathParamsChange":return!Ao(s.url,r.url);case"pathParamsOrQueryParamsChange":return!Ao(s.url,r.url)||!ns(s.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mo(s,r)||!ns(s.queryParams,r.queryParams);case"paramsChange":default:return!Mo(s,r)}}(_,f,f.routeConfig.runGuardsAndResolvers);T?c.canActivateChecks.push(new Xe(u)):(f.data=_.data,f._resolvedData=_._resolvedData),Bs(s,r,f.component?b?b.children:null:i,u,c),T&&b&&b.outlet&&b.outlet.isActivated&&c.canDeactivateChecks.push(new ze(b.outlet.component,_))}else _&&js(r,b,c),c.canActivateChecks.push(new Xe(u)),Bs(s,null,f.component?b?b.children:null:i,u,c)})(_,f[_.value.outlet],i,u.concat([_.value]),c),delete f[_.value.outlet]}),Rn(f,(_,b)=>js(_,i.getContext(b),c)),c}function js(s,r,i){const u=Ro(s),c=s.value;Rn(u,(f,_)=>{js(f,c.component?r?r.children.getContext(_):null:r,i)}),i.canDeactivateChecks.push(new ze(c.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,c))}class Lx{}function f_(s){return new Cr.y(r=>r.error(s))}class $s{constructor(r,i,u,c,f,_){this.rootComponentType=r,this.config=i,this.urlTree=u,this.url=c,this.paramsInheritanceStrategy=f,this.relativeLinkResolution=_}recognize(){const r=Br(this.urlTree.root,[],[],this.config.filter(_=>void 0===_.redirectTo),this.relativeLinkResolution).segmentGroup,i=this.processSegmentGroup(this.config,r,at);if(null===i)return null;const u=new gc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},at,this.rootComponentType,null,this.urlTree.root,-1,{}),c=new xi(u,i),f=new Qp(this.url,c);return this.inheritParamsAndData(f._root),f}inheritParamsAndData(r){const i=r.value,u=Sh(i,this.paramsInheritanceStrategy);i.params=Object.freeze(u.params),i.data=Object.freeze(u.data),r.children.forEach(c=>this.inheritParamsAndData(c))}processSegmentGroup(r,i,u){return 0===i.segments.length&&i.hasChildren()?this.processChildren(r,i):this.processSegment(r,i,i.segments,u)}processChildren(r,i){const u=[];for(const f of Object.keys(i.children)){const _=i.children[f],b=Ra(r,f),T=this.processSegmentGroup(b,_,f);if(null===T)return null;u.push(...T)}const c=m_(u);return c.sort((r,i)=>r.value.outlet===at?-1:i.value.outlet===at?1:r.value.outlet.localeCompare(i.value.outlet)),c}processSegment(r,i,u,c){for(const f of r){const _=this.processSegmentAgainstRoute(f,i,u,c);if(null!==_)return _}return lg(i,u,c)?[]:null}processSegmentAgainstRoute(r,i,u,c){if(r.redirectTo||!ug(r,i,u,c))return null;let f,_=[],b=[];if("**"===r.path){const K=u.length>0?$p(u).parameters:{};f=new gc(u,K,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pg(r),Mn(r),r.component,r,y_(i),__(i)+u.length,gg(r))}else{const K=Tc(i,r,u);if(!K.matched)return null;_=K.consumedSegments,b=u.slice(K.lastChild),f=new gc(_,K.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pg(r),Mn(r),r.component,r,y_(i),__(i)+_.length,gg(r))}const T=(s=r).children?s.children:s.loadChildren?s._loadedConfig.routes:[],{segmentGroup:N,slicedSegments:M}=Br(i,_,b,T.filter(K=>void 0===K.redirectTo),this.relativeLinkResolution);var s;if(0===M.length&&N.hasChildren()){const K=this.processChildren(T,N);return null===K?null:[new xi(f,K)]}if(0===T.length&&0===M.length)return[new xi(f,[])];const k=Mn(r)===c,W=this.processSegment(T,N,M,k?at:c);return null===W?null:[new xi(f,W)]}}function lT(s){const r=s.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function m_(s){const r=[],i=new Set;for(const u of s){if(!lT(u)){r.push(u);continue}const c=r.find(f=>u.value.routeConfig===f.value.routeConfig);void 0!==c?(c.children.push(...u.children),i.add(c)):r.push(u)}for(const u of i){const c=m_(u.children);r.push(new xi(u.value,c))}return r.filter(u=>!i.has(u))}function y_(s){let r=s;for(;r._sourceSegment;)r=r._sourceSegment;return r}function __(s){let r=s,i=r._segmentIndexShift?r._segmentIndexShift:0;for(;r._sourceSegment;)r=r._sourceSegment,i+=r._segmentIndexShift?r._segmentIndexShift:0;return i-1}function pg(s){return s.data||{}}function gg(s){return s.resolve||{}}function E_(s){return an(r=>{const i=s(r);return i?(0,Qt.D)(i).pipe((0,it.U)(()=>r)):(0,Ye.of)(r)})}class dT extends class{shouldDetach(r){return!1}store(r,i){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,i){return r.routeConfig===i.routeConfig}}{}const C_=new m.OlP("ROUTES");class Kw{constructor(r,i,u,c){this.loader=r,this.compiler=i,this.onLoadStartListener=u,this.onLoadEndListener=c}load(r,i){if(i._loader$)return i._loader$;this.onLoadStartListener&&this.onLoadStartListener(i);const c=this.loadModuleFactory(i.loadChildren).pipe((0,it.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);const _=f.create(r);return new os(Ca(_.injector.get(C_,void 0,m.XFs.Self|m.XFs.Optional)).map(At),_)}),ti(f=>{throw i._loader$=void 0,f}));return i._loader$=new ya.c(c,()=>new wr.xQ).pipe((0,Up.x)()),i._loader$}loadModuleFactory(r){return"string"==typeof r?(0,Qt.D)(this.loader.load(r)):si(r()).pipe((0,In.zg)(i=>i instanceof m.YKP?(0,Ye.of)(i):(0,Qt.D)(this.compiler.compileModuleAsync(i))))}}class hT{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Nc,this.attachRef=null}}class Nc{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const u=this.getOrCreateContext(r);u.outlet=i,this.contexts.set(r,u)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new hT,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}class b_{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}function Qw(s){throw s}function I_(s,r,i){return r.parse("/")}function Jw(s,r){return(0,Ye.of)(null)}const fT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let br=(()=>{class s{constructor(i,u,c,f,_,b,T,N){this.rootComponentType=i,this.urlSerializer=u,this.rootContexts=c,this.location=f,this.config=N,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new wr.xQ,this.errorHandler=Qw,this.malformedUriErrorHandler=I_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Jw,afterPreactivation:Jw},this.urlHandlingStrategy=new b_,this.routeReuseStrategy=new dT,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=_.get(m.h0i),this.console=_.get(m.c2e);const W=_.get(m.R0b);this.isNgZoneEnabled=W instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(N),this.currentUrlTree=new To(new ut([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Kw(b,T,K=>this.triggerEvent(new Jy(K)),K=>this.triggerEvent(new Ls(K))),this.routerState=Yp(this.currentUrlTree,this.rootComponentType),this.transitions=new Fr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var i;return null===(i=this.location.getState())||void 0===i?void 0:i.\u0275routerPageId}setupNavigations(i){const u=this.events;return i.pipe(ks(c=>0!==c.id),(0,it.U)(c=>Object.assign(Object.assign({},c),{extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),an(c=>{let f=!1,_=!1;return(0,Ye.of)(c).pipe((0,ii.b)(b=>{this.currentNavigation={id:b.id,initialUrl:b.currentRawUrl,extractedUrl:b.extractedUrl,trigger:b.source,extras:b.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),an(b=>{const T=!this.navigated||b.extractedUrl.toString()!==this.browserUrlTree.toString(),N=("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(b.rawUrl);if(Bh(b.source)&&(this.browserUrlTree=b.rawUrl),N)return(0,Ye.of)(b).pipe(an(M=>{const k=this.transitions.getValue();return u.next(new hc(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),k!==this.transitions.getValue()?Lr.E:Promise.resolve(M)}),function(s,r,i,u){return an(c=>function(s,r,i,u,c){return new Z(s,r,i,u,c).apply()}(s,r,i,c.extractedUrl,u).pipe((0,it.U)(f=>Object.assign(Object.assign({},c),{urlAfterRedirects:f}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ii.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function(s,r,i,u,c){return(0,In.zg)(f=>function(s,r,i,u,c="emptyOnly",f="legacy"){try{const _=new $s(s,r,i,u,c,f).recognize();return null===_?f_(new Lx):(0,Ye.of)(_)}catch(_){return f_(_)}}(s,r,f.urlAfterRedirects,i(f.urlAfterRedirects),u,c).pipe((0,it.U)(_=>Object.assign(Object.assign({},f),{targetSnapshot:_}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ii.b)(M=>{"eager"===this.urlUpdateStrategy&&(M.extras.skipLocationChange||this.setBrowserUrl(M.urlAfterRedirects,M),this.browserUrlTree=M.urlAfterRedirects);const k=new Qy(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);u.next(k)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:k,extractedUrl:W,source:K,restoredState:_e,extras:Oe}=b,Le=new hc(k,this.serializeUrl(W),K,_e);u.next(Le);const yt=Yp(W,this.rootComponentType).snapshot;return(0,Ye.of)(Object.assign(Object.assign({},b),{targetSnapshot:yt,urlAfterRedirects:W,extras:Object.assign(Object.assign({},Oe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=b.rawUrl,this.browserUrlTree=b.urlAfterRedirects,b.resolve(null),Lr.E}),E_(b=>{const{targetSnapshot:T,id:N,extractedUrl:M,rawUrl:k,extras:{skipLocationChange:W,replaceUrl:K}}=b;return this.hooks.beforePreactivation(T,{navigationId:N,appliedUrlTree:M,rawUrlTree:k,skipLocationChange:!!W,replaceUrl:!!K})}),(0,ii.b)(b=>{const T=new yh(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(T)}),(0,it.U)(b=>Object.assign(Object.assign({},b),{guards:Dn(b.targetSnapshot,b.currentSnapshot,this.rootContexts)})),function(s,r){return(0,In.zg)(i=>{const{targetSnapshot:u,currentSnapshot:c,guards:{canActivateChecks:f,canDeactivateChecks:_}}=i;return 0===_.length&&0===f.length?(0,Ye.of)(Object.assign(Object.assign({},i),{guardsResult:!0})):function(s,r,i,u){return(0,Qt.D)(s).pipe((0,In.zg)(c=>function(s,r,i,u,c){const f=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!f||0===f.length)return(0,Ye.of)(!0);const _=f.map(b=>{const T=Mi(b,r,c);let N;if(function(s){return s&&Ni(s.canDeactivate)}(T))N=si(T.canDeactivate(s,r,i,u));else{if(!Ni(T))throw new Error("Invalid CanDeactivate guard");N=si(T(s,r,i,u))}return N.pipe(Do())});return(0,Ye.of)(_).pipe(Ri())}(c.component,c.route,i,r,u)),Do(c=>!0!==c,!0))}(_,u,c,s).pipe((0,In.zg)(b=>b&&function(s){return"boolean"==typeof s}(b)?function(s,r,i,u){return(0,Qt.D)(r).pipe(cc(c=>Su(function(s,r){return null!==s&&r&&r(new Ea(s)),(0,Ye.of)(!0)}(c.route.parent,u),function(s,r){return null!==s&&r&&r(new Bp(s)),(0,Ye.of)(!0)}(c.route,u),function(s,r,i){const u=r[r.length-1],f=r.slice(0,r.length-1).reverse().map(_=>function(s){const r=s.routeConfig?s.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:s,guards:r}:null}(_)).filter(_=>null!==_).map(_=>Io(()=>{const b=_.guards.map(T=>{const N=Mi(T,_.node,i);let M;if(function(s){return s&&Ni(s.canActivateChild)}(N))M=si(N.canActivateChild(u,s));else{if(!Ni(N))throw new Error("Invalid CanActivateChild guard");M=si(N(u,s))}return M.pipe(Do())});return(0,Ye.of)(b).pipe(Ri())}));return(0,Ye.of)(f).pipe(Ri())}(s,c.path,i),function(s,r,i){const u=r.routeConfig?r.routeConfig.canActivate:null;if(!u||0===u.length)return(0,Ye.of)(!0);const c=u.map(f=>Io(()=>{const _=Mi(f,r,i);let b;if(function(s){return s&&Ni(s.canActivate)}(_))b=si(_.canActivate(r,s));else{if(!Ni(_))throw new Error("Invalid CanActivate guard");b=si(_(r,s))}return b.pipe(Do())}));return(0,Ye.of)(c).pipe(Ri())}(s,c.route,i))),Do(c=>!0!==c,!0))}(u,f,s,r):(0,Ye.of)(b)),(0,it.U)(b=>Object.assign(Object.assign({},i),{guardsResult:b})))})}(this.ngModule.injector,b=>this.triggerEvent(b)),(0,ii.b)(b=>{if(as(b.guardsResult)){const N=ts(`Redirecting to "${this.serializeUrl(b.guardsResult)}"`);throw N.url=b.guardsResult,N}const T=new ku(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot,!!b.guardsResult);this.triggerEvent(T)}),ks(b=>!!b.guardsResult||(this.restoreHistory(b),this.cancelNavigationTransition(b,""),!1)),E_(b=>{if(b.guards.canActivateChecks.length)return(0,Ye.of)(b).pipe((0,ii.b)(T=>{const N=new _h(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);this.triggerEvent(N)}),an(T=>{let N=!1;return(0,Ye.of)(T).pipe(function(s,r){return(0,In.zg)(i=>{const{targetSnapshot:u,guards:{canActivateChecks:c}}=i;if(!c.length)return(0,Ye.of)(i);let f=0;return(0,Qt.D)(c).pipe(cc(_=>function(s,r,i,u){return function(s,r,i,u){const c=Object.keys(s);if(0===c.length)return(0,Ye.of)({});const f={};return(0,Qt.D)(c).pipe((0,In.zg)(_=>function(s,r,i,u){const c=Mi(s,r,u);return si(c.resolve?c.resolve(r,i):c(r,i))}(s[_],r,i,u).pipe((0,ii.b)(b=>{f[_]=b}))),en(1),(0,In.zg)(()=>Object.keys(f).length===c.length?(0,Ye.of)(f):Lr.E))}(s._resolve,s,r,u).pipe((0,it.U)(f=>(s._resolvedData=f,s.data=Object.assign(Object.assign({},s.data),Sh(s,i).resolve),null)))}(_.route,u,s,r)),(0,ii.b)(()=>f++),en(1),(0,In.zg)(_=>f===c.length?(0,Ye.of)(i):Lr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ii.b)({next:()=>N=!0,complete:()=>{N||(this.restoreHistory(T),this.cancelNavigationTransition(T,"At least one route resolver didn't emit any value."))}}))}),(0,ii.b)(T=>{const N=new va(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);this.triggerEvent(N)}))}),E_(b=>{const{targetSnapshot:T,id:N,extractedUrl:M,rawUrl:k,extras:{skipLocationChange:W,replaceUrl:K}}=b;return this.hooks.afterPreactivation(T,{navigationId:N,appliedUrlTree:M,rawUrlTree:k,skipLocationChange:!!W,replaceUrl:!!K})}),(0,it.U)(b=>{const T=function(s,r,i){const u=ar(s,r._root,i?i._root:void 0);return new Kp(u,r)}(this.routeReuseStrategy,b.targetSnapshot,b.currentRouterState);return Object.assign(Object.assign({},b),{targetRouterState:T})}),(0,ii.b)(b=>{this.currentUrlTree=b.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl),this.routerState=b.targetRouterState,"deferred"===this.urlUpdateStrategy&&(b.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,b),this.browserUrlTree=b.urlAfterRedirects)}),((s,r,i)=>(0,it.U)(u=>(new ln(r,u.targetRouterState,u.currentRouterState,i).activate(s),u)))(this.rootContexts,this.routeReuseStrategy,b=>this.triggerEvent(b)),(0,ii.b)({next(){f=!0},complete(){f=!0}}),function(s){return r=>r.lift(new mh(s))}(()=>{if(!f&&!_){const b=`Navigation ID ${c.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(c),this.cancelNavigationTransition(c,b)):this.cancelNavigationTransition(c,b)}this.currentNavigation=null}),ti(b=>{if(_=!0,function(s){return s&&s[wa]}(b)){const T=as(b.url);T||(this.navigated=!0,this.restoreHistory(c,!0));const N=new fc(c.id,this.serializeUrl(c.extractedUrl),b.message);u.next(N),T?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(b.url,this.rawUrlTree),k={skipLocationChange:c.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Bh(c.source)};this.scheduleNavigation(M,"imperative",null,k,{resolve:c.resolve,reject:c.reject,promise:c.promise})},0):c.resolve(!1)}else{this.restoreHistory(c,!0);const T=new Yy(c.id,this.serializeUrl(c.extractedUrl),b);u.next(T);try{c.resolve(this.errorHandler(b))}catch(N){c.reject(N)}}return Lr.E}))}))}resetRootComponentType(i){this.rootComponentType=i,this.routerState.root.component=this.rootComponentType}getTransition(){const i=this.transitions.value;return i.urlAfterRedirects=this.browserUrlTree,i}setTransition(i){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),i))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const u=this.extractLocationChangeInfoFromEvent(i);this.shouldScheduleNavigation(this.lastLocationChangeInfo,u)&&setTimeout(()=>{const{source:c,state:f,urlTree:_}=u,b={replaceUrl:!0};if(f){const T=Object.assign({},f);delete T.navigationId,delete T.\u0275routerPageId,0!==Object.keys(T).length&&(b.state=T)}this.scheduleNavigation(_,c,f,b)},0),this.lastLocationChangeInfo=u}))}extractLocationChangeInfoFromEvent(i){var u;return{source:"popstate"===i.type?"popstate":"hashchange",urlTree:this.parseUrl(i.url),state:(null===(u=i.state)||void 0===u?void 0:u.navigationId)?i.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(i,u){if(!i)return!0;const c=u.urlTree.toString()===i.urlTree.toString();return u.transitionId!==i.transitionId||!c||!("hashchange"===u.source&&"popstate"===i.source||"popstate"===u.source&&"hashchange"===i.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(i){this.events.next(i)}resetConfig(i){Ic(i),this.config=i.map(At),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,u={}){const{relativeTo:c,queryParams:f,fragment:_,queryParamsHandling:b,preserveFragment:T}=u,N=c||this.routerState.root,M=T?this.currentUrlTree.fragment:_;let k=null;switch(b){case"merge":k=Object.assign(Object.assign({},this.currentUrlTree.queryParams),f);break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=f||null}return null!==k&&(k=this.removeEmptyProps(k)),function(s,r,i,u,c){if(0===i.length)return Mh(r.root,r.root,r,u,c);const f=function(s){if("string"==typeof s[0]&&1===s.length&&"/"===s[0])return new Ec(!0,0,s);let r=0,i=!1;const u=s.reduce((c,f,_)=>{if("object"==typeof f&&null!=f){if(f.outlets){const b={};return Rn(f.outlets,(T,N)=>{b[N]="string"==typeof T?T.split("/"):T}),[...c,{outlets:b}]}if(f.segmentPath)return[...c,f.segmentPath]}return"string"!=typeof f?[...c,f]:0===_?(f.split("/").forEach((b,T)=>{0==T&&"."===b||(0==T&&""===b?i=!0:".."===b?r++:""!=b&&c.push(b))}),c):[...c,f]},[]);return new Ec(i,r,u)}(i);if(f.toRoot())return Mh(r.root,new ut([],{}),r,u,c);const _=function(s,r,i){if(s.isAbsolute)return new eg(r.root,!0,0);if(-1===i.snapshot._lastPathIndex){const f=i.snapshot._urlSegment;return new eg(f,f===r.root,0)}const u=Rh(s.commands[0])?0:1;return function(s,r,i){let u=s,c=r,f=i;for(;f>c;){if(f-=c,u=u.parent,!u)throw new Error("Invalid number of '../'");c=u.segments.length}return new eg(u,!1,c-f)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+u,s.numberOfDoubleDots)}(f,r,s),b=_.processChildren?wc(_.segmentGroup,_.index,f.commands):rg(_.segmentGroup,_.index,f.commands);return Mh(_.segmentGroup,b,r,u,c)}(N,this.currentUrlTree,i,k,null!=M?M:null)}navigateByUrl(i,u={skipLocationChange:!1}){const c=as(i)?i:this.parseUrl(i),f=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(f,"imperative",null,u)}navigate(i,u={skipLocationChange:!1}){return function(s){for(let r=0;r<s.length;r++){const i=s[r];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${r}`)}}(i),this.navigateByUrl(this.createUrlTree(i,u),u)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let u;try{u=this.urlSerializer.parse(i)}catch(c){u=this.malformedUriErrorHandler(c,this.urlSerializer,i)}return u}isActive(i,u){let c;if(c=!0===u?Object.assign({},fT):!1===u?Object.assign({},Xw):u,as(i))return is(this.currentUrlTree,i,c);const f=this.parseUrl(i);return is(this.currentUrlTree,f,c)}removeEmptyProps(i){return Object.keys(i).reduce((u,c)=>{const f=i[c];return null!=f&&(u[c]=f),u},{})}processNavigations(){this.navigations.subscribe(i=>{this.navigated=!0,this.lastSuccessfulId=i.id,this.currentPageId=i.targetPageId,this.events.next(new Pu(i.id,this.serializeUrl(i.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,i.resolve(!0)},i=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(i,u,c,f,_){var b,T;if(this.disposed)return Promise.resolve(!1);const N=this.getTransition(),M=Bh(u)&&N&&!Bh(N.source),K=(this.lastSuccessfulId===N.id||this.currentNavigation?N.rawUrl:N.urlAfterRedirects).toString()===i.toString();if(M&&K)return Promise.resolve(!0);let _e,Oe,Le;_?(_e=_.resolve,Oe=_.reject,Le=_.promise):Le=new Promise((_t,qt)=>{_e=_t,Oe=qt});const yt=++this.navigationId;let It;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(c=this.location.getState()),It=c&&c.\u0275routerPageId?c.\u0275routerPageId:f.replaceUrl||f.skipLocationChange?null!==(b=this.browserPageId)&&void 0!==b?b:0:(null!==(T=this.browserPageId)&&void 0!==T?T:0)+1):It=0,this.setTransition({id:yt,targetPageId:It,source:u,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:i,extras:f,resolve:_e,reject:Oe,promise:Le,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Le.catch(_t=>Promise.reject(_t))}setBrowserUrl(i,u){const c=this.urlSerializer.serialize(i),f=Object.assign(Object.assign({},u.extras.state),this.generateNgRouterState(u.id,u.targetPageId));this.location.isCurrentPathEqualTo(c)||u.extras.replaceUrl?this.location.replaceState(c,"",f):this.location.go(c,"",f)}restoreHistory(i,u=!1){var c,f;if("computed"===this.canceledNavigationResolution){const _=this.currentPageId-i.targetPageId;"popstate"!==i.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)||0===_?this.currentUrlTree===(null===(f=this.currentNavigation)||void 0===f?void 0:f.finalUrl)&&0===_&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(_)}else"replace"===this.canceledNavigationResolution&&(u&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(i,u){const c=new fc(i.id,this.serializeUrl(i.extractedUrl),u);this.triggerEvent(c),i.resolve(!1)}generateNgRouterState(i,u){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:u}:{navigationId:i}}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(m.DyG),m.LFG(bh),m.LFG(Nc),m.LFG(Pe),m.LFG(m.zs3),m.LFG(m.v3s),m.LFG(m.Sil),m.LFG(void 0))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();function Bh(s){return"imperative"!==s}let yg=(()=>{class s{constructor(i,u,c,f,_){this.parentContexts=i,this.location=u,this.resolver=c,this.changeDetector=_,this.activated=null,this._activatedRoute=null,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.name=f||at,i.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const i=this.parentContexts.getContext(this.name);i&&i.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,i}attach(i,u){this.activated=i,this._activatedRoute=u,this.location.insert(i.hostView)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,u){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=i;const _=(u=u||this.resolver).resolveComponentFactory(i._futureSnapshot.routeConfig.component),b=this.parentContexts.getOrCreateContext(this.name).children,T=new tC(i,b,this.location.injector);this.activated=this.location.createComponent(_,this.location.length,T),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(Nc),m.Y36(m.s_b),m.Y36(m._Vd),m.$8M("name"),m.Y36(m.sBO))},s.\u0275dir=m.lG2({type:s,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),s})();class tC{constructor(r,i,u){this.route=r,this.childContexts=i,this.parent=u}get(r,i){return r===Sa?this.route:r===Nc?this.childContexts:this.parent.get(r,i)}}class _g{}class jh{preload(r,i){return(0,Ye.of)(null)}}let Hh=(()=>{class s{constructor(i,u,c,f,_){this.router=i,this.injector=f,this.preloadingStrategy=_,this.loader=new Kw(u,c,N=>i.triggerEvent(new Jy(N)),N=>i.triggerEvent(new Ls(N)))}setUpPreloading(){this.subscription=this.router.events.pipe(ks(i=>i instanceof Pu),cc(()=>this.preload())).subscribe(()=>{})}preload(){const i=this.injector.get(m.h0i);return this.processRoutes(i,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,u){const c=[];for(const f of u)if(f.loadChildren&&!f.canLoad&&f._loadedConfig){const _=f._loadedConfig;c.push(this.processRoutes(_.module,_.routes))}else f.loadChildren&&!f.canLoad?c.push(this.preloadConfig(i,f)):f.children&&c.push(this.processRoutes(i,f.children));return(0,Qt.D)(c).pipe((0,Tu.J)(),(0,it.U)(f=>{}))}preloadConfig(i,u){return this.preloadingStrategy.preload(u,()=>(u._loadedConfig?(0,Ye.of)(u._loadedConfig):this.loader.load(i.injector,u)).pipe((0,In.zg)(f=>(u._loadedConfig=f,this.processRoutes(f.module,f.routes)))))}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(br),m.LFG(m.v3s),m.LFG(m.Sil),m.LFG(m.zs3),m.LFG(_g))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})(),vg=(()=>{class s{constructor(i,u,c={}){this.router=i,this.viewportScroller=u,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(i=>{i instanceof hc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Pu&&(this.lastId=i.id,this.scheduleScrollEvent(i,this.router.parseUrl(i.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(i=>{i instanceof jp&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,u){this.router.triggerEvent(new jp(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,u))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(br),m.LFG(Gl),m.LFG(void 0))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();const Oa=new m.OlP("ROUTER_CONFIGURATION"),Eg=new m.OlP("ROUTER_FORROOT_GUARD"),gT=[Pe,{provide:bh,useClass:n_},{provide:br,useFactory:function(s,r,i,u,c,f,_,b={},T,N){const M=new br(null,s,r,i,u,c,f,Ca(_));return T&&(M.urlHandlingStrategy=T),N&&(M.routeReuseStrategy=N),function(s,r){s.errorHandler&&(r.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(r.malformedUriErrorHandler=s.malformedUriErrorHandler),s.onSameUrlNavigation&&(r.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.relativeLinkResolution&&(r.relativeLinkResolution=s.relativeLinkResolution),s.urlUpdateStrategy&&(r.urlUpdateStrategy=s.urlUpdateStrategy)}(b,M),b.enableTracing&&M.events.subscribe(k=>{var W,K;null===(W=console.group)||void 0===W||W.call(console,`Router Event: ${k.constructor.name}`),console.log(k.toString()),console.log(k),null===(K=console.groupEnd)||void 0===K||K.call(console)}),M},deps:[bh,Nc,Pe,m.zs3,m.v3s,m.Sil,C_,Oa,[class{},new m.FiY],[class{},new m.FiY]]},Nc,{provide:Sa,useFactory:function(s){return s.routerState.root},deps:[br]},{provide:m.v3s,useClass:m.EAV},Hh,jh,class{preload(r,i){return i().pipe(ti(()=>(0,Ye.of)(null)))}},{provide:Oa,useValue:{enableTracing:!1}}];function iC(){return new m.PXZ("Router",br)}let sC=(()=>{class s{constructor(i,u){}static forRoot(i,u){return{ngModule:s,providers:[gT,A_(i),{provide:Eg,useFactory:T_,deps:[[br,new m.FiY,new m.tp0]]},{provide:Oa,useValue:u||{}},{provide:X,useFactory:oC,deps:[he,[new m.tBr(be),new m.FiY],Oa]},{provide:vg,useFactory:mT,deps:[br,Gl,Oa]},{provide:_g,useExisting:u&&u.preloadingStrategy?u.preloadingStrategy:jh},{provide:m.PXZ,multi:!0,useFactory:iC},[wg,{provide:m.ip1,multi:!0,useFactory:_T,deps:[wg]},{provide:Pi,useFactory:vT,deps:[wg]},{provide:m.tb,multi:!0,useExisting:Pi}]]}}static forChild(i){return{ngModule:s,providers:[A_(i)]}}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(Eg,8),m.LFG(br,8))},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({}),s})();function mT(s,r,i){return i.scrollOffset&&r.setOffset(i.scrollOffset),new vg(s,r,i)}function oC(s,r,i={}){return i.useHash?new Ne(s,r):new Te(s,r)}function T_(s){return"guarded"}function A_(s){return[{provide:m.deG,multi:!0,useValue:s},{provide:C_,multi:!0,useValue:s}]}let wg=(()=>{class s{constructor(i){this.injector=i,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new wr.xQ}appInitializer(){return this.injector.get(L,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let u=null;const c=new Promise(b=>u=b),f=this.injector.get(br),_=this.injector.get(Oa);return"disabled"===_.initialNavigation?(f.setUpLocationChangeListener(),u(!0)):"enabled"===_.initialNavigation||"enabledBlocking"===_.initialNavigation?(f.hooks.afterPreactivation=()=>this.initNavigation?(0,Ye.of)(null):(this.initNavigation=!0,u(!0),this.resultOfPreactivationDone),f.initialNavigation()):u(!0),c})}bootstrapListener(i){const u=this.injector.get(Oa),c=this.injector.get(Hh),f=this.injector.get(vg),_=this.injector.get(br),b=this.injector.get(m.z2F);i===b.components[0]&&(("enabledNonBlocking"===u.initialNavigation||void 0===u.initialNavigation)&&_.initialNavigation(),c.setUpPreloading(),f.init(),_.resetRootComponentType(b.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(m.zs3))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();function _T(s){return s.appInitializer.bind(s)}function vT(s){return s.bootstrapListener.bind(s)}const Pi=new m.OlP("Router Initializer");let CT=(()=>{class s{constructor(){this.title="game-room-utn-app"}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=m.Xpm({type:s,selectors:[["app-root"]],decls:2,vars:0,template:function(i,u){1&i&&(m._UZ(0,"app-menu-principal"),m._UZ(1,"router-outlet"))},directives:[ch,yg],styles:[""]}),s})(),bT=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=m.Xpm({type:s,selectors:[["app-error"]],decls:2,vars:0,template:function(i,u){1&i&&(m.TgZ(0,"p"),m._uU(1,"error works!"),m.qZA())},styles:[""]}),s})(),IT=(()=>{class s{constructor(){this.userName=""}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),uC=(()=>{class s{constructor(i){this.service=i,this.usuarioActual=i.userName}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(IT))},s.\u0275cmp=m.Xpm({type:s,selectors:[["app-home"]],decls:150,vars:1,consts:[[1,"position-relative","overflow-hidden","p-3","p-md-5","m-md-3","text-center","bg-light"],[1,"col-md-5","p-lg-5","mx-auto","my-5"],[1,"display-4","font-weight-normal"],[1,"lead","font-weight-normal"],["href","#",1,"btn","btn-outline-secondary"],[1,"product-device","shadow-sm","d-none","d-md-block"],[1,"product-device","product-device-2","shadow-sm","d-none","d-md-block"],[1,"d-md-flex","flex-md-equal","w-100","my-md-3","pl-md-3"],[1,"bg-dark","mr-md-3","pt-3","px-3","pt-md-5","px-md-5","text-center","text-white","overflow-hidden"],[1,"my-3","py-3"],[1,"display-5"],[1,"lead"],[1,"bg-light","shadow-sm","mx-auto",2,"width","80%","height","300px","border-radius","21px 21px 0 0"],[1,"bg-light","mr-md-3","pt-3","px-3","pt-md-5","px-md-5","text-center","overflow-hidden"],[1,"my-3","p-3"],[1,"bg-dark","shadow-sm","mx-auto",2,"width","80%","height","300px","border-radius","21px 21px 0 0"],[1,"bg-primary","mr-md-3","pt-3","px-3","pt-md-5","px-md-5","text-center","text-white","overflow-hidden"],[1,"bg-white","shadow-sm","mx-auto",2,"width","80%","height","300px","border-radius","21px 21px 0 0"],[1,"container","py-5"],[1,"row"],[1,"col-12","col-md"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","role","img","viewBox","0 0 24 24","focusable","false",1,"d-block","mb-2"],["cx","12","cy","12","r","10"],["d","M14.31 8l5.74 9.94M9.69 8h11.48M7.38 12l5.74-9.94M9.69 16L3.95 6.06M14.31 16H2.83m13.79-4l-5.74 9.94"],[1,"d-block","mb-3","text-muted"],[1,"col-6","col-md"],[1,"list-unstyled","text-small"],["href","#",1,"text-muted"]],template:function(i,u){1&i&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"h1",2),m._uU(3),m.qZA(),m.TgZ(4,"p",3),m._uU(5,"And an even wittier subheading to boot. Jumpstart your marketing efforts with this example based on Apple\u2019s marketing pages."),m.qZA(),m.TgZ(6,"a",4),m._uU(7,"Coming soon"),m.qZA(),m.qZA(),m._UZ(8,"div",5),m._UZ(9,"div",6),m.qZA(),m.TgZ(10,"div",7),m.TgZ(11,"div",8),m.TgZ(12,"div",9),m.TgZ(13,"h2",10),m._uU(14,"Another headline"),m.qZA(),m.TgZ(15,"p",11),m._uU(16,"And an even wittier subheading."),m.qZA(),m.qZA(),m._UZ(17,"div",12),m.qZA(),m.TgZ(18,"div",13),m.TgZ(19,"div",14),m.TgZ(20,"h2",10),m._uU(21,"Another headline"),m.qZA(),m.TgZ(22,"p",11),m._uU(23,"And an even wittier subheading."),m.qZA(),m.qZA(),m._UZ(24,"div",15),m.qZA(),m.qZA(),m.TgZ(25,"div",7),m.TgZ(26,"div",13),m.TgZ(27,"div",14),m.TgZ(28,"h2",10),m._uU(29,"Another headline"),m.qZA(),m.TgZ(30,"p",11),m._uU(31,"And an even wittier subheading."),m.qZA(),m.qZA(),m._UZ(32,"div",15),m.qZA(),m.TgZ(33,"div",16),m.TgZ(34,"div",9),m.TgZ(35,"h2",10),m._uU(36,"Another headline"),m.qZA(),m.TgZ(37,"p",11),m._uU(38,"And an even wittier subheading."),m.qZA(),m.qZA(),m._UZ(39,"div",12),m.qZA(),m.qZA(),m.TgZ(40,"div",7),m.TgZ(41,"div",13),m.TgZ(42,"div",14),m.TgZ(43,"h2",10),m._uU(44,"Another headline"),m.qZA(),m.TgZ(45,"p",11),m._uU(46,"And an even wittier subheading."),m.qZA(),m.qZA(),m._UZ(47,"div",17),m.qZA(),m.TgZ(48,"div",13),m.TgZ(49,"div",9),m.TgZ(50,"h2",10),m._uU(51,"Another headline"),m.qZA(),m.TgZ(52,"p",11),m._uU(53,"And an even wittier subheading."),m.qZA(),m.qZA(),m._UZ(54,"div",17),m.qZA(),m.qZA(),m.TgZ(55,"div",7),m.TgZ(56,"div",13),m.TgZ(57,"div",14),m.TgZ(58,"h2",10),m._uU(59,"Another headline"),m.qZA(),m.TgZ(60,"p",11),m._uU(61,"And an even wittier subheading."),m.qZA(),m.qZA(),m._UZ(62,"div",17),m.qZA(),m.TgZ(63,"div",13),m.TgZ(64,"div",9),m.TgZ(65,"h2",10),m._uU(66,"Another headline"),m.qZA(),m.TgZ(67,"p",11),m._uU(68,"And an even wittier subheading."),m.qZA(),m.qZA(),m._UZ(69,"div",17),m.qZA(),m.qZA(),m.TgZ(70,"footer",18),m.TgZ(71,"div",19),m.TgZ(72,"div",20),m.O4$(),m.TgZ(73,"svg",21),m.TgZ(74,"title"),m._uU(75,"Product"),m.qZA(),m._UZ(76,"circle",22),m._UZ(77,"path",23),m.qZA(),m.kcU(),m.TgZ(78,"small",24),m._uU(79,"\xa9 2017-2021"),m.qZA(),m.qZA(),m.TgZ(80,"div",25),m.TgZ(81,"h5"),m._uU(82,"Features"),m.qZA(),m.TgZ(83,"ul",26),m.TgZ(84,"li"),m.TgZ(85,"a",27),m._uU(86,"Cool stuff"),m.qZA(),m.qZA(),m.TgZ(87,"li"),m.TgZ(88,"a",27),m._uU(89,"Random feature"),m.qZA(),m.qZA(),m.TgZ(90,"li"),m.TgZ(91,"a",27),m._uU(92,"Team feature"),m.qZA(),m.qZA(),m.TgZ(93,"li"),m.TgZ(94,"a",27),m._uU(95,"Stuff for developers"),m.qZA(),m.qZA(),m.TgZ(96,"li"),m.TgZ(97,"a",27),m._uU(98,"Another one"),m.qZA(),m.qZA(),m.TgZ(99,"li"),m.TgZ(100,"a",27),m._uU(101,"Last time"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(102,"div",25),m.TgZ(103,"h5"),m._uU(104,"Resources"),m.qZA(),m.TgZ(105,"ul",26),m.TgZ(106,"li"),m.TgZ(107,"a",27),m._uU(108,"Resource"),m.qZA(),m.qZA(),m.TgZ(109,"li"),m.TgZ(110,"a",27),m._uU(111,"Resource name"),m.qZA(),m.qZA(),m.TgZ(112,"li"),m.TgZ(113,"a",27),m._uU(114,"Another resource"),m.qZA(),m.qZA(),m.TgZ(115,"li"),m.TgZ(116,"a",27),m._uU(117,"Final resource"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(118,"div",25),m.TgZ(119,"h5"),m._uU(120,"Resources"),m.qZA(),m.TgZ(121,"ul",26),m.TgZ(122,"li"),m.TgZ(123,"a",27),m._uU(124,"Business"),m.qZA(),m.qZA(),m.TgZ(125,"li"),m.TgZ(126,"a",27),m._uU(127,"Education"),m.qZA(),m.qZA(),m.TgZ(128,"li"),m.TgZ(129,"a",27),m._uU(130,"Government"),m.qZA(),m.qZA(),m.TgZ(131,"li"),m.TgZ(132,"a",27),m._uU(133,"Gaming"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(134,"div",25),m.TgZ(135,"h5"),m._uU(136,"About"),m.qZA(),m.TgZ(137,"ul",26),m.TgZ(138,"li"),m.TgZ(139,"a",27),m._uU(140,"Team"),m.qZA(),m.qZA(),m.TgZ(141,"li"),m.TgZ(142,"a",27),m._uU(143,"Locations"),m.qZA(),m.qZA(),m.TgZ(144,"li"),m.TgZ(145,"a",27),m._uU(146,"Privacy"),m.qZA(),m.qZA(),m.TgZ(147,"li"),m.TgZ(148,"a",27),m._uU(149,"Terms"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&i&&(m.xp6(3),m.Oqu(u.usuarioActual))},styles:['.container[_ngcontent-%COMP%]{max-width:960px}.product-device[_ngcontent-%COMP%]{position:absolute;right:10%;bottom:-30%;width:300px;height:540px;background-color:#333;border-radius:21px;transform:rotate(30deg)}.product-device[_ngcontent-%COMP%]:before{position:absolute;top:10%;right:10px;bottom:10%;left:10px;content:"";background-color:#ffffff1a;border-radius:5px}.product-device-2[_ngcontent-%COMP%]{top:-25%;right:auto;bottom:0;left:5%;background-color:#e5e5e5}.flex-equal[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}@media (min-width: 768px){.flex-md-equal[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}}.overflow-hidden[_ngcontent-%COMP%]{overflow:hidden}']}),s})();var lC=F(6682),Gh=F(309),DT=F(7771),TT=F(8858);class st extends wr.xQ{constructor(r=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,u){super(),this.scheduler=u,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=r<1?1:r,this._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(r){if(!this.isStopped){const i=this._events;i.push(r),i.length>this._bufferSize&&i.shift()}super.next(r)}nextTimeWindow(r){this.isStopped||(this._events.push(new cC(this._getNow(),r)),this._trimBufferThenGetEvents()),super.next(r)}_subscribe(r){const i=this._infiniteTimeWindow,u=i?this._events:this._trimBufferThenGetEvents(),c=this.scheduler,f=u.length;let _;if(this.closed)throw new wu.N;if(this.isStopped||this.hasError?_=Ou.w.EMPTY:(this.observers.push(r),_=new TT.W(this,r)),c&&r.add(r=new Gh.ht(r,c)),i)for(let b=0;b<f&&!r.closed;b++)r.next(u[b]);else for(let b=0;b<f&&!r.closed;b++)r.next(u[b].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),_}_getNow(){return(this.scheduler||DT.c).now()}_trimBufferThenGetEvents(){const r=this._getNow(),i=this._bufferSize,u=this._windowTime,c=this._events,f=c.length;let _=0;for(;_<f&&!(r-c[_].time<u);)_++;return f>i&&(_=Math.max(_,f-i)),_>0&&c.splice(0,_),c}}class cC{constructor(r,i){this.time=r,this.value=i}}function S_(s,r,i){let u;return u=s&&"object"==typeof s?s:{bufferSize:s,windowTime:r,refCount:!1,scheduler:i},c=>c.lift(function({bufferSize:s=Number.POSITIVE_INFINITY,windowTime:r=Number.POSITIVE_INFINITY,refCount:i,scheduler:u}){let c,_,f=0,b=!1,T=!1;return function(M){let k;f++,!c||b?(b=!1,c=new st(s,r,u),k=c.subscribe(this),_=M.subscribe({next(W){c.next(W)},error(W){b=!0,c.error(W)},complete(){T=!0,_=void 0,c.complete()}}),T&&(_=void 0)):k=c.subscribe(this),this.add(()=>{f--,k.unsubscribe(),k=void 0,_&&!T&&i&&0===f&&(_.unsubscribe(),_=void 0,c=void 0)})}}(u))}function ki(s,r){return r?an(()=>s,r):an(()=>s)}var bg=F(3101),Zn=F(9126),us=F(8939),Gs=F(7841);const N_=new m.OlP("angularfire2.auth.use-emulator"),Ig=new m.OlP("angularfire2.auth.settings"),AT=new m.OlP("angularfire2.auth.tenant-id"),R_=new m.OlP("angularfire2.auth.langugage-code"),ST=new m.OlP("angularfire2.auth.use-device-language"),qs=new m.OlP("angularfire.auth.persistence"),qh=(s,r,i,u,c,f,_,b)=>(0,Zn.cc)(`${s.name}.auth`,"AngularFireAuth",s.name,()=>{const T=r.runOutsideAngular(()=>s.auth());if(i&&T.useEmulator(...i),u&&(T.tenantId=u),T.languageCode=c,f&&T.useDeviceLanguage(),_)for(const[N,M]of Object.entries(_))T.settings[N]=M;return b&&T.setPersistence(b),T},[i,u,c,f,_,b]);let Wu=(()=>{class s{constructor(i,u,c,f,_,b,T,N,M,k,W){const K=new wr.xQ,_e=(0,Ye.of)(void 0).pipe((0,Gh.QV)(_.outsideAngular),an(()=>f.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,9083)))),(0,it.U)(()=>(0,us.on)(i,f,u)),(0,it.U)(Oe=>qh(Oe,f,b,N,M,k,T,W)),S_({bufferSize:1,refCount:!1}));if(Hl(c))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ye.of)(null);else{_e.pipe(Do()).subscribe();const Le=_e.pipe(an(_t=>_t.getRedirectResult().then(qt=>qt,()=>null)),Zn.iC,S_({bufferSize:1,refCount:!1})),yt=_e.pipe(an(_t=>new Cr.y(qt=>({unsubscribe:f.runOutsideAngular(()=>_t.onAuthStateChanged(fi=>qt.next(fi),fi=>qt.error(fi),()=>qt.complete()))})))),It=_e.pipe(an(_t=>new Cr.y(qt=>({unsubscribe:f.runOutsideAngular(()=>_t.onIdTokenChanged(fi=>qt.next(fi),fi=>qt.error(fi),()=>qt.complete()))}))));this.authState=Le.pipe(ki(yt),(0,bg.R)(_.outsideAngular),(0,Gh.QV)(_.insideAngular)),this.user=Le.pipe(ki(It),(0,bg.R)(_.outsideAngular),(0,Gh.QV)(_.insideAngular)),this.idToken=this.user.pipe(an(_t=>_t?(0,Qt.D)(_t.getIdToken()):(0,Ye.of)(null))),this.idTokenResult=this.user.pipe(an(_t=>_t?(0,Qt.D)(_t.getIdTokenResult()):(0,Ye.of)(null))),this.credential=(0,lC.T)(Le,K,this.authState.pipe(ks(_t=>!_t))).pipe((0,it.U)(_t=>(null==_t?void 0:_t.user)?_t:null),(0,bg.R)(_.outsideAngular),(0,Gh.QV)(_.insideAngular))}return(0,us.pX)(this,_e,f,{spy:{apply:(Oe,Le,yt)=>{(Oe.startsWith("signIn")||Oe.startsWith("createUser"))&&yt.then(It=>K.next(It))}}})}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(us.Dh),m.LFG(us.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(Zn.HU),m.LFG(N_,8),m.LFG(Ig,8),m.LFG(AT,8),m.LFG(R_,8),m.LFG(ST,8),m.LFG(qs,8))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),M_=(()=>{class s{constructor(){Gs.Z.registerVersion("angularfire",Zn.q4.full,"auth-compat")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({providers:[Wu]}),s})(),jx=(()=>{class s{constructor(i){this.angularFireAuth=i,this.userData=i.authState,console.log(this.userData)}SignUp(i,u){this.angularFireAuth.createUserWithEmailAndPassword(i,u).then(c=>{console.log("You are Successfully signed up!",c)}).catch(c=>{console.log("Something is wrong:",c.message)})}SignIn(i,u){this.angularFireAuth.signInWithEmailAndPassword(i,u).then(c=>{console.log("You're in!")}).catch(c=>{console.log("Something went wrong:",c.message)})}SignOut(){this.angularFireAuth.signOut()}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(Wu))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var xT=F(1555);function O_(s,r){return new Cr.y(i=>{const u=s.length;if(0===u)return void i.complete();const c=new Array(u);let f=0,_=0;for(let b=0;b<u;b++){const T=(0,Qt.D)(s[b]);let N=!1;i.add(T.subscribe({next:M=>{N||(N=!0,_++),c[b]=M},error:M=>i.error(M),complete:()=>{f++,(f===u||!N)&&(_===u&&i.next(r?r.reduce((M,k,W)=>(M[k]=c[W],M),{}):c),i.complete())}}))}})}let hC=(()=>{class s{constructor(i,u){this._renderer=i,this._elementRef=u,this.onChange=c=>{},this.onTouched=()=>{}}setProperty(i,u){this._renderer.setProperty(this._elementRef.nativeElement,i,u)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(m.Qsj),m.Y36(m.SBq))},s.\u0275dir=m.lG2({type:s}),s})(),Rc=(()=>{class s extends hC{}return s.\u0275fac=function(){let r;return function(u){return(r||(r=m.n5z(s)))(u||s)}}(),s.\u0275dir=m.lG2({type:s,features:[m.qOj]}),s})();const ls=new m.OlP("NgValueAccessor"),P_={provide:ls,useExisting:(0,m.Gpc)(()=>k_),multi:!0},$x=new m.OlP("CompositionEventMode");let k_=(()=>{class s extends hC{constructor(i,u,c){super(i,u),this._compositionMode=c,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const s=H()?H().getUserAgent():"";return/android (\d+)/.test(s.toLowerCase())}())}writeValue(i){this.setProperty("value",null==i?"":i)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36($x,8))},s.\u0275dir=m.lG2({type:s,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,u){1&i&&m.NdJ("input",function(f){return u._handleInput(f.target.value)})("blur",function(){return u.onTouched()})("compositionstart",function(){return u._compositionStart()})("compositionend",function(f){return u._compositionEnd(f.target.value)})},features:[m._Bn([P_]),m.qOj]}),s})();const Hr=new m.OlP("NgValidators"),Ku=new m.OlP("NgAsyncValidators");function mC(s){return null!=s}function ko(s){const r=(0,m.QGY)(s)?(0,Qt.D)(s):s;return(0,m.CqO)(r),r}function V_(s){let r={};return s.forEach(i=>{r=null!=i?Object.assign(Object.assign({},r),i):r}),0===Object.keys(r).length?null:r}function yC(s,r){return r.map(i=>i(s))}function Ag(s){return s.map(r=>function(s){return!s.validate}(r)?r:i=>r.validate(i))}function Sg(s){return null!=s?function(s){if(!s)return null;const r=s.filter(mC);return 0==r.length?null:function(i){return V_(yC(i,r))}}(Ag(s)):null}function U_(s){return null!=s?function(s){if(!s)return null;const r=s.filter(mC);return 0==r.length?null:function(i){return function(...s){if(1===s.length){const r=s[0];if((0,bu.k)(r))return O_(r,null);if((0,xT.K)(r)&&Object.getPrototypeOf(r)===Object.prototype){const i=Object.keys(r);return O_(i.map(u=>r[u]),i)}}if("function"==typeof s[s.length-1]){const r=s.pop();return O_(s=1===s.length&&(0,bu.k)(s[0])?s[0]:s,null).pipe((0,it.U)(i=>r(...i)))}return O_(s,null)}(yC(i,r).map(ko)).pipe((0,it.U)(V_))}}(Ag(s)):null}function Mc(s,r){return null===s?[r]:Array.isArray(s)?[...s,r]:[s,r]}function Pa(s){return s?Array.isArray(s)?s:[s]:[]}function ka(s,r){return Array.isArray(s)?s.includes(r):s===r}function Qu(s,r){const i=Pa(r);return Pa(s).forEach(c=>{ka(i,c)||i.push(c)}),i}function EC(s,r){return Pa(r).filter(i=>!ka(s,i))}let B_=(()=>{class s{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=Sg(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=U_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i){this.control&&this.control.reset(i)}hasError(i,u){return!!this.control&&this.control.hasError(i,u)}getError(i,u){return this.control?this.control.getError(i,u):null}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=m.lG2({type:s}),s})(),Ir=(()=>{class s extends B_{get formDirective(){return null}get path(){return null}}return s.\u0275fac=function(){let r;return function(u){return(r||(r=m.n5z(s)))(u||s)}}(),s.\u0275dir=m.lG2({type:s,features:[m.qOj]}),s})();class Ws extends B_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let wC=(()=>{class s extends class{constructor(r){this._cd=r}is(r){var i,u,c;return"submitted"===r?!!(null===(i=this._cd)||void 0===i?void 0:i.submitted):!!(null===(c=null===(u=this._cd)||void 0===u?void 0:u.control)||void 0===c?void 0:c[r])}}{constructor(i){super(i)}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(Ws,2))},s.\u0275dir=m.lG2({type:s,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,u){2&i&&m.ekj("ng-untouched",u.is("untouched"))("ng-touched",u.is("touched"))("ng-pristine",u.is("pristine"))("ng-dirty",u.is("dirty"))("ng-valid",u.is("valid"))("ng-invalid",u.is("invalid"))("ng-pending",u.is("pending"))},features:[m.qOj]}),s})();function Rg(s,r){(function(s,r){const i=function(s){return s._rawValidators}(s);null!==r.validator?s.setValidators(Mc(i,r.validator)):"function"==typeof i&&s.setValidators([i]);const u=function(s){return s._rawAsyncValidators}(s);null!==r.asyncValidator?s.setAsyncValidators(Mc(u,r.asyncValidator)):"function"==typeof u&&s.setAsyncValidators([u]);const c=()=>s.updateValueAndValidity();Oc(r._rawValidators,c),Oc(r._rawAsyncValidators,c)})(s,r),r.valueAccessor.writeValue(s.value),function(s,r){r.valueAccessor.registerOnChange(i=>{s._pendingValue=i,s._pendingChange=!0,s._pendingDirty=!0,"change"===s.updateOn&&SC(s,r)})}(s,r),function(s,r){const i=(u,c)=>{r.valueAccessor.writeValue(u),c&&r.viewToModelUpdate(u)};s.registerOnChange(i),r._registerOnDestroy(()=>{s._unregisterOnChange(i)})}(s,r),function(s,r){r.valueAccessor.registerOnTouched(()=>{s._pendingTouched=!0,"blur"===s.updateOn&&s._pendingChange&&SC(s,r),"submit"!==s.updateOn&&s.markAsTouched()})}(s,r),function(s,r){if(r.valueAccessor.setDisabledState){const i=u=>{r.valueAccessor.setDisabledState(u)};s.registerOnDisabledChange(i),r._registerOnDestroy(()=>{s._unregisterOnDisabledChange(i)})}}(s,r)}function Oc(s,r){s.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(r)})}function SC(s,r){s._pendingDirty&&s.markAsDirty(),s.setValue(s._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(s._pendingValue),s._pendingChange=!1}function kg(s,r){const i=s.indexOf(r);i>-1&&s.splice(i,1)}const Pc="VALID",Fg="INVALID",kc="PENDING",zh="DISABLED";function W_(s){return(z_(s)?s.validators:s)||null}function MC(s){return Array.isArray(s)?Sg(s):s||null}function Fc(s,r){return(z_(r)?r.asyncValidators:s)||null}function Lg(s){return Array.isArray(s)?U_(s):s||null}function z_(s){return null!=s&&!Array.isArray(s)&&"object"==typeof s}class Kh{constructor(r,i){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=i,this._composedValidatorFn=MC(this._rawValidators),this._composedAsyncValidatorFn=Lg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===Pc}get invalid(){return this.status===Fg}get pending(){return this.status==kc}get disabled(){return this.status===zh}get enabled(){return this.status!==zh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=MC(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=Lg(r)}addValidators(r){this.setValidators(Qu(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(Qu(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(EC(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(EC(r,this._rawAsyncValidators))}hasValidator(r){return ka(this._rawValidators,r)}hasAsyncValidator(r){return ka(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=kc,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const i=this._parentMarkedDirty(r.onlySelf);this.status=zh,this.errors=null,this._forEachChild(u=>{u.disable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:i})),this._onDisabledChange.forEach(u=>u(!0))}enable(r={}){const i=this._parentMarkedDirty(r.onlySelf);this.status=Pc,this._forEachChild(u=>{u.enable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:i})),this._onDisabledChange.forEach(u=>u(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pc||this.status===kc)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zh:Pc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=kc,this._hasOwnPendingAsyncValidator=!0;const i=ko(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(u=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(u,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,i={}){this.errors=r,this._updateControlsErrors(!1!==i.emitEvent)}get(r){return function(s,r,i){if(null==r||(Array.isArray(r)||(r=r.split(".")),Array.isArray(r)&&0===r.length))return null;let u=s;return r.forEach(c=>{u=u instanceof Vg?u.controls.hasOwnProperty(c)?u.controls[c]:null:u instanceof LT&&u.at(c)||null}),u}(this,r)}getError(r,i){const u=i?this.get(i):this;return u&&u.errors?u.errors[r]:null}hasError(r,i){return!!this.getError(r,i)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?zh:this.errors?Fg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(kc)?kc:this._anyControlsHaveStatus(Fg)?Fg:Pc}_anyControlsHaveStatus(r){return this._anyControls(i=>i.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_isBoxedValue(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){z_(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Lc extends Kh{constructor(r=null,i,u){super(W_(i),Fc(u,i)),this._onChange=[],this._applyFormState(r),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(r,i={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(u=>u(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(r,i={}){this.setValue(r,i)}reset(r=null,i={}){this._applyFormState(r),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){kg(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){kg(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){this._isBoxedValue(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}}class Vg extends Kh{constructor(r,i,u){super(W_(i),Fc(u,i)),this.controls=r,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,i){return this.controls[r]?this.controls[r]:(this.controls[r]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(r,i,u={}){this.registerControl(r,i),this.updateValueAndValidity({emitEvent:u.emitEvent}),this._onCollectionChange()}removeControl(r,i={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(r,i,u={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],i&&this.registerControl(r,i),this.updateValueAndValidity({emitEvent:u.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,i={}){this._checkAllValuesPresent(r),Object.keys(r).forEach(u=>{this._throwIfControlMissing(u),this.controls[u].setValue(r[u],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(r,i={}){null!=r&&(Object.keys(r).forEach(u=>{this.controls[u]&&this.controls[u].patchValue(r[u],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(r={},i={}){this._forEachChild((u,c)=>{u.reset(r[c],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(r,i,u)=>(r[u]=i instanceof Lc?i.value:i.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(i,u)=>!!u._syncPendingControls()||i);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[r])throw new Error(`Cannot find form control with name: ${r}.`)}_forEachChild(r){Object.keys(this.controls).forEach(i=>{const u=this.controls[i];u&&r(u,i)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const i of Object.keys(this.controls)){const u=this.controls[i];if(this.contains(i)&&r(u))return!0}return!1}_reduceValue(){return this._reduceChildren({},(r,i,u)=>((i.enabled||this.disabled)&&(r[u]=i.value),r))}_reduceChildren(r,i){let u=r;return this._forEachChild((c,f)=>{u=i(u,c,f)}),u}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(r){this._forEachChild((i,u)=>{if(void 0===r[u])throw new Error(`Must supply a value for form control with name: '${u}'.`)})}}class LT extends Kh{constructor(r,i,u){super(W_(i),Fc(u,i)),this.controls=r,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[r]}push(r,i={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(r,i,u={}){this.controls.splice(r,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:u.emitEvent})}removeAt(r,i={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(r,i,u={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),i&&(this.controls.splice(r,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:u.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,i={}){this._checkAllValuesPresent(r),r.forEach((u,c)=>{this._throwIfControlMissing(c),this.at(c).setValue(u,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(r,i={}){null!=r&&(r.forEach((u,c)=>{this.at(c)&&this.at(c).patchValue(u,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(r=[],i={}){this._forEachChild((u,c)=>{u.reset(r[c],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(r=>r instanceof Lc?r.value:r.getRawValue())}clear(r={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_syncPendingControls(){let r=this.controls.reduce((i,u)=>!!u._syncPendingControls()||i,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(r))throw new Error(`Cannot find form control at index ${r}`)}_forEachChild(r){this.controls.forEach((i,u)=>{r(i,u)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(i=>i.enabled&&r(i))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_checkAllValuesPresent(r){this._forEachChild((i,u)=>{if(void 0===r[u])throw new Error(`Must supply a value for form control at index: ${u}.`)})}_allControlsDisabled(){for(const r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}}const $T={provide:Ws,useExisting:(0,m.Gpc)(()=>Fa)},GT=(()=>Promise.resolve(null))();let Fa=(()=>{class s extends Ws{constructor(i,u,c,f){super(),this.control=new Lc,this._registered=!1,this.update=new m.vpe,this._parent=i,this._setValidators(u),this._setAsyncValidators(c),this.valueAccessor=function(s,r){if(!r)return null;let i,u,c;return Array.isArray(r),r.forEach(f=>{f.constructor===k_?i=f:function(s){return Object.getPrototypeOf(s.constructor)===Rc}(f)?u=f:c=f}),c||u||i||null}(0,f)}ngOnChanges(i){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in i&&this._updateDisabled(i),function(s,r){if(!s.hasOwnProperty("model"))return!1;const i=s.model;return!!i.isFirstChange()||!Object.is(r,i.currentValue)}(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(s,r){return[...r.path,s]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Rg(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(i){GT.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1})})}_updateDisabled(i){const u=i.isDisabled.currentValue,c=""===u||u&&"false"!==u;GT.then(()=>{c&&!this.control.disabled?this.control.disable():!c&&this.control.disabled&&this.control.enable()})}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(Ir,9),m.Y36(Hr,10),m.Y36(Ku,10),m.Y36(ls,10))},s.\u0275dir=m.lG2({type:s,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m._Bn([$T]),m.qOj,m.TTD]}),s})(),Q_=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({}),s})();const JT={provide:Hr,useExisting:(0,m.Gpc)(()=>jc),multi:!0};let jc=(()=>{class s{constructor(){this._required=!1}get required(){return this._required}set required(i){this._required=null!=i&&!1!==i&&"false"!=`${i}`,this._onChange&&this._onChange()}validate(i){return this.required?function(s){return function(s){return null==s||0===s.length}(s.value)?{required:!0}:null}(i):null}registerOnValidatorChange(i){this._onChange=i}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=m.lG2({type:s,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,u){2&i&&m.uIk("required",u.required?"":null)},inputs:{required:"required"},features:[m._Bn([JT])]}),s})(),YC=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({imports:[[Q_]]}),s})(),tN=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({imports:[YC]}),s})(),cv=(()=>{class s{constructor(i,u){this.router=i,this.authService=u}ngOnInit(){}signUp(){null!=this.email&&null!=this.password&&(this.authService.SignUp(this.email,this.password),this.email="",this.password="")}signIn(){null!=this.email&&null!=this.password&&(this.authService.SignIn(this.email,this.password),this.email="",this.password="")}signOut(){this.authService.SignOut()}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(br),m.Y36(jx))},s.\u0275cmp=m.Xpm({type:s,selectors:[["app-login"]],decls:18,vars:2,consts:[[1,"form-signin"],["src","../assets/ghost.png","alt","","width","72","height","72",1,"mx-auto","mb-4"],[1,"h3","mb-3","font-weight-normal"],["for","inputEmail",1,"sr-only"],["type","email","id","inputEmail","placeholder","Email","required","","autofocus","",1,"form-control",3,"ngModel","ngModelChange"],["for","inputPassword",1,"sr-only"],["type","password","id","inputPassword","placeholder","Password","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"checkbox","mb-3"],["type","checkbox","value","remember-me"],["type","button",1,"btn","btn-lg","btn-primary","btn-block",3,"click"],["type","button",1,"btn","btn-lg","btn-warning","btn-block",3,"click"]],template:function(i,u){1&i&&(m.TgZ(0,"div",0),m._UZ(1,"img",1),m.TgZ(2,"h1",2),m._uU(3,"Por favor ingresa"),m.qZA(),m.TgZ(4,"label",3),m._uU(5,"Email"),m.qZA(),m.TgZ(6,"input",4),m.NdJ("ngModelChange",function(f){return u.email=f}),m.qZA(),m.TgZ(7,"label",5),m._uU(8,"Password"),m.qZA(),m.TgZ(9,"input",6),m.NdJ("ngModelChange",function(f){return u.password=f}),m.qZA(),m.TgZ(10,"div",7),m.TgZ(11,"label"),m._UZ(12,"input",8),m._uU(13," Remember me "),m.qZA(),m.qZA(),m.TgZ(14,"button",9),m.NdJ("click",function(){return u.signIn()}),m._uU(15,"Ingresar"),m.qZA(),m.TgZ(16,"button",10),m.NdJ("click",function(){return u.signUp()}),m._uU(17,"Registrarse"),m.qZA(),m.qZA()),2&i&&(m.xp6(6),m.Q6J("ngModel",u.email),m.xp6(3),m.Q6J("ngModel",u.password))},directives:[k_,jc,wC,Fa],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;height:auto;padding:10px;font-size:16px}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}"]}),s})();const rN=[{path:"home",component:uC},{path:"login",component:cv},{path:"home",component:uC},{path:"login",component:cv},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",component:bT}];let Li=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({imports:[[sC.forRoot(rN)],sC]}),s})();var iN=F(3637);function JC(){return s=>s.lift(new sN)}class sN{call(r,i){return i.subscribe(new XC(r))}}class XC extends sr.L{constructor(r){super(r),this.hasPrev=!1}_next(r){let i;this.hasPrev?i=[this.prev,r]:this.hasPrev=!0,this.prev=r,i&&this.destination.next(i)}}class tb{constructor(r,i){this.compare=r,this.keySelector=i}call(r,i){return i.subscribe(new rA(r,this.compare,this.keySelector))}}class rA extends sr.L{constructor(r,i,u){super(r),this.keySelector=u,this.hasKey=!1,"function"==typeof i&&(this.compare=i)}compare(r,i){return r===i}_next(r){let i;try{const{keySelector:c}=this;i=c?c(r):r}catch(c){return this.destination.error(c)}let u=!1;if(this.hasKey)try{const{compare:c}=this;u=c(this.key,i)}catch(c){return this.destination.error(c)}else this.hasKey=!0;u||(this.key=i,this.destination.next(r))}}F(9083);var nb=F(4486),me=F(8239),dv=F(5452),Hg=F(6034),Ju=F(300),Pt=F(4685),hv=function(s,r){return(hv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,u){i.__proto__=u}||function(i,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(i[c]=u[c])})(s,r)};function rb(s){var r="function"==typeof Symbol&&Symbol.iterator,i=r&&s[r],u=0;if(i)return i.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&u>=s.length&&(s=void 0),{value:s&&s[u++],done:!s}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ve,sA="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},La=La||{},tt=sA||self;function oi(){}function Xu(s){var r=typeof s;return"array"==(r="object"!=r?r:s?Array.isArray(s)?"array":r:"null")||"object"==r&&"number"==typeof s.length}function Xh(s){var r=typeof s;return"object"==r&&null!=s||"function"==r}var ef="closure_uid_"+(1e9*Math.random()>>>0),Ys=0;function tf(s,r,i){return s.call.apply(s.bind,arguments)}function Dr(s,r,i){if(!s)throw Error();if(2<arguments.length){var u=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,u),s.apply(r,c)}}return function(){return s.apply(r,arguments)}}function gn(s,r,i){return(gn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tf:Dr).apply(null,arguments)}function el(s,r){var i=Array.prototype.slice.call(arguments,1);return function(){var u=i.slice();return u.push.apply(u,arguments),s.apply(this,u)}}function Bt(s,r){function i(){}i.prototype=r.prototype,s.Z=r.prototype,s.prototype=new i,s.prototype.constructor=s,s.Vb=function(u,c,f){for(var _=Array(arguments.length-2),b=2;b<arguments.length;b++)_[b-2]=arguments[b];return r.prototype[c].apply(u,_)}}function Qs(){this.s=this.s,this.o=this.o}var $c={};Qs.prototype.s=!1,Qs.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var s=function(s){return Object.prototype.hasOwnProperty.call(s,ef)&&s[ef]||(s[ef]=++Ys)}(this);delete $c[s]}},Qs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var tl=Array.prototype.indexOf?function(s,r){return Array.prototype.indexOf.call(s,r,void 0)}:function(s,r){if("string"==typeof s)return"string"!=typeof r||1!=r.length?-1:s.indexOf(r,0);for(var i=0;i<s.length;i++)if(i in s&&s[i]===r)return i;return-1},nl=Array.prototype.forEach?function(s,r,i){Array.prototype.forEach.call(s,r,i)}:function(s,r,i){for(var u=s.length,c="string"==typeof s?s.split(""):s,f=0;f<u;f++)f in c&&r.call(i,c[f],f,s)};function rl(s){return Array.prototype.concat.apply([],arguments)}function Va(s){var r=s.length;if(0<r){for(var i=Array(r),u=0;u<r;u++)i[u]=s[u];return i}return[]}function Lo(s){return/^[\s\xa0]*$/.test(s)}var Ar,il=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function Tr(s,r){return-1!=s.indexOf(r)}function $g(s,r){return s<r?-1:s>r?1:0}e:{var fv=tt.navigator;if(fv){var pv=fv.userAgent;if(pv){Ar=pv;break e}}Ar=""}function Gg(s,r,i){for(var u in s)r.call(i,s[u],u,s)}function gv(s){var r={};for(var i in s)r[i]=s[i];return r}var mv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yv(s,r){for(var i,u,c=1;c<arguments.length;c++){for(i in u=arguments[c])s[i]=u[i];for(var f=0;f<mv.length;f++)i=mv[f],Object.prototype.hasOwnProperty.call(u,i)&&(s[i]=u[i])}}function _v(s){return _v[" "](s),s}_v[" "]=oi;var qg,s,uA=Tr(Ar,"Opera"),qc=Tr(Ar,"Trident")||Tr(Ar,"MSIE"),vv=Tr(Ar,"Edge"),Ev=vv||qc,lA=Tr(Ar,"Gecko")&&!(Tr(Ar.toLowerCase(),"webkit")&&!Tr(Ar,"Edge"))&&!(Tr(Ar,"Trident")||Tr(Ar,"MSIE"))&&!Tr(Ar,"Edge"),cA=Tr(Ar.toLowerCase(),"webkit")&&!Tr(Ar,"Edge");function wv(){var s=tt.document;return s?s.documentMode:void 0}e:{var Zg="",Cv=(s=Ar,lA?/rv:([^\);]+)(\)|;)/.exec(s):vv?/Edge\/([\d\.]+)/.exec(s):qc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):cA?/WebKit\/(\S+)/.exec(s):uA?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(Cv&&(Zg=Cv?Cv[1]:""),qc){var bv=wv();if(null!=bv&&bv>parseFloat(Zg)){qg=String(bv);break e}}qg=Zg}var oN={};function dA(){return r=oN,Object.prototype.hasOwnProperty.call(r,9)?r[9]:r[9]=function(){for(var s=0,r=il(String(qg)).split("."),i=il("9").split("."),u=Math.max(r.length,i.length),c=0;0==s&&c<u;c++){var f=r[c]||"",_=i[c]||"";do{if(f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],_=/(\d*)(\D*)(.*)/.exec(_)||["","","",""],0==f[0].length&&0==_[0].length)break;s=$g(0==f[1].length?0:parseInt(f[1],10),0==_[1].length?0:parseInt(_[1],10))||$g(0==f[2].length,0==_[2].length)||$g(f[2],_[2]),f=f[3],_=_[3]}while(0==s)}return 0<=s}();var r}var aN=tt.document&&qc&&(wv()||parseInt(qg,10))||void 0,uN=function(){if(!tt.addEventListener||!Object.defineProperty)return!1;var s=!1,r=Object.defineProperty({},"passive",{get:function(){s=!0}});try{tt.addEventListener("test",oi,r),tt.removeEventListener("test",oi,r)}catch(i){}return s}();function Sr(s,r){this.type=s,this.g=this.target=r,this.defaultPrevented=!1}function zg(s,r){if(Sr.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var i=this.type=s.type,u=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=r,r=s.relatedTarget){if(lA){e:{try{_v(r.nodeName);var c=!0;break e}catch(f){}c=!1}c||(r=null)}}else"mouseover"==i?r=s.fromElement:"mouseout"==i&&(r=s.toElement);this.relatedTarget=r,u?(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:fA[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&zg.Z.h.call(this)}}Sr.prototype.h=function(){this.defaultPrevented=!0},Bt(zg,Sr);var fA={2:"touch",3:"pen",4:"mouse"};zg.prototype.h=function(){zg.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var nf="closure_listenable_"+(1e6*Math.random()|0),Iv=0;function Dv(s,r,i,u,c){this.listener=s,this.proxy=null,this.src=r,this.type=i,this.capture=!!u,this.ia=c,this.key=++Iv,this.ca=this.fa=!1}function Kg(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function Tv(s){this.src=s,this.g={},this.h=0}function ib(s,r){var i=r.type;if(i in s.g){var f,u=s.g[i],c=tl(u,r);(f=0<=c)&&Array.prototype.splice.call(u,c,1),f&&(Kg(r),0==s.g[i].length&&(delete s.g[i],s.h--))}}function sb(s,r,i,u){for(var c=0;c<s.length;++c){var f=s[c];if(!f.ca&&f.listener==r&&f.capture==!!i&&f.ia==u)return c}return-1}Tv.prototype.add=function(s,r,i,u,c){var f=s.toString();(s=this.g[f])||(s=this.g[f]=[],this.h++);var _=sb(s,r,u,c);return-1<_?(r=s[_],i||(r.fa=!1)):((r=new Dv(r,this.src,f,!!u,c)).fa=i,s.push(r)),r};var Av="closure_lm_"+(1e6*Math.random()|0),Yg={};function pA(s,r,i,u,c){if(u&&u.once)return ab(s,r,i,u,c);if(Array.isArray(r)){for(var f=0;f<r.length;f++)pA(s,r[f],i,u,c);return null}return i=Mv(i),s&&s[nf]?s.N(r,i,Xh(u)?!!u.capture:!!u,c):ob(s,r,i,!1,u,c)}function ob(s,r,i,u,c,f){if(!r)throw Error("Invalid event type");var _=Xh(c)?!!c.capture:!!c,b=Rv(s);if(b||(s[Av]=b=new Tv(s)),(i=b.add(r,i,u,_,f)).proxy)return i;if(u=function(){var r=Qg;return function s(i){return r.call(s.src,s.listener,i)}}(),i.proxy=u,u.src=s,u.listener=i,s.addEventListener)uN||(c=_),void 0===c&&(c=!1),s.addEventListener(r.toString(),u,c);else if(s.attachEvent)s.attachEvent(Nv(r.toString()),u);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(u)}return i}function ab(s,r,i,u,c){if(Array.isArray(r)){for(var f=0;f<r.length;f++)ab(s,r[f],i,u,c);return null}return i=Mv(i),s&&s[nf]?s.O(r,i,Xh(u)?!!u.capture:!!u,c):ob(s,r,i,!0,u,c)}function Sv(s,r,i,u,c){if(Array.isArray(r))for(var f=0;f<r.length;f++)Sv(s,r[f],i,u,c);else u=Xh(u)?!!u.capture:!!u,i=Mv(i),s&&s[nf]?(s=s.i,(r=String(r).toString())in s.g&&-1<(i=sb(f=s.g[r],i,u,c))&&(Kg(f[i]),Array.prototype.splice.call(f,i,1),0==f.length&&(delete s.g[r],s.h--))):s&&(s=Rv(s))&&(r=s.g[r.toString()],s=-1,r&&(s=sb(r,i,u,c)),(i=-1<s?r[s]:null)&&xv(i))}function xv(s){if("number"!=typeof s&&s&&!s.ca){var r=s.src;if(r&&r[nf])ib(r.i,s);else{var i=s.type,u=s.proxy;r.removeEventListener?r.removeEventListener(i,u,s.capture):r.detachEvent?r.detachEvent(Nv(i),u):r.addListener&&r.removeListener&&r.removeListener(u),(i=Rv(r))?(ib(i,s),0==i.h&&(i.src=null,r[Av]=null)):Kg(s)}}}function Nv(s){return s in Yg?Yg[s]:Yg[s]="on"+s}function Qg(s,r){if(s.ca)s=!0;else{r=new zg(r,this);var i=s.listener,u=s.ia||s.src;s.fa&&xv(s),s=i.call(u,r)}return s}function Rv(s){return(s=s[Av])instanceof Tv?s:null}var Jg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mv(s){return"function"==typeof s?s:(s[Jg]||(s[Jg]=function(r){return s.handleEvent(r)}),s[Jg])}function Wn(){Qs.call(this),this.i=new Tv(this),this.P=this,this.I=null}function ur(s,r){var i,u=s.I;if(u)for(i=[];u;u=u.I)i.push(u);if(s=s.P,u=r.type||r,"string"==typeof r)r=new Sr(r,s);else if(r instanceof Sr)r.target=r.target||s;else{var c=r;yv(r=new Sr(u,s),c)}if(c=!0,i)for(var f=i.length-1;0<=f;f--){var _=r.g=i[f];c=Xg(_,u,!0,r)&&c}if(c=Xg(_=r.g=s,u,!0,r)&&c,c=Xg(_,u,!1,r)&&c,i)for(f=0;f<i.length;f++)c=Xg(_=r.g=i[f],u,!1,r)&&c}function Xg(s,r,i,u){if(!(r=s.i.g[String(r)]))return!0;r=r.concat();for(var c=!0,f=0;f<r.length;++f){var _=r[f];if(_&&!_.ca&&_.capture==i){var b=_.listener,T=_.ia||_.src;_.fa&&ib(s.i,_),c=!1!==b.call(T,u)&&c}}return c&&!u.defaultPrevented}Bt(Wn,Qs),Wn.prototype[nf]=!0,Wn.prototype.removeEventListener=function(s,r,i,u){Sv(this,s,r,i,u)},Wn.prototype.M=function(){if(Wn.Z.M.call(this),this.i){var r,s=this.i;for(r in s.g){for(var i=s.g[r],u=0;u<i.length;u++)Kg(i[u]);delete s.g[r],s.h--}}this.I=null},Wn.prototype.N=function(s,r,i,u){return this.i.add(String(s),r,!1,i,u)},Wn.prototype.O=function(s,r,i,u){return this.i.add(String(s),r,!0,i,u)};var Ov=tt.JSON.stringify;function ub(){var s=Wc,r=null;return s.g&&(r=s.g,s.g=s.g.next,s.g||(s.h=null),r.next=null),r}var rf,gA=function(){function s(){this.h=this.g=null}return s.prototype.add=function(r,i){var u=Pv.get();u.set(r,i),this.h?this.h.next=u:this.g=u,this.h=u},s}(),Pv=new(function(){function s(r,i){this.i=r,this.j=i,this.h=0,this.g=null}return s.prototype.get=function(){var r;return 0<this.h?(this.h--,this.g=(r=this.g).next,r.next=null):r=this.i(),r},s}())(function(){return new lb},function(s){return s.reset()}),lb=function(){function s(){this.next=this.g=this.h=null}return s.prototype.set=function(r,i){this.h=r,this.g=i,this.next=null},s.prototype.reset=function(){this.next=this.g=this.h=null},s}();function kv(s){tt.setTimeout(function(){throw s},0)}function cb(s,r){rf||function(){var s=tt.Promise.resolve(void 0);rf=function(){s.then(yA)}}(),db||(rf(),db=!0),Wc.add(s,r)}var db=!1,Wc=new gA;function yA(){for(var s;s=ub();){try{s.h.call(s.g)}catch(i){kv(i)}var r=Pv;r.j(s),100>r.h&&(r.h++,s.next=r.g,r.g=s)}db=!1}function zc(s,r){Wn.call(this),this.h=s||1,this.g=r||tt,this.j=gn(this.kb,this),this.l=Date.now()}function sf(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}function Fv(s,r,i){if("function"==typeof s)i&&(s=gn(s,i));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=gn(s.handleEvent,s)}return 2147483647<Number(r)?-1:tt.setTimeout(s,r||0)}function em(s){s.g=Fv(function(){s.g=null,s.i&&(s.i=!1,em(s))},s.j);var r=s.h;s.h=null,s.m.apply(null,r)}Bt(zc,Wn),(Ve=zc.prototype).da=!1,Ve.S=null,Ve.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ur(this,"tick"),this.da&&(sf(this),this.start()))}},Ve.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ve.M=function(){zc.Z.M.call(this),sf(this),delete this.g};var Lv=function(s){function r(i,u){var c=s.call(this)||this;return c.m=i,c.j=u,c.h=null,c.i=!1,c.g=null,c}return function(s,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=s}hv(s,r),s.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}(r,s),r.prototype.l=function(i){this.h=arguments,this.g?this.i=!0:em(this)},r.prototype.M=function(){s.prototype.M.call(this),this.g&&(tt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},r}(Qs);function Kc(s){Qs.call(this),this.h=s,this.g={}}Bt(Kc,Qs);var _A=[];function hb(s,r,i,u){Array.isArray(i)||(i&&(_A[0]=i.toString()),i=_A);for(var c=0;c<i.length;c++){var f=pA(r,i[c],u||s.handleEvent,!1,s.h||s);if(!f)break;s.g[f.key]=f}}function Vv(s){Gg(s.g,function(r,i){this.g.hasOwnProperty(i)&&xv(r)},s),s.g={}}function of(){this.g=!0}function Ua(s,r,i,u){s.info(function(){return"XMLHTTP TEXT ("+r+"): "+function(s,r){if(!s.g)return r;if(!r)return null;try{var i=JSON.parse(r);if(i)for(s=0;s<i.length;s++)if(Array.isArray(i[s])){var u=i[s];if(!(2>u.length)){var c=u[1];if(Array.isArray(c)&&!(1>c.length)){var f=c[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var _=1;_<c.length;_++)c[_]=""}}}return Ov(i)}catch(b){return r}}(s,i)+(u?" "+u:"")})}Kc.prototype.M=function(){Kc.Z.M.call(this),Vv(this)},Kc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},of.prototype.Aa=function(){this.g=!1},of.prototype.info=function(){};var Vo={},Bv=null;function tm(){return Bv=Bv||new Wn}function jv(s){Sr.call(this,Vo.Ma,s)}function Yc(s){var r=tm();ur(r,new jv(r,s))}function nm(s,r){Sr.call(this,Vo.STAT_EVENT,s),this.stat=r}function $r(s){var r=tm();ur(r,new nm(r,s))}function pb(s,r){Sr.call(this,Vo.Na,s),this.size=r}function af(s,r){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return tt.setTimeout(function(){s()},r)}Vo.Ma="serverreachability",Bt(jv,Sr),Vo.STAT_EVENT="statevent",Bt(nm,Sr),Vo.Na="timingevent",Bt(pb,Sr);var rm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Hv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function uf(){}function Gv(){}uf.prototype.h=null;var om,Qc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function im(){Sr.call(this,"d")}function sm(){Sr.call(this,"c")}function lf(){}function Jc(s,r,i,u){this.l=s,this.j=r,this.m=i,this.X=u||1,this.V=new Kc(this),this.P=CA,this.W=new zc(s=Ev?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new wA}function wA(){this.i=null,this.g="",this.h=!1}Bt(im,Sr),Bt(sm,Sr),Bt(lf,uf),lf.prototype.g=function(){return new XMLHttpRequest},lf.prototype.i=function(){return{}},om=new lf;var CA=45e3,qv={},cf={};function Zv(s,r,i){s.K=1,s.v=hf(Uo(r)),s.s=i,s.U=!0,On(s,null)}function On(s,r){s.F=Date.now(),Xc(s),s.A=Uo(s.v);var i=s.A,u=s.X;Array.isArray(u)||(u=[String(u)]),Xv(i.h,"t",u),s.C=0,i=s.l.H,s.h=new wA,s.g=mE(s.l,i?r:null,!s.s),0<s.O&&(s.L=new Lv(gn(s.Ia,s,s.g),s.O)),hb(s.V,s.g,"readystatechange",s.gb),r=s.H?gv(s.H):{},s.s?(s.u||(s.u="POST"),r["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,r)):(s.u="GET",s.g.ea(s.A,s.u,null,r)),Yc(1),function(s,r,i,u,c,f){s.info(function(){if(s.g)if(f)for(var _="",b=f.split("&"),T=0;T<b.length;T++){var N=b[T].split("=");if(1<N.length){var M=N[0];N=N[1];var k=M.split("_");_=2<=k.length&&"type"==k[1]?_+(M+"=")+N+"&":_+(M+"=redacted&")}}else _=null;else _=f;return"XMLHTTP REQ ("+u+") [attempt "+c+"]: "+r+"\n"+i+"\n"+_})}(s.j,s.u,s.A,s.m,s.X,s.s)}function Wv(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Ba}function gb(s,r,i){for(var c,u=!0;!s.I&&s.C<i.length;){if((c=bA(s,i))==cf){4==r&&(s.o=4,$r(14),u=!1),Ua(s.j,s.m,null,"[Incomplete Response]");break}if(c==qv){s.o=4,$r(15),Ua(s.j,s.m,i,"[Invalid Chunk]"),u=!1;break}Ua(s.j,s.m,c,null),zv(s,c)}Wv(s)&&c!=cf&&c!=qv&&(s.h.g="",s.C=0),4!=r||0!=i.length||s.h.h||(s.o=1,$r(16),u=!1),s.i=s.i&&u,u?0<i.length&&!s.aa&&(s.aa=!0,(r=s.l).g==s&&r.$&&!r.L&&(r.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),gE(r),r.L=!0,$r(11))):(Ua(s.j,s.m,i,"[Invalid Chunked Response]"),Vi(s),ed(s))}function bA(s,r){var i=s.C,u=r.indexOf("\n",i);return-1==u?cf:(i=Number(r.substring(i,u)),isNaN(i)?qv:(u+=1)+i>r.length?cf:(r=r.substr(u,i),s.C=u+i,r))}function Xc(s){s.Y=Date.now()+s.P,mb(s,s.P)}function mb(s,r){if(null!=s.B)throw Error("WatchDog timer not null");s.B=af(gn(s.eb,s),r)}function df(s){s.B&&(tt.clearTimeout(s.B),s.B=null)}function ed(s){0==s.l.G||s.I||xb(s.l,s)}function Vi(s){df(s);var r=s.L;r&&"function"==typeof r.na&&r.na(),s.L=null,sf(s.W),Vv(s.V),s.g&&(r=s.g,s.g=null,r.abort(),r.na())}function zv(s,r){try{var i=s.l;if(0!=i.G&&(i.g==s||cm(i.i,s)))if(i.I=s.N,!s.J&&cm(i.i,s)&&3==i.G){try{var u=i.Ca.g.parse(r)}catch(Le){u=null}if(Array.isArray(u)&&3==u.length){var c=u;if(0==c[0])e:if(i.u)i.ta=c[1],0<i.ta-i.U&&37500>c[2]&&i.N&&0==i.A&&!i.v&&(i.v=af(gn(i.ab,i),6e3));else{if(i.g){if(!(i.g.F+3e3<s.F))break e;ol(i),pm(i)}pE(i),$r(18)}if(1>=rE(i.i)&&i.ka){try{i.ka()}catch(Le){}i.ka=void 0}}else Xs(i,11)}else if((s.J||i.g==s)&&ol(i),!Lo(r))for(c=i.Ca.g.parse(r),r=0;r<c.length;r++){var f=c[r];if(i.U=f[0],f=f[1],2==i.G)if("c"==f[0]){i.J=f[1],i.la=f[2];var _=f[3];null!=_&&(i.ma=_,i.h.info("VER="+i.ma));var b=f[4];null!=b&&(i.za=b,i.h.info("SVER="+i.za));var T=f[5];null!=T&&"number"==typeof T&&0<T&&(i.K=u=1.5*T,i.h.info("backChannelRequestTimeoutMs_="+u)),u=i;var N=s.g;if(N){var M=N.g?N.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(M){var k=u.i;!k.g&&(Tr(M,"spdy")||Tr(M,"quic")||Tr(M,"h2"))&&(k.j=k.l,k.g=new Set,k.h&&(dm(k,k.h),k.h=null))}if(u.D){var W=N.g?N.g.getResponseHeader("X-HTTP-Session-Id"):null;W&&(u.sa=W,tn(u.F,u.D,W))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-s.F,i.h.info("Handshake RTT: "+i.O+"ms"));var K=s;if((u=i).oa=LA(u,u.H?u.la:null,u.W),K.J){iE(u.i,K);var _e=K,Oe=u.K;Oe&&_e.setTimeout(Oe),_e.B&&(df(_e),Xc(_e)),u.g=K}else Ke(u);0<i.l.length&&od(i)}else"stop"!=f[0]&&"close"!=f[0]||Xs(i,7);else 3==i.G&&("stop"==f[0]||"close"==f[0]?"stop"==f[0]?Xs(i,7):hE(i):"noop"!=f[0]&&i.j&&i.j.wa(f),i.A=0)}Yc(4)}catch(Le){}}function am(s,r){if(s.forEach&&"function"==typeof s.forEach)s.forEach(r,void 0);else if(Xu(s)||"string"==typeof s)nl(s,r,void 0);else{if(s.T&&"function"==typeof s.T)var i=s.T();else if(s.R&&"function"==typeof s.R)i=void 0;else if(Xu(s)||"string"==typeof s){i=[];for(var u=s.length,c=0;c<u;c++)i.push(c)}else for(c in i=[],u=0,s)i[u++]=c;c=(u=function(s){if(s.R&&"function"==typeof s.R)return s.R();if("string"==typeof s)return s.split("");if(Xu(s)){for(var r=[],i=s.length,u=0;u<i;u++)r.push(s[u]);return r}for(u in r=[],i=0,s)r[i++]=s[u];return r}(s)).length;for(var f=0;f<c;f++)r.call(void 0,u[f],i&&i[f],s)}}function td(s,r){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var u=0;u<i;u+=2)this.set(arguments[u],arguments[u+1])}else if(s)if(s instanceof td)for(i=s.T(),u=0;u<i.length;u++)this.set(i[u],s.get(i[u]));else for(u in s)this.set(u,s[u])}function um(s){if(s.i!=s.g.length){for(var r=0,i=0;r<s.g.length;){var u=s.g[r];nd(s.h,u)&&(s.g[i++]=u),r++}s.g.length=i}if(s.i!=s.g.length){var c={};for(i=r=0;r<s.g.length;)nd(c,u=s.g[r])||(s.g[i++]=u,c[u]=1),r++;s.g.length=i}}function nd(s,r){return Object.prototype.hasOwnProperty.call(s,r)}(Ve=Jc.prototype).setTimeout=function(s){this.P=s},Ve.gb=function(s){s=s.target;var r=this.L;r&&3==Js(s)?r.l():this.Ia(s)},Ve.Ia=function(s){try{if(s==this.g)e:{var r=Js(this.g),i=this.g.Da(),u=this.g.ba();if(!(3>r)&&(3!=r||Ev||this.g&&(this.h.h||this.g.ga()||dE(this.g)))){this.I||4!=r||7==i||Yc(8==i||0>=u?3:2),df(this);var c=this.g.ba();this.N=c;t:if(Wv(this)){var f=dE(this.g);s="";var _=f.length,b=4==Js(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Vi(this),ed(this);var T="";break t}this.h.i=new tt.TextDecoder}for(i=0;i<_;i++)this.h.h=!0,s+=this.h.i.decode(f[i],{stream:b&&i==_-1});f.splice(0,_),this.h.g+=s,this.C=0,T=this.h.g}else T=this.g.ga();if(this.i=200==c,function(s,r,i,u,c,f,_){s.info(function(){return"XMLHTTP RESP ("+u+") [ attempt "+c+"]: "+r+"\n"+i+"\n"+f+" "+_})}(this.j,this.u,this.A,this.m,this.X,r,c),this.i){if(this.$&&!this.J){t:{if(this.g){var N,M=this.g;if((N=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lo(N)){var k=N;break t}}k=null}if(!(c=k)){this.i=!1,this.o=3,$r(12),Vi(this),ed(this);break e}Ua(this.j,this.m,c,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zv(this,c)}this.U?(gb(this,r,T),Ev&&this.i&&3==r&&(hb(this.V,this.W,"tick",this.fb),this.W.start())):(Ua(this.j,this.m,T,null),zv(this,T)),4==r&&Vi(this),this.i&&!this.I&&(4==r?xb(this.l,this):(this.i=!1,Xc(this)))}else 400==c&&0<T.indexOf("Unknown SID")?(this.o=3,$r(12)):(this.o=0,$r(13)),Vi(this),ed(this)}}}catch(W){}},Ve.fb=function(){if(this.g){var s=Js(this.g),r=this.g.ga();this.C<r.length&&(df(this),gb(this,s,r),this.i&&4!=s&&Xc(this))}},Ve.cancel=function(){this.I=!0,Vi(this)},Ve.eb=function(){this.B=null;var s=Date.now();0<=s-this.Y?(function(s,r){s.info(function(){return"TIMEOUT: "+r})}(this.j,this.A),2!=this.K&&(Yc(3),$r(17)),Vi(this),this.o=2,ed(this)):mb(this,this.Y-s)},(Ve=td.prototype).R=function(){um(this);for(var s=[],r=0;r<this.g.length;r++)s.push(this.h[this.g[r]]);return s},Ve.T=function(){return um(this),this.g.concat()},Ve.get=function(s,r){return nd(this.h,s)?this.h[s]:r},Ve.set=function(s,r){nd(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=r},Ve.forEach=function(s,r){for(var i=this.T(),u=0;u<i.length;u++){var c=i[u],f=this.get(c);s.call(r,f,c,this)}};var Kv=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xr(s,r){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof xr){this.g=void 0!==r?r:s.g,lm(this,s.j),this.s=s.s,Ei(this,s.i),ai(this,s.m),this.l=s.l,r=s.h;var i=new id;i.i=r.i,r.g&&(i.g=new td(r.g),i.h=r.h),Ui(this,i),this.o=s.o}else s&&(i=String(s).match(Kv))?(this.g=!!r,lm(this,i[1]||"",!0),this.s=ff(i[2]||""),Ei(this,i[3]||"",!0),ai(this,i[4]),this.l=ff(i[5]||"",!0),Ui(this,i[6]||"",!0),this.o=ff(i[7]||"")):(this.g=!!r,this.h=new id(null,this.g))}function Uo(s){return new xr(s)}function lm(s,r,i){s.j=i?ff(r,!0):r,s.j&&(s.j=s.j.replace(/:$/,""))}function Ei(s,r,i){s.i=i?ff(r,!0):r}function ai(s,r){if(r){if(r=Number(r),isNaN(r)||0>r)throw Error("Bad port number "+r);s.m=r}else s.m=null}function Ui(s,r,i){r instanceof id?(s.h=r,function(s,r){r&&!s.j&&(cs(s),s.i=null,s.g.forEach(function(i,u){var c=u.toLowerCase();u!=c&&(vb(this,u),Xv(this,c,i))},s)),s.j=r}(s.h,s.g)):(i||(r=pf(r,SA)),s.h=new id(r,s.g))}function tn(s,r,i){s.h.set(r,i)}function hf(s){return tn(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function ff(s,r){return s?r?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function pf(s,r,i){return"string"==typeof s?(s=encodeURI(s).replace(r,Qv),i&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function Qv(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}xr.prototype.toString=function(){var s=[],r=this.j;r&&s.push(pf(r,rd,!0),":");var i=this.i;return(i||"file"==r)&&(s.push("//"),(r=this.s)&&s.push(pf(r,rd,!0),"@"),s.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&s.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&s.push("/"),s.push(pf(i,"/"==i.charAt(0)?yb:AA,!0))),(i=this.h.toString())&&s.push("?",i),(i=this.o)&&s.push("#",pf(i,_b)),s.join("")};var rd=/[#\/\?@]/g,AA=/[#\?:]/g,yb=/[#\?]/g,SA=/[#\?@]/g,_b=/#/g;function id(s,r){this.h=this.g=null,this.i=s||null,this.j=!!r}function cs(s){s.g||(s.g=new td,s.h=0,s.i&&function(s,r){if(s){s=s.split("&");for(var i=0;i<s.length;i++){var u=s[i].indexOf("="),c=null;if(0<=u){var f=s[i].substring(0,u);c=s[i].substring(u+1)}else f=s[i];r(f,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(s.i,function(r,i){s.add(decodeURIComponent(r.replace(/\+/g," ")),i)}))}function vb(s,r){cs(s),r=Ba(s,r),nd(s.g.h,r)&&(s.i=null,s.h-=s.g.get(r).length,nd((s=s.g).h,r)&&(delete s.h[r],s.i--,s.g.length>2*s.i&&um(s)))}function Jv(s,r){return cs(s),r=Ba(s,r),nd(s.g.h,r)}function Xv(s,r,i){vb(s,r),0<i.length&&(s.i=null,s.g.set(Ba(s,r),Va(i)),s.h+=i.length)}function Ba(s,r){return r=String(r),s.j&&(r=r.toLowerCase()),r}(Ve=id.prototype).add=function(s,r){cs(this),this.i=null,s=Ba(this,s);var i=this.g.get(s);return i||this.g.set(s,i=[]),i.push(r),this.h+=1,this},Ve.forEach=function(s,r){cs(this),this.g.forEach(function(i,u){nl(i,function(c){s.call(r,c,u,this)},this)},this)},Ve.T=function(){cs(this);for(var s=this.g.R(),r=this.g.T(),i=[],u=0;u<r.length;u++)for(var c=s[u],f=0;f<c.length;f++)i.push(r[u]);return i},Ve.R=function(s){cs(this);var r=[];if("string"==typeof s)Jv(this,s)&&(r=rl(r,this.g.get(Ba(this,s))));else{s=this.g.R();for(var i=0;i<s.length;i++)r=rl(r,s[i])}return r},Ve.set=function(s,r){return cs(this),this.i=null,Jv(this,s=Ba(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[r]),this.h+=1,this},Ve.get=function(s,r){return s&&0<(s=this.R(s)).length?String(s[0]):r},Ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],r=this.g.T(),i=0;i<r.length;i++){var u=r[i],c=encodeURIComponent(String(u));u=this.R(u);for(var f=0;f<u.length;f++){var _=c;""!==u[f]&&(_+="="+encodeURIComponent(String(u[f]))),s.push(_)}}return this.i=s.join("&")};var Eb=function(r,i){this.h=r,this.g=i};function tE(s){this.l=s||wb,s=tt.PerformanceNavigationTiming?0<(s=tt.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(tt.g&&tt.g.Ea&&tt.g.Ea()&&tt.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wb=10;function nE(s){return!!s.h||!!s.g&&s.g.size>=s.j}function rE(s){return s.h?1:s.g?s.g.size:0}function cm(s,r){return s.h?s.h==r:!!s.g&&s.g.has(r)}function dm(s,r){s.g?s.g.add(r):s.h=r}function iE(s,r){s.h&&s.h==r?s.h=null:s.g&&s.g.has(r)&&s.g.delete(r)}function Cb(s){var r,i;if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){var u=s.i;try{for(var c=rb(s.g.values()),f=c.next();!f.done;f=c.next())u=u.concat(f.value.D)}catch(b){r={error:b}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return u}return Va(s.i)}function sE(){}function xA(){this.g=new sE}function NA(s,r,i){var u=i||"";try{am(s,function(c,f){var _=c;Xh(c)&&(_=Ov(c)),r.push(u+f+"="+encodeURIComponent(_))})}catch(c){throw r.push(u+"type="+encodeURIComponent("_badmap")),c}}function hm(s,r,i,u,c){try{r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null,c(u)}catch(f){}}function gf(s){this.l=s.$b||null,this.j=s.ib||!1}function fm(s,r){Wn.call(this),this.D=s,this.u=r,this.m=void 0,this.readyState=oE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tE.prototype.cancel=function(){var s,r;if(this.i=Cb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var i=rb(this.g.values()),u=i.next();!u.done;u=i.next())u.value.cancel()}catch(f){s={error:f}}finally{try{u&&!u.done&&(r=i.return)&&r.call(i)}finally{if(s)throw s.error}}this.g.clear()}},sE.prototype.stringify=function(s){return tt.JSON.stringify(s,void 0)},sE.prototype.parse=function(s){return tt.JSON.parse(s,void 0)},Bt(gf,uf),gf.prototype.g=function(){return new fm(this.l,this.j)},gf.prototype.i=function(s){return function(){return s}}({}),Bt(fm,Wn);var oE=0;function bb(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}function mf(s){s.readyState=4,s.l=null,s.j=null,s.A=null,yf(s)}function yf(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(Ve=fm.prototype).open=function(s,r){if(this.readyState!=oE)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=r,this.readyState=1,yf(this)},Ve.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var r={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(r.body=s),(this.D||tt).fetch(new Request(this.B,r)).then(this.Va.bind(this),this.ha.bind(this))},Ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mf(this)),this.readyState=oE},Ve.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,yf(this)),this.g&&(this.readyState=3,yf(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==tt.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bb(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))},Ve.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var r=s.value?s.value:new Uint8Array(0);(r=this.A.decode(r,{stream:!s.done}))&&(this.response=this.responseText+=r)}s.done?mf(this):yf(this),3==this.readyState&&bb(this)}},Ve.Ua=function(s){this.g&&(this.response=this.responseText=s,mf(this))},Ve.Ta=function(s){this.g&&(this.response=s,mf(this))},Ve.ha=function(){this.g&&mf(this)},Ve.setRequestHeader=function(s,r){this.v.append(s,r)},Ve.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},Ve.getAllResponseHeaders=function(){if(!this.h)return"";for(var s=[],r=this.h.entries(),i=r.next();!i.done;)s.push((i=i.value)[0]+": "+i[1]),i=r.next();return s.join("\r\n")},Object.defineProperty(fm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var MA=tt.JSON.parse;function Pn(s){Wn.call(this),this.headers=new td,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ib,this.K=this.L=!1}Bt(Pn,Wn);var Ib="",OA=/^https?$/i,PA=["POST","PUT"];function Db(s){return"content-type"==s.toLowerCase()}function aE(s,r){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=r,s.m=5,uE(s),_f(s)}function uE(s){s.D||(s.D=!0,ur(s,"complete"),ur(s,"error"))}function lE(s){if(s.h&&void 0!==La&&(!s.C[1]||4!=Js(s)||2!=s.ba()))if(s.v&&4==Js(s))Fv(s.Fa,0,s);else if(ur(s,"readystatechange"),4==Js(s)){s.h=!1;try{var u,r=s.ba();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}if(!(u=i)){var c;if(c=0===r){var f=String(s.H).match(Kv)[1]||null;if(!f&&tt.self&&tt.self.location){var _=tt.self.location.protocol;f=_.substr(0,_.length-1)}c=!OA.test(f?f.toLowerCase():"")}u=c}if(u)ur(s,"complete"),ur(s,"success");else{s.m=6;try{var b=2<Js(s)?s.g.statusText:""}catch(T){b=""}s.j=b+" ["+s.ba()+"]",uE(s)}}finally{_f(s)}}}function _f(s,r){if(s.g){cE(s);var i=s.g,u=s.C[0]?oi:null;s.g=null,s.C=null,r||ur(s,"ready");try{i.onreadystatechange=u}catch(c){}}}function cE(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(tt.clearTimeout(s.A),s.A=null)}function Js(s){return s.g?s.g.readyState:0}function dE(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case Ib:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(r){return null}}function vf(s,r,i){e:{for(u in i){var u=!1;break e}u=!0}u||(i=function(s){var r="";return Gg(s,function(i,u){r+=u,r+=":",r+=i,r+="\r\n"}),r}(i),"string"==typeof s?null!=i&&encodeURIComponent(String(i)):tn(s,r,i))}function sd(s,r,i){return i&&i.internalChannelParams&&i.internalChannelParams[s]||r}function ja(s){this.za=0,this.l=[],this.h=new of,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=sd("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=sd("baseRetryDelayMs",5e3,s),this.$a=sd("retryDelaySeedMs",1e4,s),this.Ya=sd("forwardChannelMaxRetries",2,s),this.ra=sd("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new tE(s&&s.concurrentRequestLimit),this.Ca=new xA,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||!1!==s.Xb}function hE(s){if(sl(s),3==s.G){var r=s.V++,i=Uo(s.F);tn(i,"SID",s.J),tn(i,"RID",r),tn(i,"TYPE","terminate"),ad(s,i),(r=new Jc(s,s.h,r,void 0)).K=2,r.v=hf(Uo(i)),i=!1,tt.navigator&&tt.navigator.sendBeacon&&(i=tt.navigator.sendBeacon(r.v.toString(),"")),!i&&tt.Image&&((new Image).src=r.v,i=!0),i||(r.g=mE(r.l,null),r.g.ea(r.v)),r.F=Date.now(),Xc(r)}mn(s)}function pm(s){s.g&&(gE(s),s.g.cancel(),s.g=null)}function sl(s){pm(s),s.u&&(tt.clearTimeout(s.u),s.u=null),ol(s),s.i.cancel(),s.m&&("number"==typeof s.m&&tt.clearTimeout(s.m),s.m=null)}function Ab(s,r){s.l.push(new Eb(s.Za++,r)),3==s.G&&od(s)}function od(s){nE(s.i)||s.m||(s.m=!0,cb(s.Ha,s),s.C=0)}function fE(s,r){var i;i=r?r.m:s.V++;var u=Uo(s.F);tn(u,"SID",s.J),tn(u,"RID",i),tn(u,"AID",s.U),ad(s,u),s.o&&s.s&&vf(u,s.o,s.s),i=new Jc(s,s.h,i,s.C+1),null===s.o&&(i.H=s.s),r&&(s.l=r.D.concat(s.l)),r=FA(s,i,1e3),i.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),dm(s.i,i),Zv(i,u,r)}function ad(s,r){s.j&&am({},function(i,u){tn(r,u,i)})}function FA(s,r,i){i=Math.min(s.l.length,i);var u=s.j?gn(s.j.Oa,s.j,s):null;e:for(var c=s.l,f=-1;;){var _=["count="+i];-1==f?0<i?_.push("ofs="+(f=c[0].h)):f=0:_.push("ofs="+f);for(var b=!0,T=0;T<i;T++){var N=c[T].h,M=c[T].g;if(0>(N-=f))f=Math.max(0,c[T].h-100),b=!1;else try{NA(M,_,"req"+N+"_")}catch(k){u&&u(M)}}if(b){u=_.join("&");break e}}return s=s.l.splice(0,i),r.D=s,u}function Ke(s){s.g||s.u||(s.Y=1,cb(s.Ga,s),s.A=0)}function pE(s){return!(s.g||s.u||3<=s.A||(s.Y++,s.u=af(gn(s.Ga,s),Ef(s,s.A)),s.A++,0))}function gE(s){null!=s.B&&(tt.clearTimeout(s.B),s.B=null)}function Sb(s){s.g=new Jc(s,s.h,"rpc",s.Y),null===s.o&&(s.g.H=s.s),s.g.O=0;var r=Uo(s.oa);tn(r,"RID","rpc"),tn(r,"SID",s.J),tn(r,"CI",s.N?"0":"1"),tn(r,"AID",s.U),ad(s,r),tn(r,"TYPE","xmlhttp"),s.o&&s.s&&vf(r,s.o,s.s),s.K&&s.g.setTimeout(s.K);var i=s.g;s=s.la,i.K=1,i.v=hf(Uo(r)),i.s=null,i.U=!0,On(i,s)}function ol(s){null!=s.v&&(tt.clearTimeout(s.v),s.v=null)}function xb(s,r){var i=null;if(s.g==r){ol(s),gE(s),s.g=null;var u=2}else{if(!cm(s.i,r))return;i=r.D,iE(s.i,r),u=1}if(s.I=r.N,0!=s.G)if(r.i)if(1==u){i=r.s?r.s.length:0,r=Date.now()-r.F;var c=s.C;ur(u=tm(),new pb(u,i,r,c)),od(s)}else Ke(s);else if(3==(c=r.o)||0==c&&0<s.I||!(1==u&&function(s,r){return!(rE(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.l=r.D.concat(s.l),0):1==s.G||2==s.G||s.C>=(s.Xa?0:s.Ya)||(s.m=af(gn(s.Ha,s,r),Ef(s,s.C)),s.C++,0)))}(s,r)||2==u&&pE(s)))switch(i&&0<i.length&&(r=s.i,r.i=r.i.concat(i)),c){case 1:Xs(s,5);break;case 4:Xs(s,10);break;case 3:Xs(s,6);break;default:Xs(s,2)}}function Ef(s,r){var i=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(i*=2),i*r}function Xs(s,r){if(s.h.info("Error code "+r),2==r){var i=null;s.j&&(i=null);var u=gn(s.jb,s);i||(i=new xr("//www.google.com/images/cleardot.gif"),tt.location&&"http"==tt.location.protocol||lm(i,"https"),hf(i)),function(s,r){var i=new of;if(tt.Image){var u=new Image;u.onload=el(hm,i,u,"TestLoadImage: loaded",!0,r),u.onerror=el(hm,i,u,"TestLoadImage: error",!1,r),u.onabort=el(hm,i,u,"TestLoadImage: abort",!1,r),u.ontimeout=el(hm,i,u,"TestLoadImage: timeout",!1,r),tt.setTimeout(function(){u.ontimeout&&u.ontimeout()},1e4),u.src=s}else r(!1)}(i.toString(),u)}else $r(2);s.G=0,s.j&&s.j.va(r),mn(s),sl(s)}function mn(s){s.G=0,s.I=-1,s.j&&((0!=Cb(s.i).length||0!=s.l.length)&&(s.i.i.length=0,Va(s.l),s.l.length=0),s.j.ua())}function LA(s,r,i){var u=function(s){return s instanceof xr?Uo(s):new xr(s,void 0)}(i);if(""!=u.i)r&&Ei(u,r+"."+u.i),ai(u,u.m);else{var c=tt.location;u=function(s,r,i,u){var c=new xr(null,void 0);return s&&lm(c,s),r&&Ei(c,r),i&&ai(c,i),u&&(c.l=u),c}(c.protocol,r?r+"."+c.hostname:c.hostname,+c.port,i)}return s.aa&&Gg(s.aa,function(f,_){tn(u,_,f)}),i=s.sa,(r=s.D)&&i&&tn(u,r,i),tn(u,"VER",s.ma),ad(s,u),u}function mE(s,r,i){if(r&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(r=new Pn(i&&s.Ba&&!s.qa?new gf({ib:!0}):s.qa)).L=s.H,r}function gm(){}function mm(){if(qc&&!(10<=Number(aN)))throw Error("Environmental error: no available transport.")}function ui(s,r){Wn.call(this),this.g=new ja(r),this.l=s,this.h=r&&r.messageUrlParams||null,s=r&&r.messageHeaders||null,r&&r.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=r&&r.initMessageHeaders||null,r&&r.messageContentType&&(s?s["X-WebChannel-Content-Type"]=r.messageContentType:s={"X-WebChannel-Content-Type":r.messageContentType}),r&&r.ya&&(s?s["X-WebChannel-Client-Profile"]=r.ya:s={"X-WebChannel-Client-Profile":r.ya}),this.g.P=s,(s=r&&r.httpHeadersOverwriteParam)&&!Lo(s)&&(this.g.o=s),this.A=r&&r.supportsCrossDomainXhr||!1,this.v=r&&r.sendRawJson||!1,(r=r&&r.httpSessionIdParam)&&!Lo(r)&&(this.g.D=r,null!==(s=this.h)&&r in s&&r in(s=this.h)&&delete s[r]),this.j=new al(this)}function yE(s){im.call(this);var r=s.__sm__;if(r){e:{for(var i in r){s=i;break e}s=void 0}(this.i=s)&&(s=this.i,r=null!==r&&s in r?r[s]:void 0),this.data=r}else this.data=s}function _E(){sm.call(this),this.status=1}function al(s){this.g=s}(Ve=Pn.prototype).ea=function(s,r,i,u){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);r=r?r.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():om.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:om),this.g.onreadystatechange=gn(this.Fa,this);try{this.F=!0,this.g.open(r,String(s),!0),this.F=!1}catch(f){return void aE(this,f)}s=i||"";var c=new td(this.headers);u&&am(u,function(f,_){c.set(_,f)}),u=function(s){e:{for(var r=Db,i=s.length,u="string"==typeof s?s.split(""):s,c=0;c<i;c++)if(c in u&&r.call(void 0,u[c],c,s)){r=c;break e}r=-1}return 0>r?null:"string"==typeof s?s.charAt(r):s[r]}(c.T()),i=tt.FormData&&s instanceof tt.FormData,!(0<=tl(PA,r))||u||i||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(f,_){this.g.setRequestHeader(_,f)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{cE(this),0<this.B&&((this.K=function(s){return qc&&dA()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gn(this.pa,this)):this.A=Fv(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(f){aE(this,f)}},Ve.pa=function(){void 0!==La&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ur(this,"timeout"),this.abort(8))},Ve.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,ur(this,"complete"),ur(this,"abort"),_f(this))},Ve.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_f(this,!0)),Pn.Z.M.call(this)},Ve.Fa=function(){this.s||(this.F||this.v||this.l?lE(this):this.cb())},Ve.cb=function(){lE(this)},Ve.ba=function(){try{return 2<Js(this)?this.g.status:-1}catch(s){return-1}},Ve.ga=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},Ve.Qa=function(s){if(this.g){var r=this.g.responseText;return s&&0==r.indexOf(s)&&(r=r.substring(s.length)),MA(r)}},Ve.Da=function(){return this.m},Ve.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ve=ja.prototype).ma=8,Ve.G=1,Ve.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch(r){}},Ve.Ha=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;var r=new Jc(this,this.h,s,void 0),i=this.s;if(this.P&&(i?yv(i=gv(i),this.P):i=this.P),null===this.o&&(r.H=i),this.ja)e:{for(var u=0,c=0;c<this.l.length;c++){var f=this.l[c];if(void 0===(f="__data__"in f.g&&"string"==typeof(f=f.g.__data__)?f.length:void 0))break;if(4096<(u+=f)){u=c;break e}if(4096===u||c===this.l.length-1){u=c+1;break e}}u=1e3}else u=1e3;u=FA(this,r,u),tn(c=Uo(this.F),"RID",s),tn(c,"CVER",22),this.D&&tn(c,"X-HTTP-Session-Id",this.D),ad(this,c),this.o&&i&&vf(c,this.o,i),dm(this.i,r),this.Ra&&tn(c,"TYPE","init"),this.ja?(tn(c,"$req",u),tn(c,"SID","null"),r.$=!0,Zv(r,c,null)):Zv(r,c,u),this.G=2}}else 3==this.G&&(s?fE(this,s):0==this.l.length||nE(this.i)||fE(this))},Ve.Ga=function(){if(this.u=null,Sb(this),this.$&&!(this.L||null==this.g||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=af(gn(this.bb,this),s)}},Ve.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,$r(10),pm(this),Sb(this))},Ve.ab=function(){null!=this.v&&(this.v=null,pm(this),pE(this),$r(19))},Ve.jb=function(s){s?(this.h.info("Successfully pinged google.com"),$r(2)):(this.h.info("Failed to ping google.com"),$r(1))},(Ve=gm.prototype).xa=function(){},Ve.wa=function(){},Ve.va=function(){},Ve.ua=function(){},Ve.Oa=function(){},mm.prototype.g=function(s,r){return new ui(s,r)},Bt(ui,Wn),ui.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,r=this.l,i=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),cb(gn(s.hb,s,r))),$r(0),s.W=r,s.aa=i||{},s.N=s.X,s.F=LA(s,null,s.W),od(s)},ui.prototype.close=function(){hE(this.g)},ui.prototype.u=function(s){if("string"==typeof s){var r={};r.__data__=s,Ab(this.g,r)}else this.v?((r={}).__data__=Ov(s),Ab(this.g,r)):Ab(this.g,s)},ui.prototype.M=function(){this.g.j=null,delete this.j,hE(this.g),delete this.g,ui.Z.M.call(this)},Bt(yE,im),Bt(_E,sm),Bt(al,gm),al.prototype.xa=function(){ur(this.g,"a")},al.prototype.wa=function(s){ur(this.g,new yE(s))},al.prototype.va=function(s){ur(this.g,new _E(s))},al.prototype.ua=function(){ur(this.g,"b")},mm.prototype.createWebChannel=mm.prototype.g,ui.prototype.send=ui.prototype.u,ui.prototype.open=ui.prototype.m,ui.prototype.close=ui.prototype.close,rm.NO_ERROR=0,rm.TIMEOUT=8,rm.HTTP_ERROR=6,Hv.COMPLETE="complete",Gv.EventType=Qc,Qc.OPEN="a",Qc.CLOSE="b",Qc.ERROR="c",Qc.MESSAGE="d",Wn.prototype.listen=Wn.prototype.N,Pn.prototype.listenOnce=Pn.prototype.O,Pn.prototype.getLastError=Pn.prototype.La,Pn.prototype.getLastErrorCode=Pn.prototype.Da,Pn.prototype.getStatus=Pn.prototype.ba,Pn.prototype.getResponseJson=Pn.prototype.Qa,Pn.prototype.getResponseText=Pn.prototype.ga,Pn.prototype.send=Pn.prototype.ea;var ym=rm,ud=Hv,Mb=Vo,vE_PROXY=10,vE_NOPROXY=11,Ob=gf,Ha=Gv,EE=Pn;class lr{constructor(r){this.uid=r}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(r){return r.uid===this.uid}}lr.UNAUTHENTICATED=new lr(null),lr.GOOGLE_CREDENTIALS=new lr("google-credentials-uid"),lr.FIRST_PARTY=new lr("first-party-uid"),lr.MOCK_USER=new lr("mock-user");let eo="9.0.1";const Bi=new Ju.Yd("@firebase/firestore");function wE(){return Bi.logLevel}function Re(s,...r){if(Bi.logLevel<=Ju.in.DEBUG){const i=r.map(_m);Bi.debug(`Firestore (${eo}): ${s}`,...i)}}function Tn(s,...r){if(Bi.logLevel<=Ju.in.ERROR){const i=r.map(_m);Bi.error(`Firestore (${eo}): ${s}`,...i)}}function ld(s,...r){if(Bi.logLevel<=Ju.in.WARN){const i=r.map(_m);Bi.warn(`Firestore (${eo}): ${s}`,...i)}}function _m(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(i){return s}}function Ze(s="Unexpected state"){const r=`FIRESTORE (${eo}) INTERNAL ASSERTION FAILED: `+s;throw Tn(r),new Error(r)}function Je(s,r){s||Ze()}function ke(s,r){return s}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends Error{constructor(r,i){super(i),this.code=r,this.message=i,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cr{constructor(){this.promise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}}class HA{constructor(r,i){this.user=i,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${r}`}}class Pb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(r,i){r.enqueueRetryable(()=>i(lr.UNAUTHENTICATED))}shutdown(){}}class vm{constructor(r){this.token=r,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(r,i){this.changeListener=i,r.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class $A{constructor(r){this.t=r,this.currentUser=lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(r,i){var u=this;let c=this.i;const f=T=>this.i!==c?(c=this.i,i(T)):Promise.resolve();let _=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new cr,r.enqueueRetryable(()=>f(this.currentUser))};const b=T=>{r.enqueueRetryable((0,me.Z)(function*(){Re("FirebaseCredentialsProvider","Auth detected"),u.auth=T,u.auth.addAuthTokenListener(u.o),yield _.promise,yield f(u.currentUser)}))};this.t.onInit(T=>b(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?b(T):(Re("FirebaseCredentialsProvider","Auth not yet detected"),_.resolve(),_=new cr)}},0),r.enqueueRetryable((0,me.Z)(function*(){0===u.i&&(yield _.promise,yield f(u.currentUser))}))}getToken(){const r=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(u=>this.i!==r?(Re("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):u?(Je("string"==typeof u.accessToken),new HA(u.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const r=this.auth&&this.auth.getUid();return Je(null===r||"string"==typeof r),new lr(r)}}class GA{constructor(r,i,u){this.h=r,this.l=i,this.m=u,this.type="FirstParty",this.user=lr.FIRST_PARTY}get authHeaders(){const r={"X-Goog-AuthUser":this.l},i=this.h.auth.getAuthHeaderValueForFirstParty([]);return i&&(r.Authorization=i),this.m&&(r["X-Goog-Iam-Authorization-Token"]=this.m),r}}class kb{constructor(r,i,u){this.h=r,this.l=i,this.m=u}getToken(){return Promise.resolve(new GA(this.h,this.l,this.m))}start(r,i){r.enqueueRetryable(()=>i(lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dr{constructor(r,i){this.previousValue=r,i&&(i.sequenceNumberHandler=u=>this.g(u),this.p=u=>i.writeSequenceNumber(u))}g(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.p&&this.p(r),r}}function qA(s){const r="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(r&&"function"==typeof r.getRandomValues)r.getRandomValues(i);else for(let u=0;u<s;u++)i[u]=Math.floor(256*Math.random());return i}dr.T=-1;class Fb{static I(){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/r.length)*r.length;let u="";for(;u.length<20;){const c=qA(40);for(let f=0;f<c.length;++f)u.length<20&&c[f]<i&&(u+=r.charAt(c[f]%r.length))}return u}}function wt(s,r){return s<r?-1:s>r?1:0}function cd(s,r,i){return s.length===r.length&&s.every((u,c)=>i(u,r[c]))}function Lb(s){return s+"\0"}class Bn{constructor(r,i){if(this.seconds=r,this.nanoseconds=i,i<0)throw new De(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new De(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(r<-62135596800)throw new De(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new De(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}static now(){return Bn.fromMillis(Date.now())}static fromDate(r){return Bn.fromMillis(r.getTime())}static fromMillis(r){const i=Math.floor(r/1e3),u=Math.floor(1e6*(r-1e3*i));return new Bn(i,u)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(r){return this.seconds===r.seconds?wt(this.nanoseconds,r.nanoseconds):wt(this.seconds,r.seconds)}isEqual(r){return r.seconds===this.seconds&&r.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ht{constructor(r){this.timestamp=r}static fromTimestamp(r){return new ht(r)}static min(){return new ht(new Bn(0,0))}compareTo(r){return this.timestamp._compareTo(r.timestamp)}isEqual(r){return this.timestamp.isEqual(r.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Vb(s){let r=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&r++;return r}function ji(s,r){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&r(i,s[i])}function Ub(s){for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r))return!1;return!0}class dd{constructor(r,i,u){void 0===i?i=0:i>r.length&&Ze(),void 0===u?u=r.length-i:u>r.length-i&&Ze(),this.segments=r,this.offset=i,this.len=u}get length(){return this.len}isEqual(r){return 0===dd.comparator(this,r)}child(r){const i=this.segments.slice(this.offset,this.limit());return r instanceof dd?r.forEach(u=>{i.push(u)}):i.push(r),this.construct(i)}limit(){return this.offset+this.length}popFirst(r){return this.construct(this.segments,this.offset+(r=void 0===r?1:r),this.length-r)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(r){return this.segments[this.offset+r]}isEmpty(){return 0===this.length}isPrefixOf(r){if(r.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==r.get(i))return!1;return!0}isImmediateParentOf(r){if(this.length+1!==r.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==r.get(i))return!1;return!0}forEach(r){for(let i=this.offset,u=this.limit();i<u;i++)r(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(r,i){const u=Math.min(r.length,i.length);for(let c=0;c<u;c++){const f=r.get(c),_=i.get(c);if(f<_)return-1;if(f>_)return 1}return r.length<i.length?-1:r.length>i.length?1:0}}class Rt extends dd{construct(r,i,u){return new Rt(r,i,u)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...r){const i=[];for(const u of r){if(u.indexOf("//")>=0)throw new De(de.INVALID_ARGUMENT,`Invalid segment (${u}). Paths must not contain // in them.`);i.push(...u.split("/").filter(c=>c.length>0))}return new Rt(i)}static emptyPath(){return new Rt([])}}const Bb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hr extends dd{construct(r,i,u){return new hr(r,i,u)}static isValidIdentifier(r){return Bb.test(r)}canonicalString(){return this.toArray().map(r=>(r=r.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hr.isValidIdentifier(r)||(r="`"+r+"`"),r)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hr(["__name__"])}static fromServerFormat(r){const i=[];let u="",c=0;const f=()=>{if(0===u.length)throw new De(de.INVALID_ARGUMENT,`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(u),u=""};let _=!1;for(;c<r.length;){const b=r[c];if("\\"===b){if(c+1===r.length)throw new De(de.INVALID_ARGUMENT,"Path has trailing escape character: "+r);const T=r[c+1];if("\\"!==T&&"."!==T&&"`"!==T)throw new De(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+r);u+=T,c+=2}else"`"===b?(_=!_,c++):"."!==b||_?(u+=b,c++):(f(),c++)}if(f(),_)throw new De(de.INVALID_ARGUMENT,"Unterminated ` in path: "+r);return new hr(i)}static emptyPath(){return new hr([])}}class ul{constructor(r){this.fields=r,r.sort(hr.comparator)}covers(r){for(const i of this.fields)if(i.isPrefixOf(r))return!0;return!1}isEqual(r){return cd(this.fields,r.fields,(i,u)=>i.isEqual(u))}}class kn{constructor(r){this.binaryString=r}static fromBase64String(r){const i=atob(r);return new kn(i)}static fromUint8Array(r){const i=function(u){let c="";for(let f=0;f<u.length;++f)c+=String.fromCharCode(u[f]);return c}(r);return new kn(i)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const i=new Uint8Array(r.length);for(let u=0;u<r.length;u++)i[u]=r.charCodeAt(u);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(r){return wt(this.binaryString,r.binaryString)}isEqual(r){return this.binaryString===r.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const WA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bo(s){if(Je(!!s),"string"==typeof s){let r=0;const i=WA.exec(s);if(Je(!!i),i[1]){let c=i[1];c=(c+"000000000").substr(0,9),r=Number(c)}const u=new Date(s);return{seconds:Math.floor(u.getTime()/1e3),nanos:r}}return{seconds:An(s.seconds),nanos:An(s.nanos)}}function An(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function hd(s){return"string"==typeof s?kn.fromBase64String(s):kn.fromUint8Array(s)}function CE(s){var r,i;return"server_timestamp"===(null===(i=((null===(r=null==s?void 0:s.mapValue)||void 0===r?void 0:r.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function jb(s){const r=s.mapValue.fields.__previous_value__;return CE(r)?jb(r):r}function ll(s){const r=Bo(s.mapValue.fields.__local_write_time__.timestampValue);return new Bn(r.seconds,r.nanos)}function cl(s){return null==s}function wf(s){return 0===s&&1/s==-1/0}function Hb(s){return"number"==typeof s&&Number.isInteger(s)&&!wf(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}class $e{constructor(r){this.path=r}static fromPath(r){return new $e(Rt.fromString(r))}static fromName(r){return new $e(Rt.fromString(r).popFirst(5))}hasCollectionId(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r}isEqual(r){return null!==r&&0===Rt.comparator(this.path,r.path)}toString(){return this.path.toString()}static comparator(r,i){return Rt.comparator(r.path,i.path)}static isDocumentKey(r){return r.length%2==0}static fromSegments(r){return new $e(new Rt(r.slice()))}}function dl(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?CE(s)?4:10:Ze()}function to(s,r){const i=dl(s);if(i!==dl(r))return!1;switch(i){case 0:return!0;case 1:return s.booleanValue===r.booleanValue;case 4:return ll(s).isEqual(ll(r));case 3:return function(u,c){if("string"==typeof u.timestampValue&&"string"==typeof c.timestampValue&&u.timestampValue.length===c.timestampValue.length)return u.timestampValue===c.timestampValue;const f=Bo(u.timestampValue),_=Bo(c.timestampValue);return f.seconds===_.seconds&&f.nanos===_.nanos}(s,r);case 5:return s.stringValue===r.stringValue;case 6:return c=r,hd(s.bytesValue).isEqual(hd(c.bytesValue));case 7:return s.referenceValue===r.referenceValue;case 8:return function(u,c){return An(u.geoPointValue.latitude)===An(c.geoPointValue.latitude)&&An(u.geoPointValue.longitude)===An(c.geoPointValue.longitude)}(s,r);case 2:return function(u,c){if("integerValue"in u&&"integerValue"in c)return An(u.integerValue)===An(c.integerValue);if("doubleValue"in u&&"doubleValue"in c){const f=An(u.doubleValue),_=An(c.doubleValue);return f===_?wf(f)===wf(_):isNaN(f)&&isNaN(_)}return!1}(s,r);case 9:return cd(s.arrayValue.values||[],r.arrayValue.values||[],to);case 10:return function(u,c){const f=u.mapValue.fields||{},_=c.mapValue.fields||{};if(Vb(f)!==Vb(_))return!1;for(const b in f)if(f.hasOwnProperty(b)&&(void 0===_[b]||!to(f[b],_[b])))return!1;return!0}(s,r);default:return Ze()}var c}function Cf(s,r){return void 0!==(s.values||[]).find(i=>to(i,r))}function fd(s,r){const i=dl(s),u=dl(r);if(i!==u)return wt(i,u);switch(i){case 0:return 0;case 1:return wt(s.booleanValue,r.booleanValue);case 2:return function(c,f){const _=An(c.integerValue||c.doubleValue),b=An(f.integerValue||f.doubleValue);return _<b?-1:_>b?1:_===b?0:isNaN(_)?isNaN(b)?0:-1:1}(s,r);case 3:return $b(s.timestampValue,r.timestampValue);case 4:return $b(ll(s),ll(r));case 5:return wt(s.stringValue,r.stringValue);case 6:return function(c,f){const _=hd(c),b=hd(f);return _.compareTo(b)}(s.bytesValue,r.bytesValue);case 7:return function(c,f){const _=c.split("/"),b=f.split("/");for(let T=0;T<_.length&&T<b.length;T++){const N=wt(_[T],b[T]);if(0!==N)return N}return wt(_.length,b.length)}(s.referenceValue,r.referenceValue);case 8:return function(c,f){const _=wt(An(c.latitude),An(f.latitude));return 0!==_?_:wt(An(c.longitude),An(f.longitude))}(s.geoPointValue,r.geoPointValue);case 9:return function(c,f){const _=c.values||[],b=f.values||[];for(let T=0;T<_.length&&T<b.length;++T){const N=fd(_[T],b[T]);if(N)return N}return wt(_.length,b.length)}(s.arrayValue,r.arrayValue);case 10:return function(c,f){const _=c.fields||{},b=Object.keys(_),T=f.fields||{},N=Object.keys(T);b.sort(),N.sort();for(let M=0;M<b.length&&M<N.length;++M){const k=wt(b[M],N[M]);if(0!==k)return k;const W=fd(_[b[M]],T[N[M]]);if(0!==W)return W}return wt(b.length,N.length)}(s.mapValue,r.mapValue);default:throw Ze()}}function $b(s,r){if("string"==typeof s&&"string"==typeof r&&s.length===r.length)return wt(s,r);const i=Bo(s),u=Bo(r),c=wt(i.seconds,u.seconds);return 0!==c?c:wt(i.nanos,u.nanos)}function bE(s){return Em(s)}function Em(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(u){const c=Bo(u);return`time(${c.seconds},${c.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?hd(s.bytesValue).toBase64():"referenceValue"in s?$e.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(r=s.geoPointValue).latitude},${r.longitude})`:"arrayValue"in s?function(u){let c="[",f=!0;for(const _ of u.values||[])f?f=!1:c+=",",c+=Em(_);return c+"]"}(s.arrayValue):"mapValue"in s?function(u){const c=Object.keys(u.fields||{}).sort();let f="{",_=!0;for(const b of c)_?_=!1:f+=",",f+=`${b}:${Em(u.fields[b])}`;return f+"}"}(s.mapValue):Ze();var r}function bf(s,r){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${r.path.canonicalString()}`}}function IE(s){return!!s&&"integerValue"in s}function DE(s){return!!s&&"arrayValue"in s}function TE(s){return!!s&&"nullValue"in s}function Gb(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function wm(s){return!!s&&"mapValue"in s}function If(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const r={mapValue:{fields:{}}};return ji(s.mapValue.fields,(i,u)=>r.mapValue.fields[i]=If(u)),r}if(s.arrayValue){const r={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)r.arrayValue.values[i]=If(s.arrayValue.values[i]);return r}return Object.assign({},s)}class zn{constructor(r){this.value=r}static empty(){return new zn({mapValue:{}})}field(r){if(r.isEmpty())return this.value;{let i=this.value;for(let u=0;u<r.length-1;++u)if(i=(i.mapValue.fields||{})[r.get(u)],!wm(i))return null;return i=(i.mapValue.fields||{})[r.lastSegment()],i||null}}set(r,i){this.getFieldsMap(r.popLast())[r.lastSegment()]=If(i)}setAll(r){let i=hr.emptyPath(),u={},c=[];r.forEach((_,b)=>{if(!i.isImmediateParentOf(b)){const T=this.getFieldsMap(i);this.applyChanges(T,u,c),u={},c=[],i=b.popLast()}_?u[b.lastSegment()]=If(_):c.push(b.lastSegment())});const f=this.getFieldsMap(i);this.applyChanges(f,u,c)}delete(r){const i=this.field(r.popLast());wm(i)&&i.mapValue.fields&&delete i.mapValue.fields[r.lastSegment()]}isEqual(r){return to(this.value,r.value)}getFieldsMap(r){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let u=0;u<r.length;++u){let c=i.mapValue.fields[r.get(u)];wm(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},i.mapValue.fields[r.get(u)]=c),i=c}return i.mapValue.fields}applyChanges(r,i,u){ji(i,(c,f)=>r[c]=f);for(const c of u)delete r[c]}clone(){return new zn(If(this.value))}}function Cm(s){const r=[];return ji(s.fields,(i,u)=>{const c=new hr([i]);if(wm(u)){const f=Cm(u.mapValue).fields;if(0===f.length)r.push(c);else for(const _ of f)r.push(c.child(_))}else r.push(c)}),new ul(r)}class nn{constructor(r,i,u,c,f){this.key=r,this.documentType=i,this.version=u,this.data=c,this.documentState=f}static newInvalidDocument(r){return new nn(r,0,ht.min(),zn.empty(),0)}static newFoundDocument(r,i,u){return new nn(r,1,i,u,0)}static newNoDocument(r,i){return new nn(r,2,i,zn.empty(),0)}static newUnknownDocument(r,i){return new nn(r,3,i,zn.empty(),2)}convertToFoundDocument(r,i){return this.version=r,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(r){return this.version=r,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(r){return this.version=r,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(r){return r instanceof nn&&this.key.isEqual(r.key)&&this.version.isEqual(r.version)&&this.documentType===r.documentType&&this.documentState===r.documentState&&this.data.isEqual(r.data)}clone(){return new nn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class AE{constructor(r,i=null,u=[],c=[],f=null,_=null,b=null){this.path=r,this.collectionGroup=i,this.orderBy=u,this.filters=c,this.limit=f,this.startAt=_,this.endAt=b,this.A=null}}function qb(s,r=null,i=[],u=[],c=null,f=null,_=null){return new AE(s,r,i,u,c,f,_)}function Df(s){const r=ke(s);if(null===r.A){let i=r.path.canonicalString();null!==r.collectionGroup&&(i+="|cg:"+r.collectionGroup),i+="|f:",i+=r.filters.map(u=>function(s){return s.field.canonicalString()+s.op.toString()+bE(s.value)}(u)).join(","),i+="|ob:",i+=r.orderBy.map(u=>{return(c=u).field.canonicalString()+c.dir;var c}).join(","),cl(r.limit)||(i+="|l:",i+=r.limit),r.startAt&&(i+="|lb:",i+=jo(r.startAt)),r.endAt&&(i+="|ub:",i+=jo(r.endAt)),r.A=i}return r.A}function bm(s,r){if(s.limit!==r.limit||s.orderBy.length!==r.orderBy.length)return!1;for(let c=0;c<s.orderBy.length;c++)if(!hN(s.orderBy[c],r.orderBy[c]))return!1;if(s.filters.length!==r.filters.length)return!1;for(let c=0;c<s.filters.length;c++)if((i=s.filters[c]).op!==(u=r.filters[c]).op||!i.field.isEqual(u.field)||!to(i.value,u.value))return!1;var i,u;return s.collectionGroup===r.collectionGroup&&!!s.path.isEqual(r.path)&&!!ds(s.startAt,r.startAt)&&ds(s.endAt,r.endAt)}function Tf(s){return $e.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}class Gr extends class{}{constructor(r,i,u){super(),this.field=r,this.op=i,this.value=u}static create(r,i,u){return r.isKeyField()?"in"===i||"not-in"===i?this.R(r,i,u):new Wb(r,i,u):"array-contains"===i?new hl(r,u):"in"===i?new dN(r,u):"not-in"===i?new xE(r,u):"array-contains-any"===i?new Im(r,u):new Gr(r,i,u)}static R(r,i,u){return"in"===i?new zb(r,u):new cN(r,u)}matches(r){const i=r.data.field(this.field);return"!="===this.op?null!==i&&this.P(fd(i,this.value)):null!==i&&dl(this.value)===dl(i)&&this.P(fd(i,this.value))}P(r){switch(this.op){case"<":return r<0;case"<=":return r<=0;case"==":return 0===r;case"!=":return 0!==r;case">":return r>0;case">=":return r>=0;default:return Ze()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Wb extends Gr{constructor(r,i,u){super(r,i,u),this.key=$e.fromName(u.referenceValue)}matches(r){const i=$e.comparator(r.key,this.key);return this.P(i)}}class zb extends Gr{constructor(r,i){super(r,"in",i),this.keys=Kb(0,i)}matches(r){return this.keys.some(i=>i.isEqual(r.key))}}class cN extends Gr{constructor(r,i){super(r,"not-in",i),this.keys=Kb(0,i)}matches(r){return!this.keys.some(i=>i.isEqual(r.key))}}function Kb(s,r){var i;return((null===(i=r.arrayValue)||void 0===i?void 0:i.values)||[]).map(u=>$e.fromName(u.referenceValue))}class hl extends Gr{constructor(r,i){super(r,"array-contains",i)}matches(r){const i=r.data.field(this.field);return DE(i)&&Cf(i.arrayValue,this.value)}}class dN extends Gr{constructor(r,i){super(r,"in",i)}matches(r){const i=r.data.field(this.field);return null!==i&&Cf(this.value.arrayValue,i)}}class xE extends Gr{constructor(r,i){super(r,"not-in",i)}matches(r){if(Cf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=r.data.field(this.field);return null!==i&&!Cf(this.value.arrayValue,i)}}class Im extends Gr{constructor(r,i){super(r,"array-contains-any",i)}matches(r){const i=r.data.field(this.field);return!(!DE(i)||!i.arrayValue.values)&&i.arrayValue.values.some(u=>Cf(this.value.arrayValue,u))}}class Af{constructor(r,i){this.position=r,this.before=i}}function jo(s){return`${s.before?"b":"a"}:${s.position.map(r=>bE(r)).join(",")}`}class pd{constructor(r,i="asc"){this.field=r,this.dir=i}}function hN(s,r){return s.dir===r.dir&&s.field.isEqual(r.field)}function Yb(s,r,i){let u=0;for(let c=0;c<s.position.length;c++){const f=r[c],_=s.position[c];if(u=f.field.isKeyField()?$e.comparator($e.fromName(_.referenceValue),i.key):fd(_,i.data.field(f.field)),"desc"===f.dir&&(u*=-1),0!==u)break}return s.before?u<=0:u<0}function ds(s,r){if(null===s)return null===r;if(null===r||s.before!==r.before||s.position.length!==r.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!to(s.position[i],r.position[i]))return!1;return!0}class no{constructor(r,i=null,u=[],c=[],f=null,_="F",b=null,T=null){this.path=r,this.collectionGroup=i,this.explicitOrderBy=u,this.filters=c,this.limit=f,this.limitType=_,this.startAt=b,this.endAt=T,this.V=null,this.S=null}}function zA(s,r,i,u,c,f,_,b){return new no(s,r,i,u,c,f,_,b)}function Ho(s){return new no(s)}function Dm(s){return!cl(s.limit)&&"F"===s.limitType}function Tm(s){return!cl(s.limit)&&"L"===s.limitType}function Qb(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function NE(s){for(const r of s.filters)if(r.v())return r.field;return null}function RE(s){return null!==s.collectionGroup}function gd(s){const r=ke(s);if(null===r.V){r.V=[];const i=NE(r),u=Qb(r);if(null!==i&&null===u)i.isKeyField()||r.V.push(new pd(i)),r.V.push(new pd(hr.keyField(),"asc"));else{let c=!1;for(const f of r.explicitOrderBy)r.V.push(f),f.field.isKeyField()&&(c=!0);if(!c){const f=r.explicitOrderBy.length>0?r.explicitOrderBy[r.explicitOrderBy.length-1].dir:"asc";r.V.push(new pd(hr.keyField(),f))}}}return r.V}function li(s){const r=ke(s);if(!r.S)if("F"===r.limitType)r.S=qb(r.path,r.collectionGroup,gd(r),r.filters,r.limit,r.startAt,r.endAt);else{const i=[];for(const f of gd(r))i.push(new pd(f.field,"desc"===f.dir?"asc":"desc"));const u=r.endAt?new Af(r.endAt.position,!r.endAt.before):null,c=r.startAt?new Af(r.startAt.position,!r.startAt.before):null;r.S=qb(r.path,r.collectionGroup,i,r.filters,r.limit,u,c)}return r.S}function ME(s,r,i){return new no(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),r,i,s.startAt,s.endAt)}function fl(s,r){return bm(li(s),li(r))&&s.limitType===r.limitType}function OE(s){return`${Df(li(s))}|lt:${s.limitType}`}function PE(s){return`Query(target=${function(s){let r=s.path.canonicalString();return null!==s.collectionGroup&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map(i=>{return`${(u=i).field.canonicalString()} ${u.op} ${bE(u.value)}`;var u}).join(", ")}]`),cl(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map(i=>{return`${(u=i).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),s.startAt&&(r+=", startAt: "+jo(s.startAt)),s.endAt&&(r+=", endAt: "+jo(s.endAt)),`Target(${r})`}(li(s))}; limitType=${s.limitType})`}function Am(s,r){return r.isFoundDocument()&&function(i,u){const c=u.key.path;return null!==i.collectionGroup?u.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):$e.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(s,r)&&function(i,u){for(const c of i.explicitOrderBy)if(!c.field.isKeyField()&&null===u.data.field(c.field))return!1;return!0}(s,r)&&function(i,u){for(const c of i.filters)if(!c.matches(u))return!1;return!0}(s,r)&&(u=r,!((i=s).startAt&&!Yb(i.startAt,gd(i),u)||i.endAt&&Yb(i.endAt,gd(i),u)));var i,u}function Jb(s){return(r,i)=>{let u=!1;for(const c of gd(s)){const f=KA(c,r,i);if(0!==f)return f;u=u||c.field.isKeyField()}return 0}}function KA(s,r,i){const u=s.field.isKeyField()?$e.comparator(r.key,i.key):function(c,f,_){const b=f.data.field(c),T=_.data.field(c);return null!==b&&null!==T?fd(b,T):Ze()}(s.field,r,i);switch(s.dir){case"asc":return u;case"desc":return-1*u;default:return Ze()}}function Xb(s,r){if(s.D){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wf(r)?"-0":r}}function kE(s){return{integerValue:""+s}}function FE(s,r){return Hb(r)?kE(r):Xb(s,r)}class Sf{constructor(){this._=void 0}}function YA(s,r,i){return s instanceof $o?function(u,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return c&&(f.fields.__previous_value__=c),{mapValue:f}}(i,r):s instanceof pl?VE(s,r):s instanceof ro?xf(s,r):function(u,c){const f=LE(u,c),_=eI(f)+eI(u.C);return IE(f)&&IE(u.C)?kE(_):Xb(u.N,_)}(s,r)}function QA(s,r,i){return s instanceof pl?VE(s,r):s instanceof ro?xf(s,r):i}function LE(s,r){return s instanceof io?IE(i=r)||(u=i)&&"doubleValue"in u?r:{integerValue:0}:null;var u,i}class $o extends Sf{}class pl extends Sf{constructor(r){super(),this.elements=r}}function VE(s,r){const i=tI(r);for(const u of s.elements)i.some(c=>to(c,u))||i.push(u);return{arrayValue:{values:i}}}class ro extends Sf{constructor(r){super(),this.elements=r}}function xf(s,r){let i=tI(r);for(const u of s.elements)i=i.filter(c=>!to(c,u));return{arrayValue:{values:i}}}class io extends Sf{constructor(r,i){super(),this.N=r,this.C=i}}function eI(s){return An(s.integerValue||s.doubleValue)}function tI(s){return DE(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Sm{constructor(r,i){this.field=r,this.transform=i}}class XA{constructor(r,i){this.version=r,this.transformResults=i}}class Fn{constructor(r,i){this.updateTime=r,this.exists=i}static none(){return new Fn}static exists(r){return new Fn(void 0,r)}static updateTime(r){return new Fn(r)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(r){return this.exists===r.exists&&(this.updateTime?!!r.updateTime&&this.updateTime.isEqual(r.updateTime):!r.updateTime)}}function xm(s,r){return void 0!==s.updateTime?r.isFoundDocument()&&r.version.isEqual(s.updateTime):void 0===s.exists||s.exists===r.isFoundDocument()}class Nm{}function eS(s,r,i){s instanceof Nf?function(u,c,f){const _=u.value.clone(),b=iI(u.fieldTransforms,c,f.transformResults);_.setAll(b),c.convertToFoundDocument(f.version,_).setHasCommittedMutations()}(s,r,i):s instanceof Hi?function(u,c,f){if(!xm(u.precondition,c))return void c.convertToUnknownDocument(f.version);const _=iI(u.fieldTransforms,c,f.transformResults),b=c.data;b.setAll(rI(u)),b.setAll(_),c.convertToFoundDocument(f.version,b).setHasCommittedMutations()}(s,r,i):r.convertToNoDocument(i.version).setHasCommittedMutations()}function UE(s,r,i){var c;s instanceof Nf?function(u,c,f){if(!xm(u.precondition,c))return;const _=u.value.clone(),b=sI(u.fieldTransforms,f,c);_.setAll(b),c.convertToFoundDocument(nS(c),_).setHasLocalMutations()}(s,r,i):s instanceof Hi?function(u,c,f){if(!xm(u.precondition,c))return;const _=sI(u.fieldTransforms,f,c),b=c.data;b.setAll(rI(u)),b.setAll(_),c.convertToFoundDocument(nS(c),b).setHasLocalMutations()}(s,r,i):xm(s.precondition,c=r)&&c.convertToNoDocument(ht.min())}function tS(s,r){let i=null;for(const u of s.fieldTransforms){const c=r.data.field(u.field),f=LE(u.transform,c||null);null!=f&&(null==i&&(i=zn.empty()),i.set(u.field,f))}return i||null}function nI(s,r){return s.type===r.type&&!!s.key.isEqual(r.key)&&!!s.precondition.isEqual(r.precondition)&&(u=r.fieldTransforms,!!(void 0===(i=s.fieldTransforms)&&void 0===u||i&&u&&cd(i,u,(c,f)=>function(s,r){return s.field.isEqual(r.field)&&(u=r.transform,(i=s.transform)instanceof pl&&u instanceof pl||i instanceof ro&&u instanceof ro?cd(i.elements,u.elements,to):i instanceof io&&u instanceof io?to(i.C,u.C):i instanceof $o&&u instanceof $o);var i,u}(c,f))))&&(0===s.type?s.value.isEqual(r.value):1!==s.type||s.data.isEqual(r.data)&&s.fieldMask.isEqual(r.fieldMask));var i,u}function nS(s){return s.isFoundDocument()?s.version:ht.min()}class Nf extends Nm{constructor(r,i,u,c=[]){super(),this.key=r,this.value=i,this.precondition=u,this.fieldTransforms=c,this.type=0}}class Hi extends Nm{constructor(r,i,u,c,f=[]){super(),this.key=r,this.data=i,this.fieldMask=u,this.precondition=c,this.fieldTransforms=f,this.type=1}}function rI(s){const r=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const u=s.data.field(i);r.set(i,u)}}),r}function iI(s,r,i){const u=new Map;Je(s.length===i.length);for(let c=0;c<i.length;c++){const f=s[c],_=f.transform,b=r.data.field(f.field);u.set(f.field,QA(_,b,i[c]))}return u}function sI(s,r,i){const u=new Map;for(const c of s){const f=c.transform,_=i.data.field(c.field);u.set(c.field,YA(f,_,r))}return u}class $a extends Nm{constructor(r,i){super(),this.key=r,this.precondition=i,this.type=2,this.fieldTransforms=[]}}class Go extends Nm{constructor(r,i){super(),this.key=r,this.precondition=i,this.type=3,this.fieldTransforms=[]}}class oI{constructor(r){this.count=r}}var Ln,St;function aI(s){switch(s){case de.OK:return Ze();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Ze()}}function Rf(s){if(void 0===s)return Tn("GRPC error has no .code"),de.UNKNOWN;switch(s){case Ln.OK:return de.OK;case Ln.CANCELLED:return de.CANCELLED;case Ln.UNKNOWN:return de.UNKNOWN;case Ln.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Ln.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Ln.INTERNAL:return de.INTERNAL;case Ln.UNAVAILABLE:return de.UNAVAILABLE;case Ln.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Ln.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Ln.NOT_FOUND:return de.NOT_FOUND;case Ln.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Ln.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Ln.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Ln.ABORTED:return de.ABORTED;case Ln.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Ln.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Ln.DATA_LOSS:return de.DATA_LOSS;default:return Ze()}}(St=Ln||(Ln={}))[St.OK=0]="OK",St[St.CANCELLED=1]="CANCELLED",St[St.UNKNOWN=2]="UNKNOWN",St[St.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",St[St.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",St[St.NOT_FOUND=5]="NOT_FOUND",St[St.ALREADY_EXISTS=6]="ALREADY_EXISTS",St[St.PERMISSION_DENIED=7]="PERMISSION_DENIED",St[St.UNAUTHENTICATED=16]="UNAUTHENTICATED",St[St.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",St[St.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",St[St.ABORTED=10]="ABORTED",St[St.OUT_OF_RANGE=11]="OUT_OF_RANGE",St[St.UNIMPLEMENTED=12]="UNIMPLEMENTED",St[St.INTERNAL=13]="INTERNAL",St[St.UNAVAILABLE=14]="UNAVAILABLE",St[St.DATA_LOSS=15]="DATA_LOSS";class jn{constructor(r,i){this.comparator=r,this.root=i||Kn.EMPTY}insert(r,i){return new jn(this.comparator,this.root.insert(r,i,this.comparator).copy(null,null,Kn.BLACK,null,null))}remove(r){return new jn(this.comparator,this.root.remove(r,this.comparator).copy(null,null,Kn.BLACK,null,null))}get(r){let i=this.root;for(;!i.isEmpty();){const u=this.comparator(r,i.key);if(0===u)return i.value;u<0?i=i.left:u>0&&(i=i.right)}return null}indexOf(r){let i=0,u=this.root;for(;!u.isEmpty();){const c=this.comparator(r,u.key);if(0===c)return i+u.left.size;c<0?u=u.left:(i+=u.left.size+1,u=u.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(r){return this.root.inorderTraversal(r)}forEach(r){this.inorderTraversal((i,u)=>(r(i,u),!1))}toString(){const r=[];return this.inorderTraversal((i,u)=>(r.push(`${i}:${u}`),!1)),`{${r.join(", ")}}`}reverseTraversal(r){return this.root.reverseTraversal(r)}getIterator(){return new Rm(this.root,null,this.comparator,!1)}getIteratorFrom(r){return new Rm(this.root,r,this.comparator,!1)}getReverseIterator(){return new Rm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(r){return new Rm(this.root,r,this.comparator,!0)}}class Rm{constructor(r,i,u,c){this.isReverse=c,this.nodeStack=[];let f=1;for(;!r.isEmpty();)if(f=i?u(r.key,i):1,c&&(f*=-1),f<0)r=this.isReverse?r.left:r.right;else{if(0===f){this.nodeStack.push(r);break}this.nodeStack.push(r),r=this.isReverse?r.right:r.left}}getNext(){let r=this.nodeStack.pop();const i={key:r.key,value:r.value};if(this.isReverse)for(r=r.left;!r.isEmpty();)this.nodeStack.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack.push(r),r=r.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const r=this.nodeStack[this.nodeStack.length-1];return{key:r.key,value:r.value}}}class Kn{constructor(r,i,u,c,f){this.key=r,this.value=i,this.color=null!=u?u:Kn.RED,this.left=null!=c?c:Kn.EMPTY,this.right=null!=f?f:Kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(r,i,u,c,f){return new Kn(null!=r?r:this.key,null!=i?i:this.value,null!=u?u:this.color,null!=c?c:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(r){return this.left.inorderTraversal(r)||r(this.key,this.value)||this.right.inorderTraversal(r)}reverseTraversal(r){return this.right.reverseTraversal(r)||r(this.key,this.value)||this.left.reverseTraversal(r)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(r,i,u){let c=this;const f=u(r,c.key);return c=f<0?c.copy(null,null,null,c.left.insert(r,i,u),null):0===f?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(r,i,u)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Kn.EMPTY;let r=this;return r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.removeMin(),null),r.fixUp()}remove(r,i){let u,c=this;if(i(r,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(r,i),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===i(r,c.key)){if(c.right.isEmpty())return Kn.EMPTY;u=c.right.min(),c=c.copy(u.key,u.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(r,i))}return c.fixUp()}isRed(){return this.color}fixUp(){let r=this;return r.right.isRed()&&!r.left.isRed()&&(r=r.rotateLeft()),r.left.isRed()&&r.left.left.isRed()&&(r=r.rotateRight()),r.left.isRed()&&r.right.isRed()&&(r=r.colorFlip()),r}moveRedLeft(){let r=this.colorFlip();return r.right.left.isRed()&&(r=r.copy(null,null,null,null,r.right.rotateRight()),r=r.rotateLeft(),r=r.colorFlip()),r}moveRedRight(){let r=this.colorFlip();return r.left.left.isRed()&&(r=r.rotateRight(),r=r.colorFlip()),r}rotateLeft(){const r=this.copy(null,null,Kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)}rotateRight(){const r=this.copy(null,null,Kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)}colorFlip(){const r=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,i)}checkMaxDepth(){const r=this.check();return Math.pow(2,r)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ze();const r=this.left.check();if(r!==this.right.check())throw Ze();return r+(this.isRed()?0:1)}}Kn.EMPTY=null,Kn.RED=!0,Kn.BLACK=!1,Kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze()}get value(){throw Ze()}get color(){throw Ze()}get left(){throw Ze()}get right(){throw Ze()}copy(s,r,i,u,c){return this}insert(s,r,i){return new Kn(s,r)}remove(s,r){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yn{constructor(r){this.comparator=r,this.data=new jn(this.comparator)}has(r){return null!==this.data.get(r)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(r){return this.data.indexOf(r)}forEach(r){this.data.inorderTraversal((i,u)=>(r(i),!1))}forEachInRange(r,i){const u=this.data.getIteratorFrom(r[0]);for(;u.hasNext();){const c=u.getNext();if(this.comparator(c.key,r[1])>=0)return;i(c.key)}}forEachWhile(r,i){let u;for(u=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();u.hasNext();)if(!r(u.getNext().key))return}firstAfterOrEqual(r){const i=this.data.getIteratorFrom(r);return i.hasNext()?i.getNext().key:null}getIterator(){return new Mm(this.data.getIterator())}getIteratorFrom(r){return new Mm(this.data.getIteratorFrom(r))}add(r){return this.copy(this.data.remove(r).insert(r,!0))}delete(r){return this.has(r)?this.copy(this.data.remove(r)):this}isEmpty(){return this.data.isEmpty()}unionWith(r){let i=this;return i.size<r.size&&(i=r,r=this),r.forEach(u=>{i=i.add(u)}),i}isEqual(r){if(!(r instanceof yn)||this.size!==r.size)return!1;const i=this.data.getIterator(),u=r.data.getIterator();for(;i.hasNext();){const c=i.getNext().key,f=u.getNext().key;if(0!==this.comparator(c,f))return!1}return!0}toArray(){const r=[];return this.forEach(i=>{r.push(i)}),r}toString(){const r=[];return this.forEach(i=>r.push(i)),"SortedSet("+r.toString()+")"}copy(r){const i=new yn(this.comparator);return i.data=r,i}}class Mm{constructor(r){this.iter=r}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const uI=new jn($e.comparator);function wi(){return uI}const rS=new jn($e.comparator);function BE(){return rS}const lI=new jn($e.comparator);function cI(){return lI}const dI=new yn($e.comparator);function Mt(...s){let r=dI;for(const i of s)r=r.add(i);return r}const Om=new yn(wt);function jE(){return Om}class qo{constructor(r,i,u,c,f){this.snapshotVersion=r,this.targetChanges=i,this.targetMismatches=u,this.documentUpdates=c,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(r,i){const u=new Map;return u.set(r,Dt.createSynthesizedTargetChangeForCurrentChange(r,i)),new qo(ht.min(),u,jE(),wi(),Mt())}}class Dt{constructor(r,i,u,c,f){this.resumeToken=r,this.current=i,this.addedDocuments=u,this.modifiedDocuments=c,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(r,i){return new Dt(kn.EMPTY_BYTE_STRING,i,Mt(),Mt(),Mt())}}class hs{constructor(r,i,u,c){this.k=r,this.removedTargetIds=i,this.key=u,this.$=c}}class gl{constructor(r,i){this.targetId=r,this.O=i}}class md{constructor(r,i,u=kn.EMPTY_BYTE_STRING,c=null){this.state=r,this.targetIds=i,this.resumeToken=u,this.cause=c}}class iS{constructor(){this.F=0,this.M=Pm(),this.L=kn.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(r){r.approximateByteSize()>0&&(this.U=!0,this.L=r)}W(){let r=Mt(),i=Mt(),u=Mt();return this.M.forEach((c,f)=>{switch(f){case 0:r=r.add(c);break;case 2:i=i.add(c);break;case 1:u=u.add(c);break;default:Ze()}}),new Dt(this.L,this.B,r,i,u)}G(){this.U=!1,this.M=Pm()}H(r,i){this.U=!0,this.M=this.M.insert(r,i)}J(r){this.U=!0,this.M=this.M.remove(r)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class ot{constructor(r){this.tt=r,this.et=new Map,this.nt=wi(),this.st=Ci(),this.it=new yn(wt)}rt(r){for(const i of r.k)r.$&&r.$.isFoundDocument()?this.ot(i,r.$):this.at(i,r.key,r.$);for(const i of r.removedTargetIds)this.at(i,r.key,r.$)}ct(r){this.forEachTarget(r,i=>{const u=this.ut(i);switch(r.state){case 0:this.ht(i)&&u.j(r.resumeToken);break;case 1:u.X(),u.q||u.G(),u.j(r.resumeToken);break;case 2:u.X(),u.q||this.removeTarget(i);break;case 3:this.ht(i)&&(u.Z(),u.j(r.resumeToken));break;case 4:this.ht(i)&&(this.lt(i),u.j(r.resumeToken));break;default:Ze()}})}forEachTarget(r,i){r.targetIds.length>0?r.targetIds.forEach(i):this.et.forEach((u,c)=>{this.ht(c)&&i(c)})}ft(r){const i=r.targetId,u=r.O.count,c=this.dt(i);if(c){const f=c.target;if(Tf(f))if(0===u){const _=new $e(f.path);this.at(i,_,nn.newNoDocument(_,ht.min()))}else Je(1===u);else this.wt(i)!==u&&(this.lt(i),this.it=this.it.add(i))}}_t(r){const i=new Map;this.et.forEach((f,_)=>{const b=this.dt(_);if(b){if(f.current&&Tf(b.target)){const T=new $e(b.target.path);null!==this.nt.get(T)||this.gt(_,T)||this.at(_,T,nn.newNoDocument(T,r))}f.K&&(i.set(_,f.W()),f.G())}});let u=Mt();this.st.forEach((f,_)=>{let b=!0;_.forEachWhile(T=>{const N=this.dt(T);return!N||2===N.purpose||(b=!1,!1)}),b&&(u=u.add(f))});const c=new qo(r,i,this.it,this.nt,u);return this.nt=wi(),this.st=Ci(),this.it=new yn(wt),c}ot(r,i){if(!this.ht(r))return;const u=this.gt(r,i.key)?2:0;this.ut(r).H(i.key,u),this.nt=this.nt.insert(i.key,i),this.st=this.st.insert(i.key,this.yt(i.key).add(r))}at(r,i,u){if(!this.ht(r))return;const c=this.ut(r);this.gt(r,i)?c.H(i,1):c.J(i),this.st=this.st.insert(i,this.yt(i).delete(r)),u&&(this.nt=this.nt.insert(i,u))}removeTarget(r){this.et.delete(r)}wt(r){const i=this.ut(r).W();return this.tt.getRemoteKeysForTarget(r).size+i.addedDocuments.size-i.removedDocuments.size}Y(r){this.ut(r).Y()}ut(r){let i=this.et.get(r);return i||(i=new iS,this.et.set(r,i)),i}yt(r){let i=this.st.get(r);return i||(i=new yn(wt),this.st=this.st.insert(r,i)),i}ht(r){const i=null!==this.dt(r);return i||Re("WatchChangeAggregator","Detected inactive target",r),i}dt(r){const i=this.et.get(r);return i&&i.q?null:this.tt.Et(r)}lt(r){this.et.set(r,new iS),this.tt.getRemoteKeysForTarget(r).forEach(i=>{this.at(r,i,null)})}gt(r,i){return this.tt.getRemoteKeysForTarget(r).has(i)}}function Ci(){return new jn($e.comparator)}function Pm(){return new jn($e.comparator)}const ml={asc:"ASCENDING",desc:"DESCENDING"},fN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class hI{constructor(r,i){this.databaseId=r,this.D=i}}function yd(s,r){return s.D?`${new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+r.nanoseconds).slice(-9)}Z`:{seconds:""+r.seconds,nanos:r.nanoseconds}}function sS(s,r){return s.D?r.toBase64():r.toUint8Array()}function oS(s,r){return yd(s,r.toTimestamp())}function Yn(s){return Je(!!s),ht.fromTimestamp(function(r){const i=Bo(r);return new Bn(i.seconds,i.nanos)}(s))}function ci(s,r){return(i=s,new Rt(["projects",i.projectId,"databases",i.database])).child("documents").child(r).canonicalString();var i}function cn(s){const r=Rt.fromString(s);return Je(et(r)),r}function qr(s,r){return ci(s.databaseId,r.path)}function fs(s,r){const i=cn(r);if(i.get(1)!==s.databaseId.projectId)throw new De(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new De(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new $e(_l(i))}function HE(s,r){return ci(s.databaseId,r)}function $E(s){const r=cn(s);return 4===r.length?Rt.emptyPath():_l(r)}function yl(s){return new Rt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function _l(s){return Je(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function _d(s,r,i){return{name:qr(s,r),fields:i.value.mapValue.fields}}function fI(s,r,i){const u=fs(s,r.name),c=Yn(r.updateTime),f=new zn({mapValue:{fields:r.fields}}),_=nn.newFoundDocument(u,c,f);return i&&_.setHasCommittedMutations(),i?_.setHasCommittedMutations():_}function Mf(s,r){let i;if(r instanceof Nf)i={update:_d(s,r.key,r.value)};else if(r instanceof $a)i={delete:qr(s,r.key)};else if(r instanceof Hi)i={update:_d(s,r.key,r.data),updateMask:gN(r.fieldMask)};else{if(!(r instanceof Go))return Ze();i={verify:qr(s,r.key)}}return r.fieldTransforms.length>0&&(i.updateTransforms=r.fieldTransforms.map(u=>function(c,f){const _=f.transform;if(_ instanceof $o)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof pl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof ro)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof io)return{fieldPath:f.field.canonicalString(),increment:_.C};throw Ze()}(0,u))),r.precondition.isNone||(i.currentDocument=void 0!==(c=r.precondition).updateTime?{updateTime:oS(s,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Ze()),i;var c}function km(s,r){const i=r.currentDocument?void 0!==(c=r.currentDocument).updateTime?Fn.updateTime(Yn(c.updateTime)):void 0!==c.exists?Fn.exists(c.exists):Fn.none():Fn.none(),u=r.updateTransforms?r.updateTransforms.map(c=>function(f,_){let b=null;"setToServerValue"in _?(Je("REQUEST_TIME"===_.setToServerValue),b=new $o):"appendMissingElements"in _?b=new pl(_.appendMissingElements.values||[]):"removeAllFromArray"in _?b=new ro(_.removeAllFromArray.values||[]):"increment"in _?b=new io(f,_.increment):Ze();const T=hr.fromServerFormat(_.fieldPath);return new Sm(T,b)}(s,c)):[];var c;if(r.update){const c=fs(s,r.update.name),f=new zn({mapValue:{fields:r.update.fields}});if(r.updateMask){const _=new ul((r.updateMask.fieldPaths||[]).map(N=>hr.fromServerFormat(N)));return new Hi(c,f,_,i,u)}return new Nf(c,f,i,u)}if(r.delete){const c=fs(s,r.delete);return new $a(c,i)}if(r.verify){const c=fs(s,r.verify);return new Go(c,i)}return Ze()}function Fm(s,r){return{documents:[HE(s,r.path)]}}function GE(s,r){const i={structuredQuery:{}},u=r.path;null!==r.collectionGroup?(i.parent=HE(s,u),i.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(i.parent=HE(s,u.popLast()),i.structuredQuery.from=[{collectionId:u.lastSegment()}]);const c=function(b){if(0===b.length)return;const T=b.map(N=>function(M){if("=="===M.op){if(Gb(M.value))return{unaryFilter:{field:vd(M.field),op:"IS_NAN"}};if(TE(M.value))return{unaryFilter:{field:vd(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(Gb(M.value))return{unaryFilter:{field:vd(M.field),op:"IS_NOT_NAN"}};if(TE(M.value))return{unaryFilter:{field:vd(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vd(M.field),op:Lm(M.op),value:M.value}}}(N));return 1===T.length?T[0]:{compositeFilter:{op:"AND",filters:T}}}(r.filters);c&&(i.structuredQuery.where=c);const f=function(b){if(0!==b.length)return b.map(T=>{return{field:vd((N=T).field),direction:pI(N.dir)};var N})}(r.orderBy);f&&(i.structuredQuery.orderBy=f);const _=(T=r.limit,s.D||cl(T)?T:{value:T});var T;return null!==_&&(i.structuredQuery.limit=_),r.startAt&&(i.structuredQuery.startAt=qE(r.startAt)),r.endAt&&(i.structuredQuery.endAt=qE(r.endAt)),i}function El(s){let r=$E(s.parent);const i=s.structuredQuery,u=i.from?i.from.length:0;let c=null;if(u>0){Je(1===u);const M=i.from[0];M.allDescendants?c=M.collectionId:r=r.child(M.collectionId)}let f=[];i.where&&(f=Pf(i.where));let _=[];i.orderBy&&(_=i.orderBy.map(M=>{return new pd(Ga((k=M).field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction));var k}));let b=null;i.limit&&(b=function(M){let k;return k="object"==typeof M?M.value:M,cl(k)?null:k}(i.limit));let T=null;i.startAt&&(T=ZE(i.startAt));let N=null;return i.endAt&&(N=ZE(i.endAt)),zA(r,c,_,f,b,"F",T,N)}function Pf(s){return s?void 0!==s.unaryFilter?[pN(s)]:void 0!==s.fieldFilter?[WE(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(r=>Pf(r)).reduce((r,i)=>r.concat(i)):Ze():[]}function qE(s){return{before:s.before,values:s.position}}function ZE(s){return new Af(s.values||[],!!s.before)}function pI(s){return ml[s]}function Lm(s){return fN[s]}function vd(s){return{fieldPath:s.canonicalString()}}function Ga(s){return hr.fromServerFormat(s.fieldPath)}function WE(s){return Gr.create(Ga(s.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ze()}}(s.fieldFilter.op),s.fieldFilter.value)}function pN(s){switch(s.unaryFilter.op){case"IS_NAN":const r=Ga(s.unaryFilter.field);return Gr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ga(s.unaryFilter.field);return Gr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ga(s.unaryFilter.field);return Gr.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ga(s.unaryFilter.field);return Gr.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ze()}}function gN(s){const r=[];return s.fields.forEach(i=>r.push(i.canonicalString())),{fieldPaths:r}}function et(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function so(s){let r="";for(let i=0;i<s.length;i++)r.length>0&&(r=gI(r)),r=kf(s.get(i),r);return gI(r)}function kf(s,r){let i=r;const u=s.length;for(let c=0;c<u;c++){const f=s.charAt(c);switch(f){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=f}}return i}function gI(s){return s+"\x01\x01"}function Zo(s){const r=s.length;if(Je(r>=2),2===r)return Je("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),Rt.emptyPath();const i=r-2,u=[];let c="";for(let f=0;f<r;){const _=s.indexOf("\x01",f);switch((_<0||_>i)&&Ze(),s.charAt(_+1)){case"\x01":const b=s.substring(f,_);let T;0===c.length?T=b:(c+=b,T=c,c=""),u.push(T);break;case"\x10":c+=s.substring(f,_),c+="\0";break;case"\x11":c+=s.substring(f,_+1);break;default:Ze()}f=_+2}return new Rt(u)}class lS{constructor(r,i){this.seconds=r,this.nanoseconds=i}}class $i{constructor(r,i,u){this.ownerId=r,this.allowTabSynchronization=i,this.leaseTimestampMs=u}}$i.store="owner",$i.key="owner";class wl{constructor(r,i,u){this.userId=r,this.lastAcknowledgedBatchId=i,this.lastStreamToken=u}}wl.store="mutationQueues",wl.keyPath="userId";class rn{constructor(r,i,u,c,f){this.userId=r,this.batchId=i,this.localWriteTimeMs=u,this.baseMutations=c,this.mutations=f}}rn.store="mutations",rn.keyPath="batchId",rn.userMutationsIndex="userMutationsIndex",rn.userMutationsKeyPath=["userId","batchId"];class kt{constructor(){}static prefixForUser(r){return[r]}static prefixForPath(r,i){return[r,so(i)]}static key(r,i,u){return[r,so(i),u]}}kt.store="documentMutations",kt.PLACEHOLDER=new kt;class cS{constructor(r,i){this.path=r,this.readTime=i}}class dS{constructor(r,i){this.path=r,this.version=i}}class dn{constructor(r,i,u,c,f,_){this.unknownDocument=r,this.noDocument=i,this.document=u,this.hasCommittedMutations=c,this.readTime=f,this.parentPath=_}}dn.store="remoteDocuments",dn.readTimeIndex="readTimeIndex",dn.readTimeIndexPath="readTime",dn.collectionReadTimeIndex="collectionReadTimeIndex",dn.collectionReadTimeIndexPath=["parentPath","readTime"];class oo{constructor(r){this.byteSize=r}}oo.store="remoteDocumentGlobal",oo.key="remoteDocumentGlobalKey";class di{constructor(r,i,u,c,f,_,b){this.targetId=r,this.canonicalId=i,this.readTime=u,this.resumeToken=c,this.lastListenSequenceNumber=f,this.lastLimboFreeSnapshotVersion=_,this.query=b}}di.store="targets",di.keyPath="targetId",di.queryTargetsIndexName="queryTargetsIndex",di.queryTargetsKeyPath=["canonicalId","targetId"];class fr{constructor(r,i,u){this.targetId=r,this.path=i,this.sequenceNumber=u}}fr.store="targetDocuments",fr.keyPath=["targetId","path"],fr.documentTargetsIndex="documentTargetsIndex",fr.documentTargetsKeyPath=["path","targetId"];class bi{constructor(r,i,u,c){this.highestTargetId=r,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=u,this.targetCount=c}}bi.key="targetGlobalKey",bi.store="targetGlobal";class Cl{constructor(r,i){this.collectionId=r,this.parent=i}}Cl.store="collectionParents",Cl.keyPath=["collectionId","parent"];class Wo{constructor(r,i,u,c){this.clientId=r,this.updateTimeMs=i,this.networkEnabled=u,this.inForeground=c}}Wo.store="clientMetadata",Wo.keyPath="clientId";class qa{constructor(r,i,u){this.bundleId=r,this.createTime=i,this.version=u}}qa.store="bundles",qa.keyPath="bundleId";class Ed{constructor(r,i,u){this.name=r,this.readTime=i,this.bundledQuery=u}}Ed.store="namedQueries",Ed.keyPath="name";const hS=[wl.store,rn.store,kt.store,dn.store,di.store,$i.store,bi.store,fr.store,Wo.store,oo.store,Cl.store,qa.store,Ed.store],zE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Vm{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(r){this.onCommittedListeners.push(r)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(r=>r())}}class Ce{constructor(r){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,r(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(r){return this.next(void 0,r)}next(r,i){return this.callbackAttached&&Ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(r,this.result):new Ce((u,c)=>{this.nextCallback=f=>{this.wrapSuccess(r,f).next(u,c)},this.catchCallback=f=>{this.wrapFailure(i,f).next(u,c)}})}toPromise(){return new Promise((r,i)=>{this.next(r,i)})}wrapUserFunction(r){try{const i=r();return i instanceof Ce?i:Ce.resolve(i)}catch(i){return Ce.reject(i)}}wrapSuccess(r,i){return r?this.wrapUserFunction(()=>r(i)):Ce.resolve(i)}wrapFailure(r,i){return r?this.wrapUserFunction(()=>r(i)):Ce.reject(i)}static resolve(r){return new Ce((i,u)=>{i(r)})}static reject(r){return new Ce((i,u)=>{u(r)})}static waitFor(r){return new Ce((i,u)=>{let c=0,f=0,_=!1;r.forEach(b=>{++c,b.next(()=>{++f,_&&f===c&&i()},T=>u(T))}),_=!0,f===c&&i()})}static or(r){let i=Ce.resolve(!1);for(const u of r)i=i.next(c=>c?Ce.resolve(c):u());return i}static forEach(r,i){const u=[];return r.forEach((c,f)=>{u.push(i.call(this,c,f))}),this.waitFor(u)}}class KE{constructor(r,i){this.action=r,this.transaction=i,this.aborted=!1,this.Tt=new cr,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{i.error?this.Tt.reject(new Ff(r,i.error)):this.Tt.resolve()},this.transaction.onerror=u=>{const c=YE(u.target.error);this.Tt.reject(new Ff(r,c))}}static open(r,i,u,c){try{return new KE(i,r.transaction(c,u))}catch(f){throw new Ff(i,f)}}get It(){return this.Tt.promise}abort(r){r&&this.Tt.reject(r),this.aborted||(Re("SimpleDb","Aborting transaction:",r?r.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(r){const i=this.transaction.objectStore(r);return new pS(i)}}class ps{constructor(r,i,u){this.name=r,this.version=i,this.At=u,12.2===ps.Rt((0,Pt.z$)())&&Tn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(r){return Re("SimpleDb","Removing database:",r),Il(window.indexedDB.deleteDatabase(r)).toPromise()}static Pt(){if("undefined"==typeof indexedDB)return!1;if(ps.bt())return!0;const r=(0,Pt.z$)(),i=ps.Rt(r),u=0<i&&i<10,c=ps.vt(r),f=0<c&&c<4.5;return!(r.indexOf("MSIE ")>0||r.indexOf("Trident/")>0||r.indexOf("Edge/")>0||u||f)}static bt(){var r;return"undefined"!=typeof process&&"YES"===(null===(r=process.env)||void 0===r?void 0:r.Vt)}static St(r,i){return r.store(i)}static Rt(r){const i=r.match(/i(?:phone|pad|pod) os ([\d_]+)/i),u=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(u)}static vt(r){const i=r.match(/Android ([\d.]+)/i),u=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(u)}Dt(r){var i=this;return(0,me.Z)(function*(){return i.db||(Re("SimpleDb","Opening database:",i.name),i.db=yield new Promise((u,c)=>{const f=indexedDB.open(i.name,i.version);f.onsuccess=_=>{u(_.target.result)},f.onblocked=()=>{c(new Ff(r,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=_=>{const b=_.target.error;c("VersionError"===b.name?new De(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Ff(r,b))},f.onupgradeneeded=_=>{Re("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',_.oldVersion),i.At.Ct(_.target.result,f.transaction,_.oldVersion,i.version).next(()=>{Re("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.Nt&&(i.db.onversionchange=u=>i.Nt(u)),i.db})()}xt(r){this.Nt=r,this.db&&(this.db.onversionchange=i=>r(i))}runTransaction(r,i,u,c){var f=this;return(0,me.Z)(function*(){const _="readonly"===i;let b=0;for(;;){++b;try{f.db=yield f.Dt(r);const T=KE.open(f.db,r,_?"readonly":"readwrite",u),N=c(T).catch(M=>(T.abort(M),Ce.reject(M))).toPromise();return N.catch(()=>{}),yield T.It,N}catch(T){const N="FirebaseError"!==T.name&&b<3;if(Re("SimpleDb","Transaction failed with error:",T.message,"Retrying:",N),f.close(),!N)return Promise.reject(T)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class fS{constructor(r){this.kt=r,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(r){this.kt=r}done(){this.$t=!0}Mt(r){this.Ot=r}delete(){return Il(this.kt.delete())}}class Ff extends De{constructor(r,i){super(de.UNAVAILABLE,`IndexedDB transaction '${r}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function bl(s){return"IndexedDbTransactionError"===s.name}class pS{constructor(r){this.store=r}put(r,i){let u;return void 0!==i?(Re("SimpleDb","PUT",this.store.name,r,i),u=this.store.put(i,r)):(Re("SimpleDb","PUT",this.store.name,"<auto-key>",r),u=this.store.put(r)),Il(u)}add(r){return Re("SimpleDb","ADD",this.store.name,r,r),Il(this.store.add(r))}get(r){return Il(this.store.get(r)).next(i=>(void 0===i&&(i=null),Re("SimpleDb","GET",this.store.name,r,i),i))}delete(r){return Re("SimpleDb","DELETE",this.store.name,r),Il(this.store.delete(r))}count(){return Re("SimpleDb","COUNT",this.store.name),Il(this.store.count())}Lt(r,i){const u=this.cursor(this.options(r,i)),c=[];return this.Bt(u,(f,_)=>{c.push(_)}).next(()=>c)}Ut(r,i){Re("SimpleDb","DELETE ALL",this.store.name);const u=this.options(r,i);u.qt=!1;const c=this.cursor(u);return this.Bt(c,(f,_,b)=>b.delete())}Kt(r,i){let u;i?u=r:(u={},i=r);const c=this.cursor(u);return this.Bt(c,i)}jt(r){const i=this.cursor({});return new Ce((u,c)=>{i.onerror=f=>{const _=YE(f.target.error);c(_)},i.onsuccess=f=>{const _=f.target.result;_?r(_.primaryKey,_.value).next(b=>{b?_.continue():u()}):u()}})}Bt(r,i){const u=[];return new Ce((c,f)=>{r.onerror=_=>{f(_.target.error)},r.onsuccess=_=>{const b=_.target.result;if(!b)return void c();const T=new fS(b),N=i(b.primaryKey,b.value,T);if(N instanceof Ce){const M=N.catch(k=>(T.done(),Ce.reject(k)));u.push(M)}T.isDone?c():null===T.Ft?b.continue():b.continue(T.Ft)}}).next(()=>Ce.waitFor(u))}options(r,i){let u;return void 0!==r&&("string"==typeof r?u=r:i=r),{index:u,range:i}}cursor(r){let i="next";if(r.reverse&&(i="prev"),r.index){const u=this.store.index(r.index);return r.qt?u.openKeyCursor(r.range,i):u.openCursor(r.range,i)}return this.store.openCursor(r.range,i)}}function Il(s){return new Ce((r,i)=>{s.onsuccess=u=>{r(u.target.result)},s.onerror=u=>{const c=YE(u.target.error);i(c)}})}let wd=!1;function YE(s){const r=ps.Rt((0,Pt.z$)());if(r>=12.2&&r<13){const i="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(i)>=0){const u=new De("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return wd||(wd=!0,setTimeout(()=>{throw u},0)),u}}return s}class mI extends Vm{constructor(r,i){super(),this.Qt=r,this.currentSequenceNumber=i}}function Zr(s,r){const i=ke(s);return ps.St(i.Qt,r)}class Dl{constructor(r,i,u,c){this.batchId=r,this.localWriteTime=i,this.baseMutations=u,this.mutations=c}applyToRemoteDocument(r,i){const u=i.mutationResults;for(let c=0;c<this.mutations.length;c++){const f=this.mutations[c];f.key.isEqual(r.key)&&eS(f,r,u[c])}}applyToLocalView(r){for(const i of this.baseMutations)i.key.isEqual(r.key)&&UE(i,r,this.localWriteTime);for(const i of this.mutations)i.key.isEqual(r.key)&&UE(i,r,this.localWriteTime)}applyToLocalDocumentSet(r){this.mutations.forEach(i=>{const u=r.get(i.key),c=u;this.applyToLocalView(c),u.isValidDocument()||c.convertToNoDocument(ht.min())})}keys(){return this.mutations.reduce((r,i)=>r.add(i.key),Mt())}isEqual(r){return this.batchId===r.batchId&&cd(this.mutations,r.mutations,(i,u)=>nI(i,u))&&cd(this.baseMutations,r.baseMutations,(i,u)=>nI(i,u))}}class yI{constructor(r,i,u,c){this.batch=r,this.commitVersion=i,this.mutationResults=u,this.docVersions=c}static from(r,i,u){Je(r.mutations.length===u.length);let c=cI();const f=r.mutations;for(let _=0;_<f.length;_++)c=c.insert(f[_].key,u[_].version);return new yI(r,i,u,c)}}class zo{constructor(r,i,u,c,f=ht.min(),_=ht.min(),b=kn.EMPTY_BYTE_STRING){this.target=r,this.targetId=i,this.purpose=u,this.sequenceNumber=c,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=b}withSequenceNumber(r){return new zo(this.target,this.targetId,this.purpose,r,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(r,i){return new zo(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,r)}withLastLimboFreeSnapshotVersion(r){return new zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,r,this.resumeToken)}}class _I{constructor(r){this.Wt=r}}function QE(s,r){if(r.document)return fI(s.Wt,r.document,!!r.hasCommittedMutations);if(r.noDocument){const i=$e.fromSegments(r.noDocument.path),u=Cd(r.noDocument.readTime),c=nn.newNoDocument(i,u);return r.hasCommittedMutations?c.setHasCommittedMutations():c}if(r.unknownDocument){const i=$e.fromSegments(r.unknownDocument.path),u=Cd(r.unknownDocument.version);return nn.newUnknownDocument(i,u)}return Ze()}function vI(s,r,i){const u=JE(i),c=r.key.path.popLast().toArray();if(r.isFoundDocument()){const f={name:qr(b=s.Wt,(T=r).key),fields:T.data.value.mapValue.fields,updateTime:yd(b,T.version.toTimestamp())};return new dn(null,null,f,r.hasCommittedMutations,u,c)}var b,T;if(r.isNoDocument()){const f=r.key.path.toArray(),_=Tl(r.version),b=r.hasCommittedMutations;return new dn(null,new cS(f,_),null,b,u,c)}if(r.isUnknownDocument()){const f=r.key.path.toArray(),_=Tl(r.version);return new dn(new dS(f,_),null,null,!0,u,c)}return Ze()}function JE(s){const r=s.toTimestamp();return[r.seconds,r.nanoseconds]}function EI(s){const r=new Bn(s[0],s[1]);return ht.fromTimestamp(r)}function Tl(s){const r=s.toTimestamp();return new lS(r.seconds,r.nanoseconds)}function Cd(s){const r=new Bn(s.seconds,s.nanoseconds);return ht.fromTimestamp(r)}function bd(s,r){const i=(r.baseMutations||[]).map(f=>km(s.Wt,f));for(let f=0;f<r.mutations.length-1;++f){const _=r.mutations[f];f+1<r.mutations.length&&void 0!==r.mutations[f+1].transform&&(_.updateTransforms=r.mutations[f+1].transform.fieldTransforms,r.mutations.splice(f+1,1),++f)}const u=r.mutations.map(f=>km(s.Wt,f)),c=Bn.fromMillis(r.localWriteTimeMs);return new Dl(r.batchId,c,i,u)}function Um(s){const r=Cd(s.readTime),i=void 0!==s.lastLimboFreeSnapshotVersion?Cd(s.lastLimboFreeSnapshotVersion):ht.min();let u;var c;return void 0!==s.query.documents?(Je(1===(c=s.query).documents.length),u=li(Ho($E(c.documents[0])))):u=li(El(s.query)),new zo(u,s.targetId,0,s.lastListenSequenceNumber,r,i,kn.fromBase64String(s.resumeToken))}function gS(s,r){const i=Tl(r.snapshotVersion),u=Tl(r.lastLimboFreeSnapshotVersion);let c;c=Tf(r.target)?Fm(s.Wt,r.target):GE(s.Wt,r.target);const f=r.resumeToken.toBase64();return new di(r.targetId,Df(r.target),i,f,r.sequenceNumber,u,c)}function wI(s){const r=El({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?ME(r,r.limit,"L"):r}class XE{getBundleMetadata(r,i){return CI(r).get(i).next(u=>{if(u)return{id:(c=u).bundleId,createTime:Cd(c.createTime),version:c.version};var c})}saveBundleMetadata(r,i){return CI(r).put({bundleId:(u=i).id,createTime:Tl(Yn(u.createTime)),version:u.version});var u}getNamedQuery(r,i){return bI(r).get(i).next(u=>{if(u)return{name:(c=u).name,query:wI(c.bundledQuery),readTime:Cd(c.readTime)};var c})}saveNamedQuery(r,i){return bI(r).put({name:(u=i).name,readTime:Tl(Yn(u.readTime)),bundledQuery:u.bundledQuery});var u}}function CI(s){return Zr(s,qa.store)}function bI(s){return Zr(s,Ed.store)}class mS{constructor(){this.Gt=new e0}addToCollectionParentIndex(r,i){return this.Gt.add(i),Ce.resolve()}getCollectionParents(r,i){return Ce.resolve(this.Gt.getEntries(i))}}class e0{constructor(){this.index={}}add(r){const i=r.lastSegment(),u=r.popLast(),c=this.index[i]||new yn(Rt.comparator),f=!c.has(u);return this.index[i]=c.add(u),f}has(r){const i=r.lastSegment(),u=r.popLast(),c=this.index[i];return c&&c.has(u)}getEntries(r){return(this.index[r]||new yn(Rt.comparator)).toArray()}}class yS{constructor(){this.zt=new e0}addToCollectionParentIndex(r,i){if(!this.zt.has(i)){const u=i.lastSegment(),c=i.popLast();r.addOnCommittedListener(()=>{this.zt.add(i)});const f={collectionId:u,parent:so(c)};return II(r).put(f)}return Ce.resolve()}getCollectionParents(r,i){const u=[],c=IDBKeyRange.bound([i,""],[Lb(i),""],!1,!0);return II(r).Lt(c).next(f=>{for(const _ of f){if(_.collectionId!==i)break;u.push(Zo(_.parent))}return u})}}function II(s){return Zr(s,Cl.store)}const t0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Nr{constructor(r,i,u){this.cacheSizeCollectionThreshold=r,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=u}static withCacheSize(r){return new Nr(r,Nr.DEFAULT_COLLECTION_PERCENTILE,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function DI(s,r,i){const u=s.store(rn.store),c=s.store(kt.store),f=[],_=IDBKeyRange.only(i.batchId);let b=0;const T=u.Kt({range:_},(M,k,W)=>(b++,W.delete()));f.push(T.next(()=>{Je(1===b)}));const N=[];for(const M of i.mutations){const k=kt.key(r,M.key.path,i.batchId);f.push(c.delete(k)),N.push(M.key)}return Ce.waitFor(f).next(()=>N)}function Ko(s){if(!s)return 0;let r;if(s.document)r=s.document;else if(s.unknownDocument)r=s.unknownDocument;else{if(!s.noDocument)throw Ze();r=s.noDocument}return JSON.stringify(r).length}Nr.DEFAULT_COLLECTION_PERCENTILE=10,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nr.DEFAULT=new Nr(41943040,Nr.DEFAULT_COLLECTION_PERCENTILE,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nr.DISABLED=new Nr(-1,0,0);class Qn{constructor(r,i,u,c){this.userId=r,this.N=i,this.Ht=u,this.referenceDelegate=c,this.Jt={}}static Yt(r,i,u,c){Je(""!==r.uid);const f=r.isAuthenticated()?r.uid:"";return new Qn(f,i,u,c)}checkEmpty(r){let i=!0;const u=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jn(r).Kt({index:rn.userMutationsIndex,range:u},(c,f,_)=>{i=!1,_.done()}).next(()=>i)}addMutationBatch(r,i,u,c){const f=Za(r),_=Jn(r);return _.add({}).next(b=>{Je("number"==typeof b);const T=new Dl(b,i,u,c),N=function(W,K,_e){const Oe=_e.baseMutations.map(yt=>Mf(W.Wt,yt)),Le=_e.mutations.map(yt=>Mf(W.Wt,yt));return new rn(K,_e.batchId,_e.localWriteTime.toMillis(),Oe,Le)}(this.N,this.userId,T),M=[];let k=new yn((W,K)=>wt(W.canonicalString(),K.canonicalString()));for(const W of c){const K=kt.key(this.userId,W.key.path,b);k=k.add(W.key.path.popLast()),M.push(_.put(N)),M.push(f.put(K,kt.PLACEHOLDER))}return k.forEach(W=>{M.push(this.Ht.addToCollectionParentIndex(r,W))}),r.addOnCommittedListener(()=>{this.Jt[b]=T.keys()}),Ce.waitFor(M).next(()=>T)})}lookupMutationBatch(r,i){return Jn(r).get(i).next(u=>u?(Je(u.userId===this.userId),bd(this.N,u)):null)}Xt(r,i){return this.Jt[i]?Ce.resolve(this.Jt[i]):this.lookupMutationBatch(r,i).next(u=>{if(u){const c=u.keys();return this.Jt[i]=c,c}return null})}getNextMutationBatchAfterBatchId(r,i){const u=i+1,c=IDBKeyRange.lowerBound([this.userId,u]);let f=null;return Jn(r).Kt({index:rn.userMutationsIndex,range:c},(_,b,T)=>{b.userId===this.userId&&(Je(b.batchId>=u),f=bd(this.N,b)),T.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(r){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let u=-1;return Jn(r).Kt({index:rn.userMutationsIndex,range:i,reverse:!0},(c,f,_)=>{u=f.batchId,_.done()}).next(()=>u)}getAllMutationBatches(r){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jn(r).Lt(rn.userMutationsIndex,i).next(u=>u.map(c=>bd(this.N,c)))}getAllMutationBatchesAffectingDocumentKey(r,i){const u=kt.prefixForPath(this.userId,i.path),c=IDBKeyRange.lowerBound(u),f=[];return Za(r).Kt({range:c},(_,b,T)=>{const[N,M,k]=_,W=Zo(M);if(N===this.userId&&i.path.isEqual(W))return Jn(r).get(k).next(K=>{if(!K)throw Ze();Je(K.userId===this.userId),f.push(bd(this.N,K))});T.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(r,i){let u=new yn(wt);const c=[];return i.forEach(f=>{const _=kt.prefixForPath(this.userId,f.path),b=IDBKeyRange.lowerBound(_),T=Za(r).Kt({range:b},(N,M,k)=>{const[W,K,_e]=N,Oe=Zo(K);W===this.userId&&f.path.isEqual(Oe)?u=u.add(_e):k.done()});c.push(T)}),Ce.waitFor(c).next(()=>this.Zt(r,u))}getAllMutationBatchesAffectingQuery(r,i){const u=i.path,c=u.length+1,f=kt.prefixForPath(this.userId,u),_=IDBKeyRange.lowerBound(f);let b=new yn(wt);return Za(r).Kt({range:_},(T,N,M)=>{const[k,W,K]=T,_e=Zo(W);k===this.userId&&u.isPrefixOf(_e)?_e.length===c&&(b=b.add(K)):M.done()}).next(()=>this.Zt(r,b))}Zt(r,i){const u=[],c=[];return i.forEach(f=>{c.push(Jn(r).get(f).next(_=>{if(null===_)throw Ze();Je(_.userId===this.userId),u.push(bd(this.N,_))}))}),Ce.waitFor(c).next(()=>u)}removeMutationBatch(r,i){return DI(r.Qt,this.userId,i).next(u=>(r.addOnCommittedListener(()=>{this.te(i.batchId)}),Ce.forEach(u,c=>this.referenceDelegate.markPotentiallyOrphaned(r,c))))}te(r){delete this.Jt[r]}performConsistencyCheck(r){return this.checkEmpty(r).next(i=>{if(!i)return Ce.resolve();const u=IDBKeyRange.lowerBound(kt.prefixForUser(this.userId)),c=[];return Za(r).Kt({range:u},(f,_,b)=>{if(f[0]===this.userId){const T=Zo(f[1]);c.push(T)}else b.done()}).next(()=>{Je(0===c.length)})})}containsKey(r,i){return n0(r,this.userId,i)}ee(r){return TI(r).get(this.userId).next(i=>i||new wl(this.userId,-1,""))}}function n0(s,r,i){const u=kt.prefixForPath(r,i.path),c=u[1],f=IDBKeyRange.lowerBound(u);let _=!1;return Za(s).Kt({range:f,qt:!0},(b,T,N)=>{const[M,k,W]=b;M===r&&k===c&&(_=!0),N.done()}).next(()=>_)}function Jn(s){return Zr(s,rn.store)}function Za(s){return Zr(s,kt.store)}function TI(s){return Zr(s,wl.store)}class Wa{constructor(r){this.ne=r}next(){return this.ne+=2,this.ne}static se(){return new Wa(0)}static ie(){return new Wa(-1)}}class AI{constructor(r,i){this.referenceDelegate=r,this.N=i}allocateTargetId(r){return this.re(r).next(i=>{const u=new Wa(i.highestTargetId);return i.highestTargetId=u.next(),this.oe(r,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(r){return this.re(r).next(i=>ht.fromTimestamp(new Bn(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(r){return this.re(r).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(r,i,u){return this.re(r).next(c=>(c.highestListenSequenceNumber=i,u&&(c.lastRemoteSnapshotVersion=u.toTimestamp()),i>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=i),this.oe(r,c)))}addTargetData(r,i){return this.ae(r,i).next(()=>this.re(r).next(u=>(u.targetCount+=1,this.ce(i,u),this.oe(r,u))))}updateTargetData(r,i){return this.ae(r,i)}removeTargetData(r,i){return this.removeMatchingKeysForTargetId(r,i.targetId).next(()=>Al(r).delete(i.targetId)).next(()=>this.re(r)).next(u=>(Je(u.targetCount>0),u.targetCount-=1,this.oe(r,u)))}removeTargets(r,i,u){let c=0;const f=[];return Al(r).Kt((_,b)=>{const T=Um(b);T.sequenceNumber<=i&&null===u.get(T.targetId)&&(c++,f.push(this.removeTargetData(r,T)))}).next(()=>Ce.waitFor(f)).next(()=>c)}forEachTarget(r,i){return Al(r).Kt((u,c)=>{const f=Um(c);i(f)})}re(r){return SI(r).get(bi.key).next(i=>(Je(null!==i),i))}oe(r,i){return SI(r).put(bi.key,i)}ae(r,i){return Al(r).put(gS(this.N,i))}ce(r,i){let u=!1;return r.targetId>i.highestTargetId&&(i.highestTargetId=r.targetId,u=!0),r.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r.sequenceNumber,u=!0),u}getTargetCount(r){return this.re(r).next(i=>i.targetCount)}getTargetData(r,i){const u=Df(i),c=IDBKeyRange.bound([u,Number.NEGATIVE_INFINITY],[u,Number.POSITIVE_INFINITY]);let f=null;return Al(r).Kt({range:c,index:di.queryTargetsIndexName},(_,b,T)=>{const N=Um(b);bm(i,N.target)&&(f=N,T.done())}).next(()=>f)}addMatchingKeys(r,i,u){const c=[],f=za(r);return i.forEach(_=>{const b=so(_.path);c.push(f.put(new fr(u,b))),c.push(this.referenceDelegate.addReference(r,u,_))}),Ce.waitFor(c)}removeMatchingKeys(r,i,u){const c=za(r);return Ce.forEach(i,f=>{const _=so(f.path);return Ce.waitFor([c.delete([u,_]),this.referenceDelegate.removeReference(r,u,f)])})}removeMatchingKeysForTargetId(r,i){const u=za(r),c=IDBKeyRange.bound([i],[i+1],!1,!0);return u.delete(c)}getMatchingKeysForTargetId(r,i){const u=IDBKeyRange.bound([i],[i+1],!1,!0),c=za(r);let f=Mt();return c.Kt({range:u,qt:!0},(_,b,T)=>{const N=Zo(_[1]),M=new $e(N);f=f.add(M)}).next(()=>f)}containsKey(r,i){const u=so(i.path),c=IDBKeyRange.bound([u],[Lb(u)],!1,!0);let f=0;return za(r).Kt({index:fr.documentTargetsIndex,qt:!0,range:c},([_,b],T,N)=>{0!==_&&(f++,N.done())}).next(()=>f>0)}Et(r,i){return Al(r).get(i).next(u=>u?Um(u):null)}}function Al(s){return Zr(s,di.store)}function SI(s){return Zr(s,bi.store)}function za(s){return Zr(s,fr.store)}function Sl(s){return Bm.apply(this,arguments)}function Bm(){return(Bm=(0,me.Z)(function*(s){if(s.code!==de.FAILED_PRECONDITION||s.message!==zE)throw s;Re("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function xI([s,r],[i,u]){const c=wt(s,i);return 0===c?wt(r,u):c}class mN{constructor(r){this.ue=r,this.buffer=new yn(xI),this.he=0}le(){return++this.he}fe(r){const i=[r,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(i);else{const u=this.buffer.last();xI(i,u)<0&&(this.buffer=this.buffer.delete(u).add(i))}}get maxValue(){return this.buffer.last()[0]}}class _S{constructor(r,i){this.garbageCollector=r,this.asyncQueue=i,this.de=!1,this.we=null}start(r){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(r)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(r){var i=this;const u=this.de?3e5:6e4;Re("LruGarbageCollector",`Garbage collection scheduled in ${u}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",u,(0,me.Z)(function*(){i.we=null,i.de=!0;try{yield r.collectGarbage(i.garbageCollector)}catch(c){bl(c)?Re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield Sl(c)}yield i._e(r)}))}}class vS{constructor(r,i){this.me=r,this.params=i}calculateTargetCount(r,i){return this.me.ge(r).next(u=>Math.floor(i/100*u))}nthSequenceNumber(r,i){if(0===i)return Ce.resolve(dr.T);const u=new mN(i);return this.me.forEachTarget(r,c=>u.fe(c.sequenceNumber)).next(()=>this.me.ye(r,c=>u.fe(c))).next(()=>u.maxValue)}removeTargets(r,i,u){return this.me.removeTargets(r,i,u)}removeOrphanedDocuments(r,i){return this.me.removeOrphanedDocuments(r,i)}collect(r,i){return-1===this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(t0)):this.getCacheSize(r).next(u=>u<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${u} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t0):this.pe(r,i))}getCacheSize(r){return this.me.getCacheSize(r)}pe(r,i){let u,c,f,_,b,T,N;const M=Date.now();return this.calculateTargetCount(r,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),c=this.params.maximumSequenceNumbersToCollect):c=k,_=Date.now(),this.nthSequenceNumber(r,c))).next(k=>(u=k,b=Date.now(),this.removeTargets(r,u,i))).next(k=>(f=k,T=Date.now(),this.removeOrphanedDocuments(r,u))).next(k=>(N=Date.now(),wE()<=Ju.in.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${_-M}ms\n\tDetermined least recently used ${c} in `+(b-_)+`ms\n\tRemoved ${f} targets in `+(T-b)+`ms\n\tRemoved ${k} documents in `+(N-T)+`ms\nTotal Duration: ${N-M}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:f,documentsRemoved:k})))}}class Id{constructor(r,i){this.db=r,this.garbageCollector=new vS(this,i)}ge(r){const i=this.Ee(r);return this.db.getTargetCache().getTargetCount(r).next(u=>i.next(c=>u+c))}Ee(r){let i=0;return this.ye(r,u=>{i++}).next(()=>i)}forEachTarget(r,i){return this.db.getTargetCache().forEachTarget(r,i)}ye(r,i){return this.Te(r,(u,c)=>i(c))}addReference(r,i,u){return r0(r,u)}removeReference(r,i,u){return r0(r,u)}removeTargets(r,i,u){return this.db.getTargetCache().removeTargets(r,i,u)}markPotentiallyOrphaned(r,i){return r0(r,i)}Ie(r,i){return function(u,c){let f=!1;return TI(u).jt(_=>n0(u,_,c).next(b=>(b&&(f=!0),Ce.resolve(!b)))).next(()=>f)}(r,i)}removeOrphanedDocuments(r,i){const u=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let f=0;return this.Te(r,(_,b)=>{if(b<=i){const T=this.Ie(r,_).next(N=>{if(!N)return f++,u.getEntry(r,_).next(()=>(u.removeEntry(_),za(r).delete([0,so(_.path)])))});c.push(T)}}).next(()=>Ce.waitFor(c)).next(()=>u.apply(r)).next(()=>f)}removeTarget(r,i){const u=i.withSequenceNumber(r.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(r,u)}updateLimboDocument(r,i){return r0(r,i)}Te(r,i){const u=za(r);let c,f=dr.T;return u.Kt({index:fr.documentTargetsIndex},([_,b],{path:T,sequenceNumber:N})=>{0===_?(f!==dr.T&&i(new $e(Zo(c)),f),f=N,c=T):f=dr.T}).next(()=>{f!==dr.T&&i(new $e(Zo(c)),f)})}getCacheSize(r){return this.db.getRemoteDocumentCache().getSize(r)}}function r0(s,r){return za(s).put((u=s.currentSequenceNumber,new fr(0,so(r.path),u)));var u}class xl{constructor(r,i){this.mapKeyFn=r,this.equalsFn=i,this.inner={}}get(r){const i=this.mapKeyFn(r),u=this.inner[i];if(void 0!==u)for(const[c,f]of u)if(this.equalsFn(c,r))return f}has(r){return void 0!==this.get(r)}set(r,i){const u=this.mapKeyFn(r),c=this.inner[u];if(void 0!==c){for(let f=0;f<c.length;f++)if(this.equalsFn(c[f][0],r))return void(c[f]=[r,i]);c.push([r,i])}else this.inner[u]=[[r,i]]}delete(r){const i=this.mapKeyFn(r),u=this.inner[i];if(void 0===u)return!1;for(let c=0;c<u.length;c++)if(this.equalsFn(u[c][0],r))return 1===u.length?delete this.inner[i]:u.splice(c,1),!0;return!1}forEach(r){ji(this.inner,(i,u)=>{for(const[c,f]of u)r(c,f)})}isEmpty(){return Ub(this.inner)}}class NI{constructor(){this.changes=new xl(r=>r.toString(),(r,i)=>r.isEqual(i)),this.changesApplied=!1}getReadTime(r){const i=this.changes.get(r);return i?i.readTime:ht.min()}addEntry(r,i){this.assertNotApplied(),this.changes.set(r.key,{document:r,readTime:i})}removeEntry(r,i=null){this.assertNotApplied(),this.changes.set(r,{document:nn.newInvalidDocument(r),readTime:i})}getEntry(r,i){this.assertNotApplied();const u=this.changes.get(i);return void 0!==u?Ce.resolve(u.document):this.getFromCache(r,i)}getEntries(r,i){return this.getAllFromCache(r,i)}apply(r){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(r)}assertNotApplied(){}}class yN{constructor(r,i){this.N=r,this.Ht=i}addEntry(r,i,u){return ao(r).put(jm(i),u)}removeEntry(r,i){const u=ao(r),c=jm(i);return u.delete(c)}updateMetadata(r,i){return this.getMetadata(r).next(u=>(u.byteSize+=i,this.Ae(r,u)))}getEntry(r,i){return ao(r).get(jm(i)).next(u=>this.Re(i,u))}Pe(r,i){return ao(r).get(jm(i)).next(u=>({document:this.Re(i,u),size:Ko(u)}))}getEntries(r,i){let u=wi();return this.be(r,i,(c,f)=>{const _=this.Re(c,f);u=u.insert(c,_)}).next(()=>u)}ve(r,i){let u=wi(),c=new jn($e.comparator);return this.be(r,i,(f,_)=>{const b=this.Re(f,_);u=u.insert(f,b),c=c.insert(f,Ko(_))}).next(()=>({documents:u,Ve:c}))}be(r,i,u){if(i.isEmpty())return Ce.resolve();const c=IDBKeyRange.bound(i.first().path.toArray(),i.last().path.toArray()),f=i.getIterator();let _=f.getNext();return ao(r).Kt({range:c},(b,T,N)=>{const M=$e.fromSegments(b);for(;_&&$e.comparator(_,M)<0;)u(_,null),_=f.getNext();_&&_.isEqual(M)&&(u(_,T),_=f.hasNext()?f.getNext():null),_?N.Mt(_.path.toArray()):N.done()}).next(()=>{for(;_;)u(_,null),_=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(r,i,u){let c=wi();const f=i.path.length+1,_={};if(u.isEqual(ht.min())){const b=i.path.toArray();_.range=IDBKeyRange.lowerBound(b)}else{const b=i.path.toArray(),T=JE(u);_.range=IDBKeyRange.lowerBound([b,T],!0),_.index=dn.collectionReadTimeIndex}return ao(r).Kt(_,(b,T,N)=>{if(b.length!==f)return;const M=QE(this.N,T);i.path.isPrefixOf(M.key.path)?Am(i,M)&&(c=c.insert(M.key,M)):N.done()}).next(()=>c)}newChangeBuffer(r){return new RI(this,!!r&&r.trackRemovals)}getSize(r){return this.getMetadata(r).next(i=>i.byteSize)}getMetadata(r){return MI(r).get(oo.key).next(i=>(Je(!!i),i))}Ae(r,i){return MI(r).put(oo.key,i)}Re(r,i){if(i){const u=QE(this.N,i);if(!u.isNoDocument()||!u.version.isEqual(ht.min()))return u}return nn.newInvalidDocument(r)}}class RI extends NI{constructor(r,i){super(),this.Se=r,this.trackRemovals=i,this.De=new xl(u=>u.toString(),(u,c)=>u.isEqual(c))}applyChanges(r){const i=[];let u=0,c=new yn((f,_)=>wt(f.canonicalString(),_.canonicalString()));return this.changes.forEach((f,_)=>{const b=this.De.get(f);if(_.document.isValidDocument()){const T=vI(this.Se.N,_.document,this.getReadTime(f));c=c.add(f.path.popLast()),u+=Ko(T)-b,i.push(this.Se.addEntry(r,f,T))}else if(u-=b,this.trackRemovals){const T=vI(this.Se.N,nn.newNoDocument(f,ht.min()),this.getReadTime(f));i.push(this.Se.addEntry(r,f,T))}else i.push(this.Se.removeEntry(r,f))}),c.forEach(f=>{i.push(this.Se.Ht.addToCollectionParentIndex(r,f))}),i.push(this.Se.updateMetadata(r,u)),Ce.waitFor(i)}getFromCache(r,i){return this.Se.Pe(r,i).next(u=>(this.De.set(i,u.size),u.document))}getAllFromCache(r,i){return this.Se.ve(r,i).next(({documents:u,Ve:c})=>(c.forEach((f,_)=>{this.De.set(f,_)}),u))}}function MI(s){return Zr(s,oo.store)}function ao(s){return Zr(s,dn.store)}function jm(s){return s.path.toArray()}class ES{constructor(r){this.N=r}Ct(r,i,u,c){Je(u<c&&u>=0&&c<=11);const f=new KE("createOrUpgrade",i);var b;u<1&&c>=1&&(r.createObjectStore($i.store),(b=r).createObjectStore(wl.store,{keyPath:wl.keyPath}),b.createObjectStore(rn.store,{keyPath:rn.keyPath,autoIncrement:!0}).createIndex(rn.userMutationsIndex,rn.userMutationsKeyPath,{unique:!0}),b.createObjectStore(kt.store),OI(r),function(b){b.createObjectStore(dn.store)}(r));let _=Ce.resolve();return u<3&&c>=3&&(0!==u&&(function(b){b.deleteObjectStore(fr.store),b.deleteObjectStore(di.store),b.deleteObjectStore(bi.store)}(r),OI(r)),_=_.next(()=>function(b){const T=b.store(bi.store),N=new bi(0,0,ht.min().toTimestamp(),0);return T.put(bi.key,N)}(f))),u<4&&c>=4&&(0!==u&&(_=_.next(()=>function(b,T){return T.store(rn.store).Lt().next(N=>{b.deleteObjectStore(rn.store),b.createObjectStore(rn.store,{keyPath:rn.keyPath,autoIncrement:!0}).createIndex(rn.userMutationsIndex,rn.userMutationsKeyPath,{unique:!0});const M=T.store(rn.store),k=N.map(W=>M.put(W));return Ce.waitFor(k)})}(r,f))),_=_.next(()=>{!function(b){b.createObjectStore(Wo.store,{keyPath:Wo.keyPath})}(r)})),u<5&&c>=5&&(_=_.next(()=>this.Ce(f))),u<6&&c>=6&&(_=_.next(()=>(function(b){b.createObjectStore(oo.store)}(r),this.Ne(f)))),u<7&&c>=7&&(_=_.next(()=>this.xe(f))),u<8&&c>=8&&(_=_.next(()=>this.ke(r,f))),u<9&&c>=9&&(_=_.next(()=>{(function(b){b.objectStoreNames.contains("remoteDocumentChanges")&&b.deleteObjectStore("remoteDocumentChanges")})(r),function(b){const T=b.objectStore(dn.store);T.createIndex(dn.readTimeIndex,dn.readTimeIndexPath,{unique:!1}),T.createIndex(dn.collectionReadTimeIndex,dn.collectionReadTimeIndexPath,{unique:!1})}(i)})),u<10&&c>=10&&(_=_.next(()=>this.$e(f))),u<11&&c>=11&&(_=_.next(()=>{(function(b){b.createObjectStore(qa.store,{keyPath:qa.keyPath})})(r),function(b){b.createObjectStore(Ed.store,{keyPath:Ed.keyPath})}(r)})),_}Ne(r){let i=0;return r.store(dn.store).Kt((u,c)=>{i+=Ko(c)}).next(()=>{const u=new oo(i);return r.store(oo.store).put(oo.key,u)})}Ce(r){const i=r.store(wl.store),u=r.store(rn.store);return i.Lt().next(c=>Ce.forEach(c,f=>{const _=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return u.Lt(rn.userMutationsIndex,_).next(b=>Ce.forEach(b,T=>{Je(T.userId===f.userId);const N=bd(this.N,T);return DI(r,f.userId,N).next(()=>{})}))}))}xe(r){const i=r.store(fr.store),u=r.store(dn.store);return r.store(bi.store).get(bi.key).next(c=>{const f=[];return u.Kt((_,b)=>{const T=new Rt(_),N=[0,so(T)];f.push(i.get(N).next(M=>M?Ce.resolve():i.put(new fr(0,so(T),c.highestListenSequenceNumber))))}).next(()=>Ce.waitFor(f))})}ke(r,i){r.createObjectStore(Cl.store,{keyPath:Cl.keyPath});const u=i.store(Cl.store),c=new e0,f=_=>{if(c.add(_)){const b=_.lastSegment(),T=_.popLast();return u.put({collectionId:b,parent:so(T)})}};return i.store(dn.store).Kt({qt:!0},(_,b)=>{const T=new Rt(_);return f(T.popLast())}).next(()=>i.store(kt.store).Kt({qt:!0},([_,b,T],N)=>{const M=Zo(b);return f(M.popLast())}))}$e(r){const i=r.store(di.store);return i.Kt((u,c)=>{const f=Um(c),_=gS(this.N,f);return i.put(_)})}}function OI(s){s.createObjectStore(fr.store,{keyPath:fr.keyPath}).createIndex(fr.documentTargetsIndex,fr.documentTargetsKeyPath,{unique:!0}),s.createObjectStore(di.store,{keyPath:di.keyPath}).createIndex(di.queryTargetsIndexName,di.queryTargetsKeyPath,{unique:!0}),s.createObjectStore(bi.store)}const i0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class s0{constructor(r,i,u,c,f,_,b,T,N,M){if(this.allowTabSynchronization=r,this.persistenceKey=i,this.clientId=u,this.Oe=f,this.window=_,this.document=b,this.Fe=N,this.Me=M,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=k=>Promise.resolve(),!s0.Pt())throw new De(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Id(this,c),this.We=i+"main",this.N=new _I(T),this.Ge=new ps(this.We,11,new ES(this.N)),this.ze=new AI(this.referenceDelegate,this.N),this.Ht=new yS,this.He=new yN(this.N,this.Ht),this.Je=new XE,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===M&&Tn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new De(de.FAILED_PRECONDITION,i0);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",r=>this.ze.getHighestSequenceNumber(r))}).then(r=>{this.Le=new dr(r,this.Fe)}).then(()=>{this.Be=!0}).catch(r=>(this.Ge&&this.Ge.close(),Promise.reject(r)))}nn(r){var i=this;return this.Qe=function(){var u=(0,me.Z)(function*(c){if(i.started)return r(c)});return function(c){return u.apply(this,arguments)}}(),r(this.isPrimary)}setDatabaseDeletedListener(r){this.Ge.xt(function(){var i=(0,me.Z)(function*(u){null===u.newVersion&&(yield r())});return function(u){return i.apply(this,arguments)}}())}setNetworkEnabled(r){var i=this;this.networkEnabled!==r&&(this.networkEnabled=r,this.Oe.enqueueAndForget((0,me.Z)(function*(){i.started&&(yield i.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",r=>Hm(r).put(new Wo(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(r).next(i=>{i||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(r)).next(i=>this.isPrimary&&!i?this.on(r).next(()=>!1):!!i&&this.an(r).next(()=>!0))).catch(r=>{if(bl(r))return Re("IndexedDbPersistence","Failed to extend owner lease: ",r),this.isPrimary;if(!this.allowTabSynchronization)throw r;return Re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",r),!1}).then(r=>{this.isPrimary!==r&&this.Oe.enqueueRetryable(()=>this.Qe(r)),this.isPrimary=r})}sn(r){return Lf(r).get($i.key).next(i=>Ce.resolve(this.cn(i)))}un(r){return Hm(r).delete(this.clientId)}hn(){var r=this;return(0,me.Z)(function*(){if(r.isPrimary&&!r.ln(r.je,18e5)){r.je=Date.now();const i=yield r.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",u=>{const c=Zr(u,Wo.store);return c.Lt().next(f=>{const _=r.fn(f,18e5),b=f.filter(T=>-1===_.indexOf(T));return Ce.forEach(b,T=>c.delete(T.clientId)).next(()=>b)})}).catch(()=>[]);if(r.Ye)for(const u of i)r.Ye.removeItem(r.dn(u.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(r){return!!r&&r.ownerId===this.clientId}rn(r){return this.Me?Ce.resolve(!0):Lf(r).get($i.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)){if(this.cn(i)&&this.networkEnabled)return!0;if(!this.cn(i)){if(!i.allowTabSynchronization)throw new De(de.FAILED_PRECONDITION,i0);return!1}}return!(!this.networkEnabled||!this.inForeground)||Hm(r).Lt().next(u=>void 0===this.fn(u,5e3).find(c=>{if(this.clientId!==c.clientId){const _=!this.inForeground&&c.inForeground,b=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||_&&b)return!0}return!1}))}).next(i=>(this.isPrimary!==i&&Re("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var r=this;return(0,me.Z)(function*(){r.Be=!1,r._n(),r.Ke&&(r.Ke.cancel(),r.Ke=null),r.mn(),r.gn(),yield r.Ge.runTransaction("shutdown","readwrite",[$i.store,Wo.store],i=>{const u=new mI(i,dr.T);return r.on(u).next(()=>r.un(u))}),r.Ge.close(),r.yn()})()}fn(r,i){return r.filter(u=>this.ln(u.updateTimeMs,i)&&!this.wn(u.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",r=>Hm(r).Lt().next(i=>this.fn(i,18e5).map(u=>u.clientId)))}get started(){return this.Be}getMutationQueue(r){return Qn.Yt(r,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(r,i,u){let f;return Re("IndexedDbPersistence","Starting transaction:",r),this.Ge.runTransaction(r,"readonly"===i?"readonly":"readwrite",hS,_=>(f=new mI(_,this.Le?this.Le.next():dr.T),"readwrite-primary"===i?this.sn(f).next(b=>!!b||this.rn(f)).next(b=>{if(!b)throw Tn(`Failed to obtain primary lease for action '${r}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new De(de.FAILED_PRECONDITION,zE);return u(f)}).next(b=>this.an(f).next(()=>b)):this.En(f).next(()=>u(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}En(r){return Lf(r).get($i.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)&&!this.cn(i)&&!(this.Me||this.allowTabSynchronization&&i.allowTabSynchronization))throw new De(de.FAILED_PRECONDITION,i0)})}an(r){const i=new $i(this.clientId,this.allowTabSynchronization,Date.now());return Lf(r).put($i.key,i)}static Pt(){return ps.Pt()}on(r){const i=Lf(r);return i.get($i.key).next(u=>this.cn(u)?(Re("IndexedDbPersistence","Releasing primary lease."),i.delete($i.key)):Ce.resolve())}ln(r,i){const u=Date.now();return!(r<u-i||r>u&&(Tn(`Detected an update time that is in the future: ${r} > ${u}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var r;"function"==typeof(null===(r=this.window)||void 0===r?void 0:r.addEventListener)&&(this.Ue=()=>{this._n(),(0,Pt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(r){var i;try{const u=null!==(null===(i=this.Ye)||void 0===i?void 0:i.getItem(this.dn(r)));return Re("IndexedDbPersistence",`Client '${r}' ${u?"is":"is not"} zombied in LocalStorage`),u}catch(u){return Tn("IndexedDbPersistence","Failed to get zombied client id.",u),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(r){Tn("Failed to set zombie client id.",r)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(r){}}dn(r){return`firestore_zombie_${this.persistenceKey}_${r}`}}function Lf(s){return Zr(s,$i.store)}function Hm(s){return Zr(s,Wo.store)}function o0(s,r){let i=s.projectId;return s.isDefaultDatabase||(i+="."+s.database),"firestore/"+r+"/"+i+"/"}class wS{constructor(r,i){this.progress=r,this.Tn=i}}class PI{constructor(r,i,u){this.He=r,this.In=i,this.Ht=u}An(r,i){return this.In.getAllMutationBatchesAffectingDocumentKey(r,i).next(u=>this.Rn(r,i,u))}Rn(r,i,u){return this.He.getEntry(r,i).next(c=>{for(const f of u)f.applyToLocalView(c);return c})}Pn(r,i){r.forEach((u,c)=>{for(const f of i)f.applyToLocalView(c)})}bn(r,i){return this.He.getEntries(r,i).next(u=>this.vn(r,u).next(()=>u))}vn(r,i){return this.In.getAllMutationBatchesAffectingDocumentKeys(r,i).next(u=>this.Pn(i,u))}getDocumentsMatchingQuery(r,i,u){return $e.isDocumentKey((c=i).path)&&null===c.collectionGroup&&0===c.filters.length?this.Vn(r,i.path):RE(i)?this.Sn(r,i,u):this.Dn(r,i,u);var c}Vn(r,i){return this.An(r,new $e(i)).next(u=>{let c=BE();return u.isFoundDocument()&&(c=c.insert(u.key,u)),c})}Sn(r,i,u){const c=i.collectionGroup;let f=BE();return this.Ht.getCollectionParents(r,c).next(_=>Ce.forEach(_,b=>{const T=(N=i,M=b.child(c),new no(M,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt));var N,M;return this.Dn(r,T,u).next(N=>{N.forEach((M,k)=>{f=f.insert(M,k)})})}).next(()=>f))}Dn(r,i,u){let c,f;return this.He.getDocumentsMatchingQuery(r,i,u).next(_=>(c=_,this.In.getAllMutationBatchesAffectingQuery(r,i))).next(_=>(f=_,this.Cn(r,f,c).next(b=>{c=b;for(const T of f)for(const N of T.mutations){const M=N.key;let k=c.get(M);null==k&&(k=nn.newInvalidDocument(M),c=c.insert(M,k)),UE(N,k,T.localWriteTime),k.isFoundDocument()||(c=c.remove(M))}}))).next(()=>(c.forEach((_,b)=>{Am(i,b)||(c=c.remove(_))}),c))}Cn(r,i,u){let c=Mt();for(const _ of i)for(const b of _.mutations)b instanceof Hi&&null===u.get(b.key)&&(c=c.add(b.key));let f=u;return this.He.getEntries(r,c).next(_=>(_.forEach((b,T)=>{T.isFoundDocument()&&(f=f.insert(b,T))}),f))}}class Nl{constructor(r,i,u,c){this.targetId=r,this.fromCache=i,this.Nn=u,this.xn=c}static kn(r,i){let u=Mt(),c=Mt();for(const f of i.docChanges)switch(f.type){case 0:u=u.add(f.doc.key);break;case 1:c=c.add(f.doc.key)}return new Nl(r,i.fromCache,u,c)}}class a0{$n(r){this.On=r}getDocumentsMatchingQuery(r,i,u,c){return 0===(f=i).filters.length&&null===f.limit&&null==f.startAt&&null==f.endAt&&(0===f.explicitOrderBy.length||1===f.explicitOrderBy.length&&f.explicitOrderBy[0].field.isKeyField())||u.isEqual(ht.min())?this.Fn(r,i):this.On.bn(r,c).next(f=>{const _=this.Mn(i,f);return(Dm(i)||Tm(i))&&this.Ln(i.limitType,_,c,u)?this.Fn(r,i):(wE()<=Ju.in.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),PE(i)),this.On.getDocumentsMatchingQuery(r,i,u).next(b=>(_.forEach(T=>{b=b.insert(T.key,T)}),b)))});var f}Mn(r,i){let u=new yn(Jb(r));return i.forEach((c,f)=>{Am(r,f)&&(u=u.add(f))}),u}Ln(r,i,u,c){if(u.size!==i.size)return!0;const f="F"===r?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(c)>0)}Fn(r,i){return wE()<=Ju.in.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",PE(i)),this.On.getDocumentsMatchingQuery(r,i,ht.min())}}class kI{constructor(r,i,u,c){this.persistence=r,this.Bn=i,this.N=c,this.Un=new jn(wt),this.qn=new xl(f=>Df(f),bm),this.Kn=ht.min(),this.In=r.getMutationQueue(u),this.jn=r.getRemoteDocumentCache(),this.ze=r.getTargetCache(),this.Qn=new PI(this.jn,this.In,this.persistence.getIndexManager()),this.Je=r.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(r){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>r.collect(i,this.Un))}}function u0(s,r,i,u){return new kI(s,r,i,u)}function l0(s,r){return $m.apply(this,arguments)}function $m(){return($m=(0,me.Z)(function*(s,r){const i=ke(s);let u=i.In,c=i.Qn;const f=yield i.persistence.runTransaction("Handle user change","readonly",_=>{let b;return i.In.getAllMutationBatches(_).next(T=>(b=T,u=i.persistence.getMutationQueue(r),c=new PI(i.jn,u,i.persistence.getIndexManager()),u.getAllMutationBatches(_))).next(T=>{const N=[],M=[];let k=Mt();for(const W of b){N.push(W.batchId);for(const K of W.mutations)k=k.add(K.key)}for(const W of T){M.push(W.batchId);for(const K of W.mutations)k=k.add(K.key)}return c.bn(_,k).next(W=>({Wn:W,removedBatchIds:N,addedBatchIds:M}))})});return i.In=u,i.Qn=c,i.Bn.$n(i.Qn),f})).apply(this,arguments)}function CS(s,r){const i=ke(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",u=>{const c=r.batch.keys(),f=i.jn.newChangeBuffer({trackRemovals:!0});return function(_,b,T,N){const M=T.batch,k=M.keys();let W=Ce.resolve();return k.forEach(K=>{W=W.next(()=>N.getEntry(b,K)).next(_e=>{const Oe=T.docVersions.get(K);Je(null!==Oe),_e.version.compareTo(Oe)<0&&(M.applyToRemoteDocument(_e,T),_e.isValidDocument()&&N.addEntry(_e,T.commitVersion))})}),W.next(()=>_.In.removeMutationBatch(b,M))}(i,u,r,f).next(()=>f.apply(u)).next(()=>i.In.performConsistencyCheck(u)).next(()=>i.Qn.bn(u,c))})}function FI(s){const r=ke(s);return r.persistence.runTransaction("Get last remote snapshot version","readonly",i=>r.ze.getLastRemoteSnapshotVersion(i))}function bS(s,r){const i=ke(s),u=r.snapshotVersion;let c=i.Un;return i.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const _=i.jn.newChangeBuffer({trackRemovals:!0});c=i.Un;const b=[];r.targetChanges.forEach((N,M)=>{const k=c.get(M);if(!k)return;b.push(i.ze.removeMatchingKeys(f,N.removedDocuments,M).next(()=>i.ze.addMatchingKeys(f,N.addedDocuments,M)));const W=N.resumeToken;if(W.approximateByteSize()>0){const K=k.withResumeToken(W,u).withSequenceNumber(f.currentSequenceNumber);c=c.insert(M,K),_e=k,Le=N,Je((Oe=K).resumeToken.approximateByteSize()>0),(0===_e.resumeToken.approximateByteSize()||Oe.snapshotVersion.toMicroseconds()-_e.snapshotVersion.toMicroseconds()>=3e8||Le.addedDocuments.size+Le.modifiedDocuments.size+Le.removedDocuments.size>0)&&b.push(i.ze.updateTargetData(f,K))}var _e,Oe,Le});let T=wi();if(r.documentUpdates.forEach((N,M)=>{r.resolvedLimboDocuments.has(N)&&b.push(i.persistence.referenceDelegate.updateLimboDocument(f,N))}),b.push(LI(f,_,r.documentUpdates,u,void 0).next(N=>{T=N})),!u.isEqual(ht.min())){const N=i.ze.getLastRemoteSnapshotVersion(f).next(M=>i.ze.setTargetsMetadata(f,f.currentSequenceNumber,u));b.push(N)}return Ce.waitFor(b).next(()=>_.apply(f)).next(()=>i.Qn.vn(f,T)).next(()=>T)}).then(f=>(i.Un=c,f))}function LI(s,r,i,u,c){let f=Mt();return i.forEach(_=>f=f.add(_)),r.getEntries(s,f).next(_=>{let b=wi();return i.forEach((T,N)=>{const M=_.get(T),k=(null==c?void 0:c.get(T))||u;N.isNoDocument()&&N.version.isEqual(ht.min())?(r.removeEntry(T,k),b=b.insert(T,N)):!M.isValidDocument()||N.version.compareTo(M.version)>0||0===N.version.compareTo(M.version)&&M.hasPendingWrites?(r.addEntry(N,k),b=b.insert(T,N)):Re("LocalStore","Ignoring outdated watch update for ",T,". Current version:",M.version," Watch version:",N.version)}),b})}function IS(s,r){const i=ke(s);return i.persistence.runTransaction("Get next mutation batch","readonly",u=>(void 0===r&&(r=-1),i.In.getNextMutationBatchAfterBatchId(u,r)))}function Dd(s,r){const i=ke(s);return i.persistence.runTransaction("Allocate target","readwrite",u=>{let c;return i.ze.getTargetData(u,r).next(f=>f?(c=f,Ce.resolve(c)):i.ze.allocateTargetId(u).next(_=>(c=new zo(r,_,0,u.currentSequenceNumber),i.ze.addTargetData(u,c).next(()=>c))))}).then(u=>{const c=i.Un.get(u.targetId);return(null===c||u.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(i.Un=i.Un.insert(u.targetId,u),i.qn.set(r,u.targetId)),u})}function Td(s,r,i){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,me.Z)(function*(s,r,i){const u=ke(s),c=u.Un.get(r),f=i?"readwrite":"readwrite-primary";try{i||(yield u.persistence.runTransaction("Release target",f,_=>u.persistence.referenceDelegate.removeTarget(_,c)))}catch(_){if(!bl(_))throw _;Re("LocalStore",`Failed to update sequence numbers for target ${r}: ${_}`)}u.Un=u.Un.remove(r),u.qn.delete(c.target)})).apply(this,arguments)}function Ka(s,r,i){const u=ke(s);let c=ht.min(),f=Mt();return u.persistence.runTransaction("Execute query","readonly",_=>function(b,T,N){const M=ke(b),k=M.qn.get(N);return void 0!==k?Ce.resolve(M.Un.get(k)):M.ze.getTargetData(T,N)}(u,_,li(r)).next(b=>{if(b)return c=b.lastLimboFreeSnapshotVersion,u.ze.getMatchingKeysForTargetId(_,b.targetId).next(T=>{f=T})}).next(()=>u.Bn.getDocumentsMatchingQuery(_,r,i?c:ht.min(),i?f:Mt())).next(b=>({documents:b,Gn:f})))}function VI(s,r){const i=ke(s),u=ke(i.ze),c=i.Un.get(r);return c?Promise.resolve(c.target):i.persistence.runTransaction("Get target data","readonly",f=>u.Et(f,r).next(_=>_?_.target:null))}function Gm(s){const r=ke(s);return r.persistence.runTransaction("Get new document changes","readonly",i=>function(u,c,f){const _=ke(u);let b=wi(),T=JE(f);const N=ao(c),M=IDBKeyRange.lowerBound(T,!0);return N.Kt({index:dn.readTimeIndex,range:M},(k,W)=>{const K=QE(_.N,W);b=b.insert(K.key,K),T=W.readTime}).next(()=>({Tn:b,readTime:EI(T)}))}(r.jn,i,r.Kn)).then(({Tn:i,readTime:u})=>(r.Kn=u,i))}function c0(){return(c0=(0,me.Z)(function*(s){const r=ke(s);return r.persistence.runTransaction("Synchronize last document change read time","readonly",i=>function(u){const c=ao(u);let f=ht.min();return c.Kt({index:dn.readTimeIndex,reverse:!0},(_,b,T)=>{b.readTime&&(f=EI(b.readTime)),T.done()}).next(()=>f)}(i)).then(i=>{r.Kn=i})})).apply(this,arguments)}function d0(){return(d0=(0,me.Z)(function*(s,r,i,u){const c=ke(s);let f=Mt(),_=wi(),b=cI();for(const M of i){const k=r.zn(M.metadata.name);M.document&&(f=f.add(k)),_=_.insert(k,r.Hn(M)),b=b.insert(k,r.Jn(M.metadata.readTime))}const T=c.jn.newChangeBuffer({trackRemovals:!0}),N=yield Dd(c,(M=u,li(Ho(Rt.fromString(`__bundle__/docs/${M}`)))));var M;return c.persistence.runTransaction("Apply bundle documents","readwrite",M=>LI(M,T,_,ht.min(),b).next(k=>(T.apply(M),k)).next(k=>c.ze.removeMatchingKeysForTargetId(M,N.targetId).next(()=>c.ze.addMatchingKeys(M,f,N.targetId)).next(()=>c.Qn.vn(M,k)).next(()=>k)))})).apply(this,arguments)}function DS(s,r){return UI.apply(this,arguments)}function UI(){return(UI=(0,me.Z)(function*(s,r,i=Mt()){const u=yield Dd(s,li(wI(r.bundledQuery))),c=ke(s);return c.persistence.runTransaction("Save named query","readwrite",f=>{const _=Yn(r.readTime);if(u.snapshotVersion.compareTo(_)>=0)return c.Je.saveNamedQuery(f,r);const b=u.withResumeToken(kn.EMPTY_BYTE_STRING,_);return c.Un=c.Un.insert(b.targetId,b),c.ze.updateTargetData(f,b).next(()=>c.ze.removeMatchingKeysForTargetId(f,u.targetId)).next(()=>c.ze.addMatchingKeys(f,i,u.targetId)).next(()=>c.Je.saveNamedQuery(f,r))})})).apply(this,arguments)}class h0{constructor(r){this.N=r,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(r,i){return Ce.resolve(this.Yn.get(i))}saveBundleMetadata(r,i){var u;return this.Yn.set(i.id,{id:(u=i).id,version:u.version,createTime:Yn(u.createTime)}),Ce.resolve()}getNamedQuery(r,i){return Ce.resolve(this.Xn.get(i))}saveNamedQuery(r,i){return this.Xn.set(i.name,{name:(u=i).name,query:wI(u.bundledQuery),readTime:Yn(u.readTime)}),Ce.resolve();var u}}class Vf{constructor(){this.Zn=new yn(Hn.ts),this.es=new yn(Hn.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(r,i){const u=new Hn(r,i);this.Zn=this.Zn.add(u),this.es=this.es.add(u)}ss(r,i){r.forEach(u=>this.addReference(u,i))}removeReference(r,i){this.rs(new Hn(r,i))}os(r,i){r.forEach(u=>this.removeReference(u,i))}cs(r){const i=new $e(new Rt([])),u=new Hn(i,r),c=new Hn(i,r+1),f=[];return this.es.forEachInRange([u,c],_=>{this.rs(_),f.push(_.key)}),f}us(){this.Zn.forEach(r=>this.rs(r))}rs(r){this.Zn=this.Zn.delete(r),this.es=this.es.delete(r)}hs(r){const i=new $e(new Rt([])),u=new Hn(i,r),c=new Hn(i,r+1);let f=Mt();return this.es.forEachInRange([u,c],_=>{f=f.add(_.key)}),f}containsKey(r){const i=new Hn(r,0),u=this.Zn.firstAfterOrEqual(i);return null!==u&&r.isEqual(u.key)}}class Hn{constructor(r,i){this.key=r,this.ls=i}static ts(r,i){return $e.comparator(r.key,i.key)||wt(r.ls,i.ls)}static ns(r,i){return wt(r.ls,i.ls)||$e.comparator(r.key,i.key)}}class f0{constructor(r,i){this.Ht=r,this.referenceDelegate=i,this.In=[],this.fs=1,this.ds=new yn(Hn.ts)}checkEmpty(r){return Ce.resolve(0===this.In.length)}addMutationBatch(r,i,u,c){const f=this.fs;this.fs++;const _=new Dl(f,i,u,c);this.In.push(_);for(const b of c)this.ds=this.ds.add(new Hn(b.key,f)),this.Ht.addToCollectionParentIndex(r,b.key.path.popLast());return Ce.resolve(_)}lookupMutationBatch(r,i){return Ce.resolve(this.ws(i))}getNextMutationBatchAfterBatchId(r,i){const c=this._s(i+1),f=c<0?0:c;return Ce.resolve(this.In.length>f?this.In[f]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(r){return Ce.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(r,i){const u=new Hn(i,0),c=new Hn(i,Number.POSITIVE_INFINITY),f=[];return this.ds.forEachInRange([u,c],_=>{const b=this.ws(_.ls);f.push(b)}),Ce.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(r,i){let u=new yn(wt);return i.forEach(c=>{const f=new Hn(c,0),_=new Hn(c,Number.POSITIVE_INFINITY);this.ds.forEachInRange([f,_],b=>{u=u.add(b.ls)})}),Ce.resolve(this.gs(u))}getAllMutationBatchesAffectingQuery(r,i){const u=i.path,c=u.length+1;let f=u;$e.isDocumentKey(f)||(f=f.child(""));const _=new Hn(new $e(f),0);let b=new yn(wt);return this.ds.forEachWhile(T=>{const N=T.key.path;return!!u.isPrefixOf(N)&&(N.length===c&&(b=b.add(T.ls)),!0)},_),Ce.resolve(this.gs(b))}gs(r){const i=[];return r.forEach(u=>{const c=this.ws(u);null!==c&&i.push(c)}),i}removeMutationBatch(r,i){Je(0===this.ys(i.batchId,"removed")),this.In.shift();let u=this.ds;return Ce.forEach(i.mutations,c=>{const f=new Hn(c.key,i.batchId);return u=u.delete(f),this.referenceDelegate.markPotentiallyOrphaned(r,c.key)}).next(()=>{this.ds=u})}te(r){}containsKey(r,i){const u=new Hn(i,0),c=this.ds.firstAfterOrEqual(u);return Ce.resolve(i.isEqual(c&&c.key))}performConsistencyCheck(r){return Ce.resolve()}ys(r,i){return this._s(r)}_s(r){return 0===this.In.length?0:r-this.In[0].batchId}ws(r){const i=this._s(r);return i<0||i>=this.In.length?null:this.In[i]}}class p0{constructor(r,i){this.Ht=r,this.ps=i,this.docs=new jn($e.comparator),this.size=0}addEntry(r,i,u){const c=i.key,f=this.docs.get(c),_=f?f.size:0,b=this.ps(i);return this.docs=this.docs.insert(c,{document:i.clone(),size:b,readTime:u}),this.size+=b-_,this.Ht.addToCollectionParentIndex(r,c.path.popLast())}removeEntry(r){const i=this.docs.get(r);i&&(this.docs=this.docs.remove(r),this.size-=i.size)}getEntry(r,i){const u=this.docs.get(i);return Ce.resolve(u?u.document.clone():nn.newInvalidDocument(i))}getEntries(r,i){let u=wi();return i.forEach(c=>{const f=this.docs.get(c);u=u.insert(c,f?f.document.clone():nn.newInvalidDocument(c))}),Ce.resolve(u)}getDocumentsMatchingQuery(r,i,u){let c=wi();const f=new $e(i.path.child("")),_=this.docs.getIteratorFrom(f);for(;_.hasNext();){const{key:b,value:{document:T,readTime:N}}=_.getNext();if(!i.path.isPrefixOf(b.path))break;N.compareTo(u)<=0||Am(i,T)&&(c=c.insert(T.key,T.clone()))}return Ce.resolve(c)}Es(r,i){return Ce.forEach(this.docs,u=>i(u))}newChangeBuffer(r){return new TS(this)}getSize(r){return Ce.resolve(this.size)}}class TS extends NI{constructor(r){super(),this.Se=r}applyChanges(r){const i=[];return this.changes.forEach((u,c)=>{c.document.isValidDocument()?i.push(this.Se.addEntry(r,c.document,this.getReadTime(u))):this.Se.removeEntry(u)}),Ce.waitFor(i)}getFromCache(r,i){return this.Se.getEntry(r,i)}getAllFromCache(r,i){return this.Se.getEntries(r,i)}}class AS{constructor(r){this.persistence=r,this.Ts=new xl(i=>Df(i),bm),this.lastRemoteSnapshotVersion=ht.min(),this.highestTargetId=0,this.Is=0,this.As=new Vf,this.targetCount=0,this.Rs=Wa.se()}forEachTarget(r,i){return this.Ts.forEach((u,c)=>i(c)),Ce.resolve()}getLastRemoteSnapshotVersion(r){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(r){return Ce.resolve(this.Is)}allocateTargetId(r){return this.highestTargetId=this.Rs.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(r,i,u){return u&&(this.lastRemoteSnapshotVersion=u),i>this.Is&&(this.Is=i),Ce.resolve()}ae(r){this.Ts.set(r.target,r);const i=r.targetId;i>this.highestTargetId&&(this.Rs=new Wa(i),this.highestTargetId=i),r.sequenceNumber>this.Is&&(this.Is=r.sequenceNumber)}addTargetData(r,i){return this.ae(i),this.targetCount+=1,Ce.resolve()}updateTargetData(r,i){return this.ae(i),Ce.resolve()}removeTargetData(r,i){return this.Ts.delete(i.target),this.As.cs(i.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(r,i,u){let c=0;const f=[];return this.Ts.forEach((_,b)=>{b.sequenceNumber<=i&&null===u.get(b.targetId)&&(this.Ts.delete(_),f.push(this.removeMatchingKeysForTargetId(r,b.targetId)),c++)}),Ce.waitFor(f).next(()=>c)}getTargetCount(r){return Ce.resolve(this.targetCount)}getTargetData(r,i){const u=this.Ts.get(i)||null;return Ce.resolve(u)}addMatchingKeys(r,i,u){return this.As.ss(i,u),Ce.resolve()}removeMatchingKeys(r,i,u){this.As.os(i,u);const c=this.persistence.referenceDelegate,f=[];return c&&i.forEach(_=>{f.push(c.markPotentiallyOrphaned(r,_))}),Ce.waitFor(f)}removeMatchingKeysForTargetId(r,i){return this.As.cs(i),Ce.resolve()}getMatchingKeysForTargetId(r,i){const u=this.As.hs(i);return Ce.resolve(u)}containsKey(r,i){return Ce.resolve(this.As.containsKey(i))}}class SS{constructor(r,i){this.Ps={},this.Le=new dr(0),this.Be=!1,this.Be=!0,this.referenceDelegate=r(this),this.ze=new AS(this),this.Ht=new mS,this.He=new p0(this.Ht,u=>this.referenceDelegate.bs(u)),this.N=new _I(i),this.Je=new h0(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(r){let i=this.Ps[r.toKey()];return i||(i=new f0(this.Ht,this.referenceDelegate),this.Ps[r.toKey()]=i),i}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(r,i,u){Re("MemoryPersistence","Starting transaction:",r);const c=new xS(this.Le.next());return this.referenceDelegate.vs(),u(c).next(f=>this.referenceDelegate.Vs(c).next(()=>f)).toPromise().then(f=>(c.raiseOnCommittedEvent(),f))}Ss(r,i){return Ce.or(Object.values(this.Ps).map(u=>()=>u.containsKey(r,i)))}}class xS extends Vm{constructor(r){super(),this.currentSequenceNumber=r}}class Zm{constructor(r){this.persistence=r,this.Ds=new Vf,this.Cs=null}static Ns(r){return new Zm(r)}get xs(){if(this.Cs)return this.Cs;throw Ze()}addReference(r,i,u){return this.Ds.addReference(u,i),this.xs.delete(u.toString()),Ce.resolve()}removeReference(r,i,u){return this.Ds.removeReference(u,i),this.xs.add(u.toString()),Ce.resolve()}markPotentiallyOrphaned(r,i){return this.xs.add(i.toString()),Ce.resolve()}removeTarget(r,i){this.Ds.cs(i.targetId).forEach(c=>this.xs.add(c.toString()));const u=this.persistence.getTargetCache();return u.getMatchingKeysForTargetId(r,i.targetId).next(c=>{c.forEach(f=>this.xs.add(f.toString()))}).next(()=>u.removeTargetData(r,i))}vs(){this.Cs=new Set}Vs(r){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.xs,u=>{const c=$e.fromPath(u);return this.ks(r,c).next(f=>{f||i.removeEntry(c)})}).next(()=>(this.Cs=null,i.apply(r)))}updateLimboDocument(r,i){return this.ks(r,i).next(u=>{u?this.xs.delete(i.toString()):this.xs.add(i.toString())})}bs(r){return 0}ks(r,i){return Ce.or([()=>Ce.resolve(this.Ds.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(r,i),()=>this.persistence.Ss(r,i)])}}function Wm(s,r){return`firestore_clients_${s}_${r}`}function g0(s,r,i){let u=`firestore_mutations_${s}_${i}`;return r.isAuthenticated()&&(u+=`_${r.uid}`),u}function m0(s,r){return`firestore_targets_${s}_${r}`}class Uf{constructor(r,i,u,c){this.user=r,this.batchId=i,this.state=u,this.error=c}static $s(r,i,u){const c=JSON.parse(u);let f,_="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return _&&c.error&&(_="string"==typeof c.error.message&&"string"==typeof c.error.code,_&&(f=new De(c.error.code,c.error.message))),_?new Uf(r,i,c.state,f):(Tn("SharedClientState",`Failed to parse mutation state for ID '${i}': ${u}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class Ad{constructor(r,i,u){this.targetId=r,this.state=i,this.error=u}static $s(r,i){const u=JSON.parse(i);let c,f="object"==typeof u&&-1!==["not-current","current","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return f&&u.error&&(f="string"==typeof u.error.message&&"string"==typeof u.error.code,f&&(c=new De(u.error.code,u.error.message))),f?new Ad(r,u.state,c):(Tn("SharedClientState",`Failed to parse target state for ID '${r}': ${i}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class zm{constructor(r,i){this.clientId=r,this.activeTargetIds=i}static $s(r,i){const u=JSON.parse(i);let c="object"==typeof u&&u.activeTargetIds instanceof Array,f=jE();for(let _=0;c&&_<u.activeTargetIds.length;++_)c=Hb(u.activeTargetIds[_]),f=f.add(u.activeTargetIds[_]);return c?new zm(r,f):(Tn("SharedClientState",`Failed to parse client data for instance '${r}': ${i}`),null)}}class Km{constructor(r,i){this.clientId=r,this.onlineState=i}static $s(r){const i=JSON.parse(r);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new Km(i.clientId,i.onlineState):(Tn("SharedClientState",`Failed to parse online state: ${r}`),null)}}class Ym{constructor(){this.activeTargetIds=jE()}Fs(r){this.activeTargetIds=this.activeTargetIds.add(r)}Ms(r){this.activeTargetIds=this.activeTargetIds.delete(r)}Os(){const r={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(r)}}class y0{constructor(r,i,u,c,f){this.window=r,this.Oe=i,this.persistenceKey=u,this.Ls=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new jn(wt),this.started=!1,this.Ks=[];const _=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.js=Wm(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Ym),this.Ws=new RegExp(`^firestore_clients_${_}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${_}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${_}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(b){return`firestore_bundle_loaded_${b}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static Pt(r){return!(!r||!r.localStorage)}start(){var r=this;return(0,me.Z)(function*(){const i=yield r.syncEngine.pn();for(const c of i){if(c===r.Ls)continue;const f=r.getItem(Wm(r.persistenceKey,c));if(f){const _=zm.$s(c,f);_&&(r.qs=r.qs.insert(_.clientId,_))}}r.Ys();const u=r.storage.getItem(r.Hs);if(u){const c=r.Xs(u);c&&r.Zs(c)}for(const c of r.Ks)r.Us(c);r.Ks=[],r.window.addEventListener("pagehide",()=>r.shutdown()),r.started=!0})()}writeSequenceNumber(r){this.setItem(this.Qs,JSON.stringify(r))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(r){let i=!1;return this.qs.forEach((u,c)=>{c.activeTargetIds.has(r)&&(i=!0)}),i}addPendingMutation(r){this.ei(r,"pending")}updateMutationState(r,i,u){this.ei(r,i,u),this.ni(r)}addLocalQueryTarget(r){let i="not-current";if(this.isActiveQueryTarget(r)){const u=this.storage.getItem(m0(this.persistenceKey,r));if(u){const c=Ad.$s(r,u);c&&(i=c.state)}}return this.si.Fs(r),this.Ys(),i}removeLocalQueryTarget(r){this.si.Ms(r),this.Ys()}isLocalQueryTarget(r){return this.si.activeTargetIds.has(r)}clearQueryState(r){this.removeItem(m0(this.persistenceKey,r))}updateQueryState(r,i,u){this.ii(r,i,u)}handleUserChange(r,i,u){i.forEach(c=>{this.ni(c)}),this.currentUser=r,u.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(r){this.ri(r)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(r){const i=this.storage.getItem(r);return Re("SharedClientState","READ",r,i),i}setItem(r,i){Re("SharedClientState","SET",r,i),this.storage.setItem(r,i)}removeItem(r){Re("SharedClientState","REMOVE",r),this.storage.removeItem(r)}Us(r){var i=this;const u=r;if(u.storageArea===this.storage){if(Re("SharedClientState","EVENT",u.key,u.newValue),u.key===this.js)return void Tn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,me.Z)(function*(){if(i.started){if(null!==u.key)if(i.Ws.test(u.key)){if(null==u.newValue){const c=i.ai(u.key);return i.ci(c,null)}{const c=i.ui(u.key,u.newValue);if(c)return i.ci(c.clientId,c)}}else if(i.Gs.test(u.key)){if(null!==u.newValue){const c=i.hi(u.key,u.newValue);if(c)return i.li(c)}}else if(i.zs.test(u.key)){if(null!==u.newValue){const c=i.fi(u.key,u.newValue);if(c)return i.di(c)}}else if(u.key===i.Hs){if(null!==u.newValue){const c=i.Xs(u.newValue);if(c)return i.Zs(c)}}else if(u.key===i.Qs){const c=function(f){let _=dr.T;if(null!=f)try{const b=JSON.parse(f);Je("number"==typeof b),_=b}catch(b){Tn("SharedClientState","Failed to read sequence number from WebStorage",b)}return _}(u.newValue);c!==dr.T&&i.sequenceNumberHandler(c)}else if(u.key===i.Js)return i.syncEngine.wi()}else i.Ks.push(u)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(r,i,u){const c=new Uf(this.currentUser,r,i,u),f=g0(this.persistenceKey,this.currentUser,r);this.setItem(f,c.Os())}ni(r){const i=g0(this.persistenceKey,this.currentUser,r);this.removeItem(i)}ri(r){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:r}))}ii(r,i,u){const c=m0(this.persistenceKey,r),f=new Ad(r,i,u);this.setItem(c,f.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(r){const i=this.Ws.exec(r);return i?i[1]:null}ui(r,i){const u=this.ai(r);return zm.$s(u,i)}hi(r,i){const u=this.Gs.exec(r),c=Number(u[1]);return Uf.$s(new lr(void 0!==u[2]?u[2]:null),c,i)}fi(r,i){const u=this.zs.exec(r),c=Number(u[1]);return Ad.$s(c,i)}Xs(r){return Km.$s(r)}li(r){var i=this;return(0,me.Z)(function*(){if(r.user.uid===i.currentUser.uid)return i.syncEngine._i(r.batchId,r.state,r.error);Re("SharedClientState",`Ignoring mutation for non-active user ${r.user.uid}`)})()}di(r){return this.syncEngine.mi(r.targetId,r.state,r.error)}ci(r,i){const u=i?this.qs.insert(r,i):this.qs.remove(r),c=this.ti(this.qs),f=this.ti(u),_=[],b=[];return f.forEach(T=>{c.has(T)||_.push(T)}),c.forEach(T=>{f.has(T)||b.push(T)}),this.syncEngine.gi(_,b).then(()=>{this.qs=u})}Zs(r){this.qs.get(r.clientId)&&this.onlineStateHandler(r.onlineState)}ti(r){let i=jE();return r.forEach((u,c)=>{i=i.unionWith(c.activeTargetIds)}),i}}class _0{constructor(){this.yi=new Ym,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(r){}updateMutationState(r,i,u){}addLocalQueryTarget(r){return this.yi.Fs(r),this.pi[r]||"not-current"}updateQueryState(r,i,u){this.pi[r]=i}removeLocalQueryTarget(r){this.yi.Ms(r)}isLocalQueryTarget(r){return this.yi.activeTargetIds.has(r)}clearQueryState(r){delete this.pi[r]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(r){return this.yi.activeTargetIds.has(r)}start(){return this.yi=new Ym,Promise.resolve()}handleUserChange(r,i,u){}setOnlineState(r){}shutdown(){}writeSequenceNumber(r){}notifyBundleLoaded(){}}class NS{Ei(r){}shutdown(){}}class RS{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.Pi=[],this.bi()}Ei(r){this.Pi.push(r)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}bi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const r of this.Pi)r(0)}Ri(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const r of this.Pi)r(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Wr={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Sd{constructor(r){this.vi=r.vi,this.Vi=r.Vi}Si(r){this.Di=r}Ci(r){this.Ni=r}onMessage(r){this.xi=r}close(){this.Vi()}send(r){this.vi(r)}ki(){this.Di()}$i(r){this.Ni(r)}Oi(r){this.xi(r)}}class MS extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId,this.Fi=(r.ssl?"https":"http")+"://"+r.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(r,i,u,c){const f=this.Bi(r,i);Re("RestConnection","Sending: ",f,u);const _={};return this.Ui(_,c),this.qi(r,f,_,u).then(b=>(Re("RestConnection","Received: ",b),b),b=>{throw ld("RestConnection",`${r} failed with error: `,b,"url: ",f,"request:",u),b})}Ki(r,i,u,c){return this.Li(r,i,u,c)}Ui(r,i){if(r["X-Goog-Api-Client"]="gl-js/ fire/"+eo,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),i)for(const u in i.authHeaders)i.authHeaders.hasOwnProperty(u)&&(r[u]=i.authHeaders[u])}Bi(r,i){return`${this.Fi}/v1/${i}:${Wr[r]}`}}{constructor(r){super(r),this.forceLongPolling=r.forceLongPolling,this.autoDetectLongPolling=r.autoDetectLongPolling,this.useFetchStreams=r.useFetchStreams}qi(r,i,u,c){return new Promise((f,_)=>{const b=new EE;b.listenOnce(ud.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case ym.NO_ERROR:const N=b.getResponseJson();Re("Connection","XHR received:",JSON.stringify(N)),f(N);break;case ym.TIMEOUT:Re("Connection",'RPC "'+r+'" timed out'),_(new De(de.DEADLINE_EXCEEDED,"Request time out"));break;case ym.HTTP_ERROR:const M=b.getStatus();if(Re("Connection",'RPC "'+r+'" failed with status:',M,"response text:",b.getResponseText()),M>0){const k=b.getResponseJson().error;if(k&&k.status&&k.message){const W=function(K){const _e=K.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(_e)>=0?_e:de.UNKNOWN}(k.status);_(new De(W,k.message))}else _(new De(de.UNKNOWN,"Server responded with status "+b.getStatus()))}else _(new De(de.UNAVAILABLE,"Connection failed."));break;default:Ze()}}finally{Re("Connection",'RPC "'+r+'" completed.')}});const T=JSON.stringify(c);b.send(i,"POST",T,u,15)})}ji(r,i){const u=[this.Fi,"/","google.firestore.v1.Firestore","/",r,"/channel"],c=new mm,f=tm(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new Ob({})),this.Ui(_.initMessageHeaders,i),(0,Pt.uI)()||(0,Pt.b$)()||(0,Pt.d)()||(0,Pt.w1)()||(0,Pt.Mn)()||(0,Pt.ru)()||(_.httpHeadersOverwriteParam="$httpHeaders");const b=u.join("");Re("Connection","Creating WebChannel: "+b,_);const T=c.createWebChannel(b,_);let N=!1,M=!1;const k=new Sd({vi:K=>{M?Re("Connection","Not sending because WebChannel is closed:",K):(N||(Re("Connection","Opening WebChannel transport."),T.open(),N=!0),Re("Connection","WebChannel sending:",K),T.send(K))},Vi:()=>T.close()}),W=(K,_e,Oe)=>{K.listen(_e,Le=>{try{Oe(Le)}catch(yt){setTimeout(()=>{throw yt},0)}})};return W(T,Ha.EventType.OPEN,()=>{M||Re("Connection","WebChannel transport opened.")}),W(T,Ha.EventType.CLOSE,()=>{M||(M=!0,Re("Connection","WebChannel transport closed"),k.$i())}),W(T,Ha.EventType.ERROR,K=>{M||(M=!0,ld("Connection","WebChannel transport errored:",K),k.$i(new De(de.UNAVAILABLE,"The operation could not be completed")))}),W(T,Ha.EventType.MESSAGE,K=>{var _e;if(!M){const Oe=K.data[0];Je(!!Oe);const Le=Oe,yt=Le.error||(null===(_e=Le[0])||void 0===_e?void 0:_e.error);if(yt){Re("Connection","WebChannel received error:",yt);const It=yt.status;let _t=function(fi){const iT=Ln[fi];if(void 0!==iT)return Rf(iT)}(It),qt=yt.message;void 0===_t&&(_t=de.INTERNAL,qt="Unknown error status: "+It+" with message "+yt.message),M=!0,k.$i(new De(_t,qt)),T.close()}else Re("Connection","WebChannel received:",Oe),k.Oi(Oe)}}),W(f,Mb.STAT_EVENT,K=>{K.stat===vE_PROXY?Re("Connection","Detected buffering proxy"):K.stat===vE_NOPROXY&&Re("Connection","Detected no buffering proxy")}),setTimeout(()=>{k.ki()},0),k}}function BI(){return"undefined"!=typeof window?window:null}function v0(){return"undefined"!=typeof document?document:null}function Yo(s){return new hI(s,!0)}class E0{constructor(r,i,u=1e3,c=1.5,f=6e4){this.Oe=r,this.timerId=i,this.Qi=u,this.Wi=c,this.Gi=f,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(r){this.cancel();const i=Math.floor(this.zi+this.Zi()),u=Math.max(0,Date.now()-this.Ji),c=Math.max(0,i-u);c>0&&Re("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.zi} ms, delay with jitter: ${i} ms, last attempt: ${u} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,c,()=>(this.Ji=Date.now(),r())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class Qm{constructor(r,i,u,c,f,_){this.Oe=r,this.er=u,this.nr=c,this.credentialsProvider=f,this.listener=_,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new E0(r,i)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var r=this;return(0,me.Z)(function*(){r.ar()&&(yield r.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(r){this._r(),this.stream.send(r)}dr(){var r=this;return(0,me.Z)(function*(){if(r.cr())return r.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(r,i){var u=this;return(0,me.Z)(function*(){u._r(),u.rr.cancel(),u.sr++,3!==r?u.rr.reset():i&&i.code===de.RESOURCE_EXHAUSTED?(Tn(i.toString()),Tn("Using maximum backoff delay to prevent overloading the backend."),u.rr.Yi()):i&&i.code===de.UNAUTHENTICATED&&u.credentialsProvider.invalidateToken(),null!==u.stream&&(u.mr(),u.stream.close(),u.stream=null),u.state=r,yield u.listener.Ci(i)})()}mr(){}auth(){this.state=1;const r=this.gr(this.sr),i=this.sr;this.credentialsProvider.getToken().then(u=>{this.sr===i&&this.yr(u)},u=>{r(()=>{const c=new De(de.UNKNOWN,"Fetching auth token failed: "+u.message);return this.pr(c)})})}yr(r){const i=this.gr(this.sr);this.stream=this.Er(r),this.stream.Si(()=>{i(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(u=>{i(()=>this.pr(u))}),this.stream.onMessage(u=>{i(()=>this.onMessage(u))})}ur(){var r=this;this.state=4,this.rr.Xi((0,me.Z)(function*(){r.state=0,r.start()}))}pr(r){return Re("PersistentStream",`close with error: ${r}`),this.stream=null,this.close(3,r)}gr(r){return i=>{this.Oe.enqueueAndForget(()=>this.sr===r?i():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OS extends Qm{constructor(r,i,u,c,f){super(r,"listen_stream_connection_backoff","listen_stream_idle",i,u,f),this.N=c}Er(r){return this.nr.ji("Listen",r)}onMessage(r){this.rr.reset();const i=function(s,r){let i;if("targetChange"in r){const u="NO_CHANGE"===(T=r.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===T?1:"REMOVE"===T?2:"CURRENT"===T?3:"RESET"===T?4:Ze(),c=r.targetChange.targetIds||[],f=function(T,N){return T.D?(Je(void 0===N||"string"==typeof N),kn.fromBase64String(N||"")):(Je(void 0===N||N instanceof Uint8Array),kn.fromUint8Array(N||new Uint8Array))}(s,r.targetChange.resumeToken),_=r.targetChange.cause,b=_&&function(T){const N=void 0===T.code?de.UNKNOWN:Rf(T.code);return new De(N,T.message||"")}(_);i=new md(u,c,f,b||null)}else if("documentChange"in r){const u=r.documentChange,c=fs(s,u.document.name),f=Yn(u.document.updateTime),_=new zn({mapValue:{fields:u.document.fields}}),b=nn.newFoundDocument(c,f,_);i=new hs(u.targetIds||[],u.removedTargetIds||[],b.key,b)}else if("documentDelete"in r){const u=r.documentDelete,c=fs(s,u.document),f=u.readTime?Yn(u.readTime):ht.min(),_=nn.newNoDocument(c,f);i=new hs([],u.removedTargetIds||[],_.key,_)}else if("documentRemove"in r){const u=r.documentRemove,c=fs(s,u.document);i=new hs([],u.removedTargetIds||[],c,null)}else{if(!("filter"in r))return Ze();{const u=r.filter,f=new oI(u.count||0);i=new gl(u.targetId,f)}}var T;return i}(this.N,r),u=function(c){if(!("targetChange"in c))return ht.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?ht.min():f.readTime?Yn(f.readTime):ht.min()}(r);return this.listener.Tr(i,u)}Ir(r){const i={};i.database=yl(this.N),i.addTarget=function(c,f){let _;const b=f.target;return _=Tf(b)?{documents:Fm(c,b)}:{query:GE(c,b)},_.targetId=f.targetId,f.resumeToken.approximateByteSize()>0?_.resumeToken=sS(c,f.resumeToken):f.snapshotVersion.compareTo(ht.min())>0&&(_.readTime=yd(c,f.snapshotVersion.toTimestamp())),_}(this.N,r);const u=function(s,r){const i=function(u,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ze()}}(0,r.purpose);return null==i?null:{"goog-listen-tags":i}}(0,r);u&&(i.labels=u),this.wr(i)}Ar(r){const i={};i.database=yl(this.N),i.removeTarget=r,this.wr(i)}}class jI extends Qm{constructor(r,i,u,c,f){super(r,"write_stream_connection_backoff","write_stream_idle",i,u,f),this.N=c,this.Rr=!1}get Pr(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.br([])}Er(r){return this.nr.ji("Write",r)}onMessage(r){if(Je(!!r.streamToken),this.lastStreamToken=r.streamToken,this.Rr){this.rr.reset();const i=function(s,r){return s&&s.length>0?(Je(void 0!==r),s.map(i=>function(u,c){let f=Yn(u.updateTime?u.updateTime:c);return f.isEqual(ht.min())&&(f=Yn(c)),new XA(f,u.transformResults||[])}(i,r))):[]}(r.writeResults,r.commitTime),u=Yn(r.commitTime);return this.listener.vr(u,i)}return Je(!r.writeResults||0===r.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const r={};r.database=yl(this.N),this.wr(r)}br(r){const i={streamToken:this.lastStreamToken,writes:r.map(u=>Mf(this.N,u))};this.wr(i)}}class PS extends class{}{constructor(r,i,u){super(),this.credentials=r,this.nr=i,this.N=u,this.Dr=!1}Cr(){if(this.Dr)throw new De(de.FAILED_PRECONDITION,"The client has already been terminated.")}Li(r,i,u){return this.Cr(),this.credentials.getToken().then(c=>this.nr.Li(r,i,u,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===de.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new De(de.UNKNOWN,c.toString())})}Ki(r,i,u){return this.Cr(),this.credentials.getToken().then(c=>this.nr.Ki(r,i,u,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===de.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new De(de.UNKNOWN,c.toString())})}terminate(){this.Dr=!0}}class kS{constructor(r,i){this.asyncQueue=r,this.onlineStateHandler=i,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(r){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${r.toString()}`),this.Fr("Offline")))}set(r){this.Br(),this.Nr=0,"Online"===r&&(this.$r=!1),this.Fr(r)}Fr(r){r!==this.state&&(this.state=r,this.onlineStateHandler(r))}Mr(r){const i=`Could not reach Cloud Firestore backend. ${r}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Tn(i),this.$r=!1):Re("OnlineStateTracker",i)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class w0{constructor(r,i,u,c,f){var _=this;this.localStore=r,this.datastore=i,this.asyncQueue=u,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=f,this.Qr.Ei(b=>{u.enqueueAndForget((0,me.Z)(function*(){var T;Ya(_)&&(Re("RemoteStore","Restarting streams for network reachability change."),yield(T=(0,me.Z)(function*(N){const M=ke(N);M.Kr.add(4),yield Qo(M),M.Wr.set("Unknown"),M.Kr.delete(4),yield xd(M)}),function(N){return T.apply(this,arguments)})(_))}))}),this.Wr=new kS(u,c)}}function xd(s){return Jm.apply(this,arguments)}function Jm(){return(Jm=(0,me.Z)(function*(s){if(Ya(s))for(const r of s.jr)yield r(!0)})).apply(this,arguments)}function Qo(s){return Bf.apply(this,arguments)}function Bf(){return(Bf=(0,me.Z)(function*(s){for(const r of s.jr)yield r(!1)})).apply(this,arguments)}function C0(s,r){const i=ke(s);i.qr.has(r.targetId)||(i.qr.set(r.targetId,r),Xm(i)?Rd(i):jf(i).cr()&&b0(i,r))}function Nd(s,r){const i=ke(s),u=jf(i);i.qr.delete(r),u.cr()&&I0(i,r),0===i.qr.size&&(u.cr()?u.lr():Ya(i)&&i.Wr.set("Unknown"))}function b0(s,r){s.Gr.Y(r.targetId),jf(s).Ir(r)}function I0(s,r){s.Gr.Y(r),jf(s).Ar(r)}function Rd(s){s.Gr=new ot({getRemoteKeysForTarget:r=>s.remoteSyncer.getRemoteKeysForTarget(r),Et:r=>s.qr.get(r)||null}),jf(s).start(),s.Wr.Or()}function Xm(s){return Ya(s)&&!jf(s).ar()&&s.qr.size>0}function Ya(s){return 0===ke(s).Kr.size}function ey(s){s.Gr=void 0}function D0(s){return T0.apply(this,arguments)}function T0(){return(T0=(0,me.Z)(function*(s){s.qr.forEach((r,i)=>{b0(s,r)})})).apply(this,arguments)}function FS(s,r){return ty.apply(this,arguments)}function ty(){return(ty=(0,me.Z)(function*(s,r){ey(s),Xm(s)?(s.Wr.Lr(r),Rd(s)):s.Wr.set("Unknown")})).apply(this,arguments)}function HI(s,r,i){return ny.apply(this,arguments)}function ny(){return(ny=(0,me.Z)(function*(s,r,i){if(s.Wr.set("Online"),r instanceof md&&2===r.state&&r.cause)try{yield(u=(0,me.Z)(function*(c,f){const _=f.cause;for(const b of f.targetIds)c.qr.has(b)&&(yield c.remoteSyncer.rejectListen(b,_),c.qr.delete(b),c.Gr.removeTarget(b))}),function(c,f){return u.apply(this,arguments)})(s,r)}catch(u){Re("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),u),yield ry(s,u)}else if(r instanceof hs?s.Gr.rt(r):r instanceof gl?s.Gr.ft(r):s.Gr.ct(r),!i.isEqual(ht.min()))try{const u=yield FI(s.localStore);i.compareTo(u)>=0&&(yield function(c,f){const _=c.Gr._t(f);return _.targetChanges.forEach((b,T)=>{if(b.resumeToken.approximateByteSize()>0){const N=c.qr.get(T);N&&c.qr.set(T,N.withResumeToken(b.resumeToken,f))}}),_.targetMismatches.forEach(b=>{const T=c.qr.get(b);if(!T)return;c.qr.set(b,T.withResumeToken(kn.EMPTY_BYTE_STRING,T.snapshotVersion)),I0(c,b);const N=new zo(T.target,b,1,T.sequenceNumber);b0(c,N)}),c.remoteSyncer.applyRemoteEvent(_)}(s,i))}catch(u){Re("RemoteStore","Failed to raise snapshot:",u),yield ry(s,u)}var u})).apply(this,arguments)}function ry(s,r,i){return iy.apply(this,arguments)}function iy(){return(iy=(0,me.Z)(function*(s,r,i){if(!bl(r))throw r;s.Kr.add(1),yield Qo(s),s.Wr.set("Offline"),i||(i=()=>FI(s.localStore)),s.asyncQueue.enqueueRetryable((0,me.Z)(function*(){Re("RemoteStore","Retrying IndexedDB access"),yield i(),s.Kr.delete(1),yield xd(s)}))})).apply(this,arguments)}function A0(s,r){return r().catch(i=>ry(s,i,r))}function Md(s){return S0.apply(this,arguments)}function S0(){return(S0=(0,me.Z)(function*(s){const r=ke(s),i=Ml(r);let u=r.Ur.length>0?r.Ur[r.Ur.length-1].batchId:-1;for(;$I(r);)try{const c=yield IS(r.localStore,u);if(null===c){0===r.Ur.length&&i.lr();break}u=c.batchId,LS(r,c)}catch(c){yield ry(r,c)}x0(r)&&N0(r)})).apply(this,arguments)}function $I(s){return Ya(s)&&s.Ur.length<10}function LS(s,r){s.Ur.push(r);const i=Ml(s);i.cr()&&i.Pr&&i.br(r.mutations)}function x0(s){return Ya(s)&&!Ml(s).ar()&&s.Ur.length>0}function N0(s){Ml(s).start()}function GI(s){return sy.apply(this,arguments)}function sy(){return(sy=(0,me.Z)(function*(s){Ml(s).Sr()})).apply(this,arguments)}function VS(s){return R0.apply(this,arguments)}function R0(){return(R0=(0,me.Z)(function*(s){const r=Ml(s);for(const i of s.Ur)r.br(i.mutations)})).apply(this,arguments)}function US(s,r,i){return oy.apply(this,arguments)}function oy(){return(oy=(0,me.Z)(function*(s,r,i){const u=s.Ur.shift(),c=yI.from(u,r,i);yield A0(s,()=>s.remoteSyncer.applySuccessfulWrite(c)),yield Md(s)})).apply(this,arguments)}function _N(s,r){return qI.apply(this,arguments)}function qI(){return(qI=(0,me.Z)(function*(s,r){var i;r&&Ml(s).Pr&&(yield(i=(0,me.Z)(function*(u,c){if(aI(f=c.code)&&f!==de.ABORTED){const _=u.Ur.shift();Ml(u).hr(),yield A0(u,()=>u.remoteSyncer.rejectFailedWrite(_.batchId,c)),yield Md(u)}var f}),function(u,c){return i.apply(this,arguments)})(s,r)),x0(s)&&N0(s)})).apply(this,arguments)}function ZI(s,r){return WI.apply(this,arguments)}function WI(){return(WI=(0,me.Z)(function*(s,r){const i=ke(s);r?(i.Kr.delete(2),yield xd(i)):r||(i.Kr.add(2),yield Qo(i),i.Wr.set("Unknown"))})).apply(this,arguments)}function jf(s){return s.zr||(s.zr=function(r,i,u){const c=ke(r);return c.Cr(),new OS(i,c.nr,c.credentials,c.N,u)}(s.datastore,s.asyncQueue,{Si:D0.bind(null,s),Ci:FS.bind(null,s),Tr:HI.bind(null,s)}),s.jr.push(function(){var r=(0,me.Z)(function*(i){i?(s.zr.hr(),Xm(s)?Rd(s):s.Wr.set("Unknown")):(yield s.zr.stop(),ey(s))});return function(i){return r.apply(this,arguments)}}())),s.zr}function Ml(s){return s.Hr||(s.Hr=function(r,i,u){const c=ke(r);return c.Cr(),new jI(i,c.nr,c.credentials,c.N,u)}(s.datastore,s.asyncQueue,{Si:GI.bind(null,s),Ci:_N.bind(null,s),Vr:VS.bind(null,s),vr:US.bind(null,s)}),s.jr.push(function(){var r=(0,me.Z)(function*(i){i?(s.Hr.hr(),yield Md(s)):(yield s.Hr.stop(),s.Ur.length>0&&(Re("RemoteStore",`Stopping write stream with ${s.Ur.length} pending writes`),s.Ur=[]))});return function(i){return r.apply(this,arguments)}}())),s.Hr}class zI{constructor(r,i,u,c,f){this.asyncQueue=r,this.timerId=i,this.targetTimeMs=u,this.op=c,this.removalCallback=f,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(r,i,u,c,f){const _=Date.now()+u,b=new zI(r,i,_,c,f);return b.start(u),b}start(r){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),r)}skipDelay(){return this.handleDelayElapsed()}cancel(r){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new De(de.CANCELLED,"Operation cancelled"+(r?": "+r:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(r=>this.deferred.resolve(r))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hf(s,r){if(Tn("AsyncQueue",`${r}: ${s}`),bl(s))return new De(de.UNAVAILABLE,`${r}: ${s}`);throw s}class $f{constructor(r){this.comparator=r?(i,u)=>r(i,u)||$e.comparator(i.key,u.key):(i,u)=>$e.comparator(i.key,u.key),this.keyedMap=BE(),this.sortedSet=new jn(this.comparator)}static emptySet(r){return new $f(r.comparator)}has(r){return null!=this.keyedMap.get(r)}get(r){return this.keyedMap.get(r)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(r){const i=this.keyedMap.get(r);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(r){this.sortedSet.inorderTraversal((i,u)=>(r(i),!1))}add(r){const i=this.delete(r.key);return i.copy(i.keyedMap.insert(r.key,r),i.sortedSet.insert(r,null))}delete(r){const i=this.get(r);return i?this.copy(this.keyedMap.remove(r),this.sortedSet.remove(i)):this}isEqual(r){if(!(r instanceof $f)||this.size!==r.size)return!1;const i=this.sortedSet.getIterator(),u=r.sortedSet.getIterator();for(;i.hasNext();){const c=i.getNext().key,f=u.getNext().key;if(!c.isEqual(f))return!1}return!0}toString(){const r=[];return this.forEach(i=>{r.push(i.toString())}),0===r.length?"DocumentSet ()":"DocumentSet (\n  "+r.join("  \n")+"\n)"}copy(r,i){const u=new $f;return u.comparator=this.comparator,u.keyedMap=r,u.sortedSet=i,u}}class BS{constructor(){this.Jr=new jn($e.comparator)}track(r){const i=r.doc.key,u=this.Jr.get(i);u?0!==r.type&&3===u.type?this.Jr=this.Jr.insert(i,r):3===r.type&&1!==u.type?this.Jr=this.Jr.insert(i,{type:u.type,doc:r.doc}):2===r.type&&2===u.type?this.Jr=this.Jr.insert(i,{type:2,doc:r.doc}):2===r.type&&0===u.type?this.Jr=this.Jr.insert(i,{type:0,doc:r.doc}):1===r.type&&0===u.type?this.Jr=this.Jr.remove(i):1===r.type&&2===u.type?this.Jr=this.Jr.insert(i,{type:1,doc:u.doc}):0===r.type&&1===u.type?this.Jr=this.Jr.insert(i,{type:2,doc:r.doc}):Ze():this.Jr=this.Jr.insert(i,r)}Yr(){const r=[];return this.Jr.inorderTraversal((i,u)=>{r.push(u)}),r}}class Gf{constructor(r,i,u,c,f,_,b,T){this.query=r,this.docs=i,this.oldDocs=u,this.docChanges=c,this.mutatedKeys=f,this.fromCache=_,this.syncStateChanged=b,this.excludesMetadataChanges=T}static fromInitialDocuments(r,i,u,c){const f=[];return i.forEach(_=>{f.push({type:0,doc:_})}),new Gf(r,i,$f.emptySet(i),f,u,c,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(r){if(!(this.fromCache===r.fromCache&&this.syncStateChanged===r.syncStateChanged&&this.mutatedKeys.isEqual(r.mutatedKeys)&&fl(this.query,r.query)&&this.docs.isEqual(r.docs)&&this.oldDocs.isEqual(r.oldDocs)))return!1;const i=this.docChanges,u=r.docChanges;if(i.length!==u.length)return!1;for(let c=0;c<i.length;c++)if(i[c].type!==u[c].type||!i[c].doc.isEqual(u[c].doc))return!1;return!0}}class vN{constructor(){this.Xr=void 0,this.listeners=[]}}class EN{constructor(){this.queries=new xl(r=>OE(r),fl),this.onlineState="Unknown",this.Zr=new Set}}function KI(s,r){return YI.apply(this,arguments)}function YI(){return(YI=(0,me.Z)(function*(s,r){const i=ke(s),u=r.query;let c=!1,f=i.queries.get(u);if(f||(c=!0,f=new vN),c)try{f.Xr=yield i.onListen(u)}catch(_){const b=Hf(_,`Initialization of query '${PE(r.query)}' failed`);return void r.onError(b)}i.queries.set(u,f),f.listeners.push(r),r.eo(i.onlineState),f.Xr&&r.no(f.Xr)&&M0(i)})).apply(this,arguments)}function QI(s,r){return JI.apply(this,arguments)}function JI(){return(JI=(0,me.Z)(function*(s,r){const i=ke(s),u=r.query;let c=!1;const f=i.queries.get(u);if(f){const _=f.listeners.indexOf(r);_>=0&&(f.listeners.splice(_,1),c=0===f.listeners.length)}if(c)return i.queries.delete(u),i.onUnlisten(u)})).apply(this,arguments)}function jS(s,r){const i=ke(s);let u=!1;for(const c of r){const _=i.queries.get(c.query);if(_){for(const b of _.listeners)b.no(c)&&(u=!0);_.Xr=c}}u&&M0(i)}function HS(s,r,i){const u=ke(s),c=u.queries.get(r);if(c)for(const f of c.listeners)f.onError(i);u.queries.delete(r)}function M0(s){s.Zr.forEach(r=>{r.next()})}class XI{constructor(r,i,u){this.query=r,this.so=i,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=u||{}}no(r){if(!this.options.includeMetadataChanges){const u=[];for(const c of r.docChanges)3!==c.type&&u.push(c);r=new Gf(r.query,r.docs,r.oldDocs,u,r.mutatedKeys,r.fromCache,r.syncStateChanged,!0)}let i=!1;return this.io?this.oo(r)&&(this.so.next(r),i=!0):this.ao(r,this.onlineState)&&(this.co(r),i=!0),this.ro=r,i}onError(r){this.so.error(r)}eo(r){this.onlineState=r;let i=!1;return this.ro&&!this.io&&this.ao(this.ro,r)&&(this.co(this.ro),i=!0),i}ao(r,i){return!r.fromCache||!(this.options.uo&&"Offline"!==i||r.docs.isEmpty()&&"Offline"!==i)}oo(r){return r.docChanges.length>0||!!(r.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==r.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(r){r=Gf.fromInitialDocuments(r.query,r.docs,r.mutatedKeys,r.fromCache),this.io=!0,this.so.next(r)}}class wN{constructor(r,i){this.payload=r,this.byteLength=i}ho(){return"metadata"in this.payload}}class $S{constructor(r){this.N=r}zn(r){return fs(this.N,r)}Hn(r){return r.metadata.exists?fI(this.N,r.document,!1):nn.newNoDocument(this.zn(r.metadata.name),this.Jn(r.metadata.readTime))}Jn(r){return Yn(r)}}class GS{constructor(r,i,u){this.lo=r,this.localStore=i,this.N=u,this.queries=[],this.documents=[],this.progress=eD(r)}fo(r){this.progress.bytesLoaded+=r.byteLength;let i=this.progress.documentsLoaded;return r.payload.namedQuery?this.queries.push(r.payload.namedQuery):r.payload.documentMetadata?(this.documents.push({metadata:r.payload.documentMetadata}),r.payload.documentMetadata.exists||++i):r.payload.document&&(this.documents[this.documents.length-1].document=r.payload.document,++i),i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}wo(r){const i=new Map,u=new $S(this.N);for(const c of r)if(c.metadata.queries){const f=u.zn(c.metadata.name);for(const _ of c.metadata.queries){const b=(i.get(_)||Mt()).add(f);i.set(_,b)}}return i}complete(){var r=this;return(0,me.Z)(function*(){const i=yield function(s,r,i,u){return d0.apply(this,arguments)}(r.localStore,new $S(r.N),r.documents,r.lo.id),u=r.wo(r.documents);for(const c of r.queries)yield DS(r.localStore,c,u.get(c.name));return r.progress.taskState="Success",new wS(Object.assign({},r.progress),i)})()}}function eD(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class tD{constructor(r){this.key=r}}class qS{constructor(r){this.key=r}}class ZS{constructor(r,i){this.query=r,this._o=i,this.mo=null,this.current=!1,this.yo=Mt(),this.mutatedKeys=Mt(),this.po=Jb(r),this.Eo=new $f(this.po)}get To(){return this._o}Io(r,i){const u=i?i.Ao:new BS,c=i?i.Eo:this.Eo;let f=i?i.mutatedKeys:this.mutatedKeys,_=c,b=!1;const T=Dm(this.query)&&c.size===this.query.limit?c.last():null,N=Tm(this.query)&&c.size===this.query.limit?c.first():null;if(r.inorderTraversal((M,k)=>{const W=c.get(M),K=Am(this.query,k)?k:null,_e=!!W&&this.mutatedKeys.has(W.key),Oe=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let Le=!1;W&&K?W.data.isEqual(K.data)?_e!==Oe&&(u.track({type:3,doc:K}),Le=!0):this.Ro(W,K)||(u.track({type:2,doc:K}),Le=!0,(T&&this.po(K,T)>0||N&&this.po(K,N)<0)&&(b=!0)):!W&&K?(u.track({type:0,doc:K}),Le=!0):W&&!K&&(u.track({type:1,doc:W}),Le=!0,(T||N)&&(b=!0)),Le&&(K?(_=_.add(K),f=Oe?f.add(M):f.delete(M)):(_=_.delete(M),f=f.delete(M)))}),Dm(this.query)||Tm(this.query))for(;_.size>this.query.limit;){const M=Dm(this.query)?_.last():_.first();_=_.delete(M.key),f=f.delete(M.key),u.track({type:1,doc:M})}return{Eo:_,Ao:u,Ln:b,mutatedKeys:f}}Ro(r,i){return r.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(r,i,u){const c=this.Eo;this.Eo=r.Eo,this.mutatedKeys=r.mutatedKeys;const f=r.Ao.Yr();f.sort((N,M)=>function(k,W){const K=_e=>{switch(_e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze()}};return K(k)-K(W)}(N.type,M.type)||this.po(N.doc,M.doc)),this.Po(u);const _=i?this.bo():[],b=0===this.yo.size&&this.current?1:0,T=b!==this.mo;return this.mo=b,0!==f.length||T?{snapshot:new Gf(this.query,r.Eo,c,f,r.mutatedKeys,0===b,T,!1),vo:_}:{vo:_}}eo(r){return this.current&&"Offline"===r?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new BS,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(r){return!this._o.has(r)&&!!this.Eo.has(r)&&!this.Eo.get(r).hasLocalMutations}Po(r){r&&(r.addedDocuments.forEach(i=>this._o=this._o.add(i)),r.modifiedDocuments.forEach(i=>{}),r.removedDocuments.forEach(i=>this._o=this._o.delete(i)),this.current=r.current)}bo(){if(!this.current)return[];const r=this.yo;this.yo=Mt(),this.Eo.forEach(u=>{this.Vo(u.key)&&(this.yo=this.yo.add(u.key))});const i=[];return r.forEach(u=>{this.yo.has(u)||i.push(new qS(u))}),this.yo.forEach(u=>{r.has(u)||i.push(new tD(u))}),i}So(r){this._o=r.Gn,this.yo=Mt();const i=this.Io(r.documents);return this.applyChanges(i,!0)}Do(){return Gf.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class CN{constructor(r,i,u){this.query=r,this.targetId=i,this.view=u}}class bN{constructor(r){this.key=r,this.Co=!1}}class WS{constructor(r,i,u,c,f,_){this.localStore=r,this.remoteStore=i,this.eventManager=u,this.sharedClientState=c,this.currentUser=f,this.maxConcurrentLimboResolutions=_,this.No={},this.xo=new xl(b=>OE(b),fl),this.ko=new Map,this.$o=new Set,this.Oo=new jn($e.comparator),this.Fo=new Map,this.Mo=new Vf,this.Lo={},this.Bo=new Map,this.Uo=Wa.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function IN(s,r){return O0.apply(this,arguments)}function O0(){return(O0=(0,me.Z)(function*(s,r){const i=hy(s);let u,c;const f=i.xo.get(r);if(f)u=f.targetId,i.sharedClientState.addLocalQueryTarget(u),c=f.view.Do();else{const _=yield Dd(i.localStore,li(r)),b=i.sharedClientState.addLocalQueryTarget(_.targetId);u=_.targetId,c=yield qf(i,r,u,"current"===b),i.isPrimaryClient&&C0(i.remoteStore,_)}return c})).apply(this,arguments)}function qf(s,r,i,u){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,me.Z)(function*(s,r,i,u){s.Ko=(M,k,W)=>{return(K=(0,me.Z)(function*(_e,Oe,Le,yt){let It=Oe.view.Io(Le);It.Ln&&(It=yield Ka(_e.localStore,Oe.query,!1).then(({documents:fi})=>Oe.view.Io(fi,It)));const _t=yt&&yt.targetChanges.get(Oe.targetId),qt=Oe.view.applyChanges(It,_e.isPrimaryClient,_t);return sD(_e,Oe.targetId,qt.vo),qt.snapshot}),function(_e,Oe,Le,yt){return K.apply(this,arguments)})(s,M,k,W);var K};const c=yield Ka(s.localStore,r,!0),f=new ZS(r,c.Gn),_=f.Io(c.documents),b=Dt.createSynthesizedTargetChangeForCurrentChange(i,u&&"Offline"!==s.onlineState),T=f.applyChanges(_,s.isPrimaryClient,b);sD(s,i,T.vo);const N=new CN(r,i,f);return s.xo.set(r,N),s.ko.has(i)?s.ko.get(i).push(r):s.ko.set(i,[r]),T.snapshot})).apply(this,arguments)}function nD(s,r){return P0.apply(this,arguments)}function P0(){return(P0=(0,me.Z)(function*(s,r){const i=ke(s),u=i.xo.get(r),c=i.ko.get(u.targetId);if(c.length>1)return i.ko.set(u.targetId,c.filter(f=>!fl(f,r))),void i.xo.delete(r);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(u.targetId),i.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Td(i.localStore,u.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(u.targetId),Nd(i.remoteStore,u.targetId),Pd(i,u.targetId)}).catch(Sl))):(Pd(i,u.targetId),yield Td(i.localStore,u.targetId,!0))})).apply(this,arguments)}function Zf(){return(Zf=(0,me.Z)(function*(s,r,i){const u=fy(s);try{const c=yield function(f,_){const b=ke(f),T=Bn.now(),N=_.reduce((k,W)=>k.add(W.key),Mt());let M;return b.persistence.runTransaction("Locally write mutations","readwrite",k=>b.Qn.bn(k,N).next(W=>{M=W;const K=[];for(const _e of _){const Oe=tS(_e,M.get(_e.key));null!=Oe&&K.push(new Hi(_e.key,Oe,Cm(Oe.value.mapValue),Fn.exists(!0)))}return b.In.addMutationBatch(k,T,K,_)})).then(k=>(k.applyToLocalDocumentSet(M),{batchId:k.batchId,changes:M}))}(u.localStore,r);u.sharedClientState.addPendingMutation(c.batchId),function(f,_,b){let T=f.Lo[f.currentUser.toKey()];T||(T=new jn(wt)),T=T.insert(_,b),f.Lo[f.currentUser.toKey()]=T}(u,c.batchId,i),yield Ja(u,c.changes),yield Md(u.remoteStore)}catch(c){const f=Hf(c,"Failed to persist write");i.reject(f)}})).apply(this,arguments)}function k0(s,r){return ay.apply(this,arguments)}function ay(){return(ay=(0,me.Z)(function*(s,r){const i=ke(s);try{const u=yield bS(i.localStore,r);r.targetChanges.forEach((c,f)=>{const _=i.Fo.get(f);_&&(Je(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?_.Co=!0:c.modifiedDocuments.size>0?Je(_.Co):c.removedDocuments.size>0&&(Je(_.Co),_.Co=!1))}),yield Ja(i,u,r)}catch(u){yield Sl(u)}})).apply(this,arguments)}function F0(s,r,i){const u=ke(s);if(u.isPrimaryClient&&0===i||!u.isPrimaryClient&&1===i){const c=[];u.xo.forEach((f,_)=>{const b=_.view.eo(r);b.snapshot&&c.push(b.snapshot)}),function(f,_){const b=ke(f);b.onlineState=_;let T=!1;b.queries.forEach((N,M)=>{for(const k of M.listeners)k.eo(_)&&(T=!0)}),T&&M0(b)}(u.eventManager,r),c.length&&u.No.Tr(c),u.onlineState=r,u.isPrimaryClient&&u.sharedClientState.setOnlineState(r)}}function DN(s,r,i){return uy.apply(this,arguments)}function uy(){return(uy=(0,me.Z)(function*(s,r,i){const u=ke(s);u.sharedClientState.updateQueryState(r,"rejected",i);const c=u.Fo.get(r),f=c&&c.key;if(f){let _=new jn($e.comparator);_=_.insert(f,nn.newNoDocument(f,ht.min()));const b=Mt().add(f),T=new qo(ht.min(),new Map,new yn(wt),_,b);yield k0(u,T),u.Oo=u.Oo.remove(f),u.Fo.delete(r),U0(u)}else yield Td(u.localStore,r,!1).then(()=>Pd(u,r,i)).catch(Sl)})).apply(this,arguments)}function ly(s,r){return cy.apply(this,arguments)}function cy(){return(cy=(0,me.Z)(function*(s,r){const i=ke(s),u=r.batch.batchId;try{const c=yield CS(i.localStore,r);Od(i,u,null),iD(i,u),i.sharedClientState.updateMutationState(u,"acknowledged"),yield Ja(i,c)}catch(c){yield Sl(c)}})).apply(this,arguments)}function TN(s,r,i){return rD.apply(this,arguments)}function rD(){return(rD=(0,me.Z)(function*(s,r,i){const u=ke(s);try{const c=yield function(f,_){const b=ke(f);return b.persistence.runTransaction("Reject batch","readwrite-primary",T=>{let N;return b.In.lookupMutationBatch(T,_).next(M=>(Je(null!==M),N=M.keys(),b.In.removeMutationBatch(T,M))).next(()=>b.In.performConsistencyCheck(T)).next(()=>b.Qn.bn(T,N))})}(u.localStore,r);Od(u,r,i),iD(u,r),u.sharedClientState.updateMutationState(r,"rejected",i),yield Ja(u,c)}catch(c){yield Sl(c)}})).apply(this,arguments)}function L0(){return(L0=(0,me.Z)(function*(s,r){const i=ke(s);Ya(i.remoteStore)||Re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const u=yield function(f){const _=ke(f);return _.persistence.runTransaction("Get highest unacknowledged batch id","readonly",b=>_.In.getHighestUnacknowledgedBatchId(b))}(i.localStore);if(-1===u)return void r.resolve();const c=i.Bo.get(u)||[];c.push(r),i.Bo.set(u,c)}catch(u){const c=Hf(u,"Initialization of waitForPendingWrites() operation failed");r.reject(c)}})).apply(this,arguments)}function iD(s,r){(s.Bo.get(r)||[]).forEach(i=>{i.resolve()}),s.Bo.delete(r)}function Od(s,r,i){const u=ke(s);let c=u.Lo[u.currentUser.toKey()];if(c){const f=c.get(r);f&&(i?f.reject(i):f.resolve(),c=c.remove(r)),u.Lo[u.currentUser.toKey()]=c}}function Pd(s,r,i=null){s.sharedClientState.removeLocalQueryTarget(r);for(const u of s.ko.get(r))s.xo.delete(u),i&&s.No.jo(u,i);s.ko.delete(r),s.isPrimaryClient&&s.Mo.cs(r).forEach(u=>{s.Mo.containsKey(u)||KS(s,u)})}function KS(s,r){s.$o.delete(r.path.canonicalString());const i=s.Oo.get(r);null!==i&&(Nd(s.remoteStore,i),s.Oo=s.Oo.remove(r),s.Fo.delete(i),U0(s))}function sD(s,r,i){for(const u of i)u instanceof tD?(s.Mo.addReference(u.key,r),V0(s,u)):u instanceof qS?(Re("SyncEngine","Document no longer in limbo: "+u.key),s.Mo.removeReference(u.key,r),s.Mo.containsKey(u.key)||KS(s,u.key)):Ze()}function V0(s,r){const i=r.key,u=i.path.canonicalString();s.Oo.get(i)||s.$o.has(u)||(Re("SyncEngine","New document in limbo: "+i),s.$o.add(u),U0(s))}function U0(s){for(;s.$o.size>0&&s.Oo.size<s.maxConcurrentLimboResolutions;){const r=s.$o.values().next().value;s.$o.delete(r);const i=new $e(Rt.fromString(r)),u=s.Uo.next();s.Fo.set(u,new bN(i)),s.Oo=s.Oo.insert(i,u),C0(s.remoteStore,new zo(li(Ho(i.path)),u,2,dr.T))}}function Ja(s,r,i){return oD.apply(this,arguments)}function oD(){return(oD=(0,me.Z)(function*(s,r,i){const u=ke(s),c=[],f=[],_=[];var b;u.xo.isEmpty()||(u.xo.forEach((b,T)=>{_.push(u.Ko(T,r,i).then(N=>{if(N){u.isPrimaryClient&&u.sharedClientState.updateQueryState(T.targetId,N.fromCache?"not-current":"current"),c.push(N);const M=Nl.kn(T.targetId,N);f.push(M)}}))}),yield Promise.all(_),u.No.Tr(c),yield(b=(0,me.Z)(function*(T,N){const M=ke(T);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>Ce.forEach(N,W=>Ce.forEach(W.Nn,K=>M.persistence.referenceDelegate.addReference(k,W.targetId,K)).next(()=>Ce.forEach(W.xn,K=>M.persistence.referenceDelegate.removeReference(k,W.targetId,K)))))}catch(k){if(!bl(k))throw k;Re("LocalStore","Failed to update sequence numbers: "+k)}for(const k of N){const W=k.targetId;if(!k.fromCache){const K=M.Un.get(W),Oe=K.withLastLimboFreeSnapshotVersion(K.snapshotVersion);M.Un=M.Un.insert(W,Oe)}}}),function(T,N){return b.apply(this,arguments)})(u.localStore,f))})).apply(this,arguments)}function YS(s,r){return aD.apply(this,arguments)}function aD(){return(aD=(0,me.Z)(function*(s,r){const i=ke(s);if(!i.currentUser.isEqual(r)){Re("SyncEngine","User change. New user:",r.toKey());const u=yield l0(i.localStore,r);i.currentUser=r,(c=i).Bo.forEach(_=>{_.forEach(b=>{b.reject(new De(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Bo.clear(),i.sharedClientState.handleUserChange(r,u.removedBatchIds,u.addedBatchIds),yield Ja(i,u.Wn)}var c})).apply(this,arguments)}function uD(s,r){const i=ke(s),u=i.Fo.get(r);if(u&&u.Co)return Mt().add(u.key);{let c=Mt();const f=i.ko.get(r);if(!f)return c;for(const _ of f){const b=i.xo.get(_);c=c.unionWith(b.view.To)}return c}}function QS(s,r){return lD.apply(this,arguments)}function lD(){return(lD=(0,me.Z)(function*(s,r){const i=ke(s),u=yield Ka(i.localStore,r.query,!0),c=r.view.So(u);return i.isPrimaryClient&&sD(i,r.targetId,c.vo),c})).apply(this,arguments)}function SN(s){return B0.apply(this,arguments)}function B0(){return(B0=(0,me.Z)(function*(s){const r=ke(s);return Gm(r.localStore).then(i=>Ja(r,i))})).apply(this,arguments)}function Wf(s,r,i,u){return j0.apply(this,arguments)}function j0(){return(j0=(0,me.Z)(function*(s,r,i,u){const c=ke(s),f=yield function(_,b){const T=ke(_),N=ke(T.In);return T.persistence.runTransaction("Lookup mutation documents","readonly",M=>N.Xt(M,b).next(k=>k?T.Qn.bn(M,k):Ce.resolve(null)))}(c.localStore,r);var b;null!==f?("pending"===i?yield Md(c.remoteStore):"acknowledged"===i||"rejected"===i?(Od(c,r,u||null),iD(c,r),b=r,ke(ke(c.localStore).In).te(b)):Ze(),yield Ja(c,f)):Re("SyncEngine","Cannot apply mutation batch with id: "+r)})).apply(this,arguments)}function H0(){return(H0=(0,me.Z)(function*(s,r){const i=ke(s);if(hy(i),fy(i),!0===r&&!0!==i.qo){const u=i.sharedClientState.getAllActiveQueryTargets(),c=yield dy(i,u.toArray());i.qo=!0,yield ZI(i.remoteStore,!0);for(const f of c)C0(i.remoteStore,f)}else if(!1===r&&!1!==i.qo){const u=[];let c=Promise.resolve();i.ko.forEach((f,_)=>{i.sharedClientState.isLocalQueryTarget(_)?u.push(_):c=c.then(()=>(Pd(i,_),Td(i.localStore,_,!0))),Nd(i.remoteStore,_)}),yield c,yield dy(i,u),function(f){const _=ke(f);_.Fo.forEach((b,T)=>{Nd(_.remoteStore,T)}),_.Mo.us(),_.Fo=new Map,_.Oo=new jn($e.comparator)}(i),i.qo=!1,yield ZI(i.remoteStore,!1)}})).apply(this,arguments)}function dy(s,r,i){return $0.apply(this,arguments)}function $0(){return($0=(0,me.Z)(function*(s,r,i){const u=ke(s),c=[],f=[];for(const _ of r){let b;const T=u.ko.get(_);if(T&&0!==T.length){b=yield Dd(u.localStore,li(T[0]));for(const N of T){const M=u.xo.get(N),k=yield QS(u,M);k.snapshot&&f.push(k.snapshot)}}else{const N=yield VI(u.localStore,_);b=yield Dd(u.localStore,N),yield qf(u,hi(N),_,!1)}c.push(b)}return u.No.Tr(f),c})).apply(this,arguments)}function hi(s){return zA(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function XS(s){const r=ke(s);return ke(ke(r.localStore).persistence).pn()}function G0(s,r,i,u){return q0.apply(this,arguments)}function q0(){return(q0=(0,me.Z)(function*(s,r,i,u){const c=ke(s);if(c.qo)Re("SyncEngine","Ignoring unexpected query state notification.");else if(c.ko.has(r))switch(i){case"current":case"not-current":{const f=yield Gm(c.localStore),_=qo.createSynthesizedRemoteEventForCurrentChange(r,"current"===i);yield Ja(c,f,_);break}case"rejected":yield Td(c.localStore,r,!0),Pd(c,r,u);break;default:Ze()}})).apply(this,arguments)}function ex(s,r,i){return zf.apply(this,arguments)}function zf(){return(zf=(0,me.Z)(function*(s,r,i){const u=hy(s);if(u.qo){for(const c of r){if(u.ko.has(c)){Re("SyncEngine","Adding an already active target "+c);continue}const f=yield VI(u.localStore,c),_=yield Dd(u.localStore,f);yield qf(u,hi(f),_.targetId,!1),C0(u.remoteStore,_)}for(const c of i)u.ko.has(c)&&(yield Td(u.localStore,c,!1).then(()=>{Nd(u.remoteStore,c),Pd(u,c)}).catch(Sl))}})).apply(this,arguments)}function hy(s){const r=ke(s);return r.remoteStore.remoteSyncer.applyRemoteEvent=k0.bind(null,r),r.remoteStore.remoteSyncer.getRemoteKeysForTarget=uD.bind(null,r),r.remoteStore.remoteSyncer.rejectListen=DN.bind(null,r),r.No.Tr=jS.bind(null,r.eventManager),r.No.jo=HS.bind(null,r.eventManager),r}function fy(s){const r=ke(s);return r.remoteStore.remoteSyncer.applySuccessfulWrite=ly.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=TN.bind(null,r),r}class Z0{constructor(){this.synchronizeTabs=!1}initialize(r){var i=this;return(0,me.Z)(function*(){i.N=Yo(r.databaseInfo.databaseId),i.sharedClientState=i.Wo(r),i.persistence=i.Go(r),yield i.persistence.start(),i.gcScheduler=i.zo(r),i.localStore=i.Ho(r)})()}zo(r){return null}Ho(r){return u0(this.persistence,new a0,r.initialUser,this.N)}Go(r){return new SS(Zm.Ns,this.N)}Wo(r){return new _0}terminate(){var r=this;return(0,me.Z)(function*(){r.gcScheduler&&r.gcScheduler.stop(),yield r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}class W0 extends Z0{constructor(r,i,u){super(),this.Jo=r,this.cacheSizeBytes=i,this.forceOwnership=u,this.synchronizeTabs=!1}initialize(r){var i=()=>super.initialize,u=this;return(0,me.Z)(function*(){yield i().call(u,r),yield function(s){return c0.apply(this,arguments)}(u.localStore),yield u.Jo.initialize(u,r),yield fy(u.Jo.syncEngine),yield Md(u.Jo.remoteStore),yield u.persistence.nn(()=>(u.gcScheduler&&!u.gcScheduler.started&&u.gcScheduler.start(u.localStore),Promise.resolve()))})()}Ho(r){return u0(this.persistence,new a0,r.initialUser,this.N)}zo(r){return new _S(this.persistence.referenceDelegate.garbageCollector,r.asyncQueue)}Go(r){const i=o0(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey),u=void 0!==this.cacheSizeBytes?Nr.withCacheSize(this.cacheSizeBytes):Nr.DEFAULT;return new s0(this.synchronizeTabs,i,r.clientId,u,r.asyncQueue,BI(),v0(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(r){return new _0}}class nx extends W0{constructor(r,i){super(r,i,!1),this.Jo=r,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(r){var i=()=>super.initialize,u=this;return(0,me.Z)(function*(){yield i().call(u,r);const c=u.Jo.syncEngine;u.sharedClientState instanceof y0&&(u.sharedClientState.syncEngine={_i:Wf.bind(null,c),mi:G0.bind(null,c),gi:ex.bind(null,c),pn:XS.bind(null,c),wi:SN.bind(null,c)},yield u.sharedClientState.start()),yield u.persistence.nn(function(){var f=(0,me.Z)(function*(_){yield function(s,r){return H0.apply(this,arguments)}(u.Jo.syncEngine,_),u.gcScheduler&&(_&&!u.gcScheduler.started?u.gcScheduler.start(u.localStore):_||u.gcScheduler.stop())});return function(_){return f.apply(this,arguments)}}())})()}Wo(r){const i=BI();if(!y0.Pt(i))throw new De(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const u=o0(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey);return new y0(i,r.asyncQueue,u,r.clientId,r.initialUser)}}class z0{initialize(r,i){var u=this;return(0,me.Z)(function*(){u.localStore||(u.localStore=r.localStore,u.sharedClientState=r.sharedClientState,u.datastore=u.createDatastore(i),u.remoteStore=u.createRemoteStore(i),u.eventManager=u.createEventManager(i),u.syncEngine=u.createSyncEngine(i,!r.synchronizeTabs),u.sharedClientState.onlineStateHandler=c=>F0(u.syncEngine,c,1),u.remoteStore.remoteSyncer.handleCredentialChange=YS.bind(null,u.syncEngine),yield ZI(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(r){return new EN}createDatastore(r){const i=Yo(r.databaseInfo.databaseId),u=new MS(r.databaseInfo);return new PS(r.credentials,u,i)}createRemoteStore(r){return i=this.localStore,u=this.datastore,c=r.asyncQueue,f=b=>F0(this.syncEngine,b,0),_=RS.Pt()?new RS:new NS,new w0(i,u,c,f,_);var i,u,c,f,_}createSyncEngine(r,i){return function(u,c,f,_,b,T,N){const M=new WS(u,c,f,_,b,T);return N&&(M.qo=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,i)}terminate(){return(r=(0,me.Z)(function*(i){const u=ke(i);Re("RemoteStore","RemoteStore shutting down."),u.Kr.add(5),yield Qo(u),u.Qr.shutdown(),u.Wr.set("Unknown")}),function(i){return r.apply(this,arguments)})(this.remoteStore);var r}}function py(s,r=10240){let i=0;return{read:()=>(0,me.Z)(function*(){if(i<s.byteLength){const u={value:s.slice(i,i+r),done:!1};return i+=r,u}return{done:!0}})(),cancel:()=>(0,me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Kf{constructor(r){this.observer=r,this.muted=!1}next(r){this.observer.next&&this.Yo(this.observer.next,r)}error(r){this.observer.error?this.Yo(this.observer.error,r):console.error("Uncaught Error in snapshot listener:",r)}Xo(){this.muted=!0}Yo(r,i){this.muted||setTimeout(()=>{this.muted||r(i)},0)}}class cD{constructor(r,i){this.Zo=r,this.N=i,this.metadata=new cr,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(u=>{u&&u.ho()?this.metadata.resolve(u.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==u?void 0:u.payload)}`))},u=>this.metadata.reject(u))}close(){return this.Zo.cancel()}getMetadata(){var r=this;return(0,me.Z)(function*(){return r.metadata.promise})()}Qo(){var r=this;return(0,me.Z)(function*(){return yield r.getMetadata(),r.ea()})()}ea(){var r=this;return(0,me.Z)(function*(){const i=yield r.na();if(null===i)return null;const u=r.ta.decode(i),c=Number(u);isNaN(c)&&r.sa(`length string (${u}) is not valid number`);const f=yield r.ia(c);return new wN(JSON.parse(f),i.length+c)})()}ra(){return this.buffer.findIndex(r=>r==="{".charCodeAt(0))}na(){var r=this;return(0,me.Z)(function*(){for(;r.ra()<0&&!(yield r.oa()););if(0===r.buffer.length)return null;const i=r.ra();i<0&&r.sa("Reached the end of bundle when a length string is expected.");const u=r.buffer.slice(0,i);return r.buffer=r.buffer.slice(i),u})()}ia(r){var i=this;return(0,me.Z)(function*(){for(;i.buffer.length<r;)(yield i.oa())&&i.sa("Reached the end of bundle when more is expected.");const u=i.ta.decode(i.buffer.slice(0,r));return i.buffer=i.buffer.slice(r),u})()}sa(r){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${r}`)}oa(){var r=this;return(0,me.Z)(function*(){const i=yield r.Zo.read();if(!i.done){const u=new Uint8Array(r.buffer.length+i.value.length);u.set(r.buffer),u.set(i.value,r.buffer.length),r.buffer=u}return i.done})()}}class K0{constructor(r){this.datastore=r,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(r){var i=this;return(0,me.Z)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw new De(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const u=yield(c=(0,me.Z)(function*(f,_){const b=ke(f),T=yl(b.N)+"/documents",N={documents:_.map(K=>qr(b.N,K))},M=yield b.Ki("BatchGetDocuments",T,N),k=new Map;M.forEach(K=>{const _e=function(s,r){return"found"in r?function(i,u){Je(!!u.found);const c=fs(i,u.found.name),f=Yn(u.found.updateTime),_=new zn({mapValue:{fields:u.found.fields}});return nn.newFoundDocument(c,f,_)}(s,r):"missing"in r?function(i,u){Je(!!u.missing),Je(!!u.readTime);const c=fs(i,u.missing),f=Yn(u.readTime);return nn.newNoDocument(c,f)}(s,r):Ze()}(b.N,K);k.set(_e.key.toString(),_e)});const W=[];return _.forEach(K=>{const _e=k.get(K.toString());Je(!!_e),W.push(_e)}),W}),function(f,_){return c.apply(this,arguments)})(i.datastore,r);var c;return u.forEach(c=>i.recordVersion(c)),u})()}set(r,i){this.write(i.toMutation(r,this.precondition(r))),this.writtenDocs.add(r.toString())}update(r,i){try{this.write(i.toMutation(r,this.preconditionForUpdate(r)))}catch(u){this.lastWriteError=u}this.writtenDocs.add(r.toString())}delete(r){this.write(new $a(r,this.precondition(r))),this.writtenDocs.add(r.toString())}commit(){var r=this;return(0,me.Z)(function*(){if(r.ensureCommitNotCalled(),r.lastWriteError)throw r.lastWriteError;const i=r.readVersions;var u;r.mutations.forEach(u=>{i.delete(u.key.toString())}),i.forEach((u,c)=>{const f=$e.fromPath(c);r.mutations.push(new Go(f,r.precondition(f)))}),yield(u=(0,me.Z)(function*(c,f){const _=ke(c),b=yl(_.N)+"/documents",T={writes:f.map(N=>Mf(_.N,N))};yield _.Li("Commit",b,T)}),function(c,f){return u.apply(this,arguments)})(r.datastore,r.mutations),r.committed=!0})()}recordVersion(r){let i;if(r.isFoundDocument())i=r.version;else{if(!r.isNoDocument())throw Ze();i=ht.min()}const u=this.readVersions.get(r.key.toString());if(u){if(!i.isEqual(u))throw new De(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(r.key.toString(),i)}precondition(r){const i=this.readVersions.get(r.toString());return!this.writtenDocs.has(r.toString())&&i?Fn.updateTime(i):Fn.none()}preconditionForUpdate(r){const i=this.readVersions.get(r.toString());if(!this.writtenDocs.has(r.toString())&&i){if(i.isEqual(ht.min()))throw new De(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fn.updateTime(i)}return Fn.exists(!0)}write(r){this.ensureCommitNotCalled(),this.mutations.push(r)}ensureCommitNotCalled(){}}class rx{constructor(r,i,u,c){this.asyncQueue=r,this.datastore=i,this.updateFunction=u,this.deferred=c,this.aa=5,this.rr=new E0(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var r=this;this.rr.Xi((0,me.Z)(function*(){const i=new K0(r.datastore),u=r.ua(i);u&&u.then(c=>{r.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{r.deferred.resolve(c)}).catch(f=>{r.ha(f)}))}).catch(c=>{r.ha(c)})}))}ua(r){try{const i=this.updateFunction(r);return!cl(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}ha(r){this.aa>0&&this.la(r)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(r)}la(r){if("FirebaseError"===r.name){const i=r.code;return"aborted"===i||"failed-precondition"===i||!aI(i)}return!1}}class gs{constructor(r,i,u){var c=this;this.credentials=r,this.asyncQueue=i,this.databaseInfo=u,this.user=lr.UNAUTHENTICATED,this.clientId=Fb.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(i,function(){var f=(0,me.Z)(function*(_){Re("FirestoreClient","Received user=",_.uid),yield c.credentialListener(_),c.user=_});return function(_){return f.apply(this,arguments)}}())}getConfiguration(){var r=this;return(0,me.Z)(function*(){return{asyncQueue:r.asyncQueue,databaseInfo:r.databaseInfo,clientId:r.clientId,credentials:r.credentials,initialUser:r.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(r){this.credentialListener=r}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new De(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var r=this;this.asyncQueue.enterRestrictedMode();const i=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{r.onlineComponents&&(yield r.onlineComponents.terminate()),r.offlineComponents&&(yield r.offlineComponents.terminate()),r.credentials.shutdown(),i.resolve()}catch(u){const c=Hf(u,"Failed to shutdown persistence");i.reject(c)}})),i.promise}}function dD(s,r){return hD.apply(this,arguments)}function hD(){return(hD=(0,me.Z)(function*(s,r){s.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const i=yield s.getConfiguration();yield r.initialize(i);let u=i.initialUser;s.setCredentialChangeListener(function(){var c=(0,me.Z)(function*(f){u.isEqual(f)||(yield l0(r.localStore,f),u=f)});return function(f){return c.apply(this,arguments)}}()),r.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=r})).apply(this,arguments)}function fD(s,r){return pD.apply(this,arguments)}function pD(){return(pD=(0,me.Z)(function*(s,r){s.asyncQueue.verifyOperationInProgress();const i=yield Y0(s);Re("FirestoreClient","Initializing OnlineComponentProvider");const u=yield s.getConfiguration();yield r.initialize(i,u),s.setCredentialChangeListener(c=>{return(f=(0,me.Z)(function*(_,b){const T=ke(_);T.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const N=Ya(T);T.Kr.add(3),yield Qo(T),N&&T.Wr.set("Unknown"),yield T.remoteSyncer.handleCredentialChange(b),T.Kr.delete(3),yield xd(T)}),function(_,b){return f.apply(this,arguments)})(r.remoteStore,c);var f}),s.onlineComponents=r})).apply(this,arguments)}function Y0(s){return Q0.apply(this,arguments)}function Q0(){return(Q0=(0,me.Z)(function*(s){return s.offlineComponents||(Re("FirestoreClient","Using default OfflineComponentProvider"),yield dD(s,new Z0)),s.offlineComponents})).apply(this,arguments)}function gy(s){return gD.apply(this,arguments)}function gD(){return(gD=(0,me.Z)(function*(s){return s.onlineComponents||(Re("FirestoreClient","Using default OnlineComponentProvider"),yield fD(s,new z0)),s.onlineComponents})).apply(this,arguments)}function mD(s){return Y0(s).then(r=>r.persistence)}function my(s){return Y0(s).then(r=>r.localStore)}function yD(s){return gy(s).then(r=>r.remoteStore)}function J0(s){return gy(s).then(r=>r.syncEngine)}function Ol(s){return X0.apply(this,arguments)}function X0(){return(X0=(0,me.Z)(function*(s){const r=yield gy(s),i=r.eventManager;return i.onListen=IN.bind(null,r.syncEngine),i.onUnlisten=nD.bind(null,r.syncEngine),i})).apply(this,arguments)}function ED(s,r,i={}){const u=new cr;return s.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(c,f,_,b,T){const N=new Kf({next:k=>{f.enqueueAndForget(()=>QI(c,M));const W=k.docs.has(_);!W&&k.fromCache?T.reject(new De(de.UNAVAILABLE,"Failed to get document because the client is offline.")):W&&k.fromCache&&b&&"server"===b.source?T.reject(new De(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):T.resolve(k)},error:k=>T.reject(k)}),M=new XI(Ho(_.path),N,{includeMetadataChanges:!0,uo:!0});return KI(c,M)}(yield Ol(s),s.asyncQueue,r,i,u)})),u.promise}function ew(s,r,i={}){const u=new cr;return s.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(c,f,_,b,T){const N=new Kf({next:k=>{f.enqueueAndForget(()=>QI(c,M)),k.fromCache&&"server"===b.source?T.reject(new De(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):T.resolve(k)},error:k=>T.reject(k)}),M=new XI(_,N,{includeMetadataChanges:!0,uo:!0});return KI(c,M)}(yield Ol(s),s.asyncQueue,r,i,u)})),u.promise}class ox{constructor(r,i,u,c,f,_,b,T){this.databaseId=r,this.appId=i,this.persistenceKey=u,this.host=c,this.ssl=f,this.forceLongPolling=_,this.autoDetectLongPolling=b,this.useFetchStreams=T}}class Qf{constructor(r,i){this.projectId=r,this.database=i||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(r){return r instanceof Qf&&r.projectId===this.projectId&&r.database===this.database}}const ax=new Map;function CD(s,r,i){if(!i)throw new De(de.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${r}.`)}function nw(s,r,i,u){if(!0===r&&!0===u)throw new De(de.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function rw(s){if(!$e.isDocumentKey(s))throw new De(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function bD(s){if($e.isDocumentKey(s))throw new De(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function yy(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const r=function(i){if(i.constructor){const u=/function\s+([^\s(]+)\s*\(/.exec(i.constructor.toString());if(u&&u.length>1)return u[1]}return null}(s);return r?`a custom ${r} object`:"an object"}}return"function"==typeof s?"a function":Ze()}function xt(s,r){if("_delegate"in s&&(s=s._delegate),!(s instanceof r)){if(r.name===s.constructor.name)throw new De(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=yy(s);throw new De(de.INVALID_ARGUMENT,`Expected type '${r.name}', but it was: ${i}`)}}return s}function ID(s,r){if(r<=0)throw new De(de.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${r}.`)}class iw{constructor(r){var i;if(void 0===r.host){if(void 0!==r.ssl)throw new De(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=r.host,this.ssl=null===(i=r.ssl)||void 0===i||i;if(this.credentials=r.credentials,this.ignoreUndefinedProperties=!!r.ignoreUndefinedProperties,void 0===r.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==r.cacheSizeBytes&&r.cacheSizeBytes<1048576)throw new De(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=r.cacheSizeBytes}this.experimentalForceLongPolling=!!r.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!r.experimentalAutoDetectLongPolling,this.useFetchStreams=!!r.useFetchStreams,nw("experimentalForceLongPolling",r.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",r.experimentalAutoDetectLongPolling)}isEqual(r){return this.host===r.host&&this.ssl===r.ssl&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties&&this.useFetchStreams===r.useFetchStreams}}class _y{constructor(r,i){this._credentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iw({}),this._settingsFrozen=!1,r instanceof Qf?this._databaseId=r:(this._app=r,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new De(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qf(u.options.projectId)}(r))}get app(){if(!this._app)throw new De(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(r){if(this._settingsFrozen)throw new De(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iw(r),void 0!==r.credentials&&(this._credentials=function(i){if(!i)return new Pb;switch(i.type){case"gapi":const u=i.client;return Je(!("object"!=typeof u||null===u||!u.auth||!u.auth.getAuthHeaderValueForFirstParty)),new kb(u,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new De(de.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(r.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const i=ax.get(r);i&&(Re("ComponentProvider","Removing Datastore"),ax.delete(r),i.terminate())}(this),Promise.resolve()}}class sn{constructor(r,i,u){this.converter=i,this._key=u,this.type="document",this.firestore=r}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gt(this.firestore,this.converter,this._key.path.popLast())}withConverter(r){return new sn(this.firestore,r,this._key)}}class Xn{constructor(r,i,u){this.converter=i,this._query=u,this.type="query",this.firestore=r}withConverter(r){return new Xn(this.firestore,r,this._query)}}class Gt extends Xn{constructor(r,i,u){super(r,i,Ho(u)),this._path=u,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const r=this._path.popLast();return r.isEmpty()?null:new sn(this.firestore,null,new $e(r))}withConverter(r){return new Gt(this.firestore,r,this._path)}}function ux(s,r,...i){if(s=(0,Pt.m9)(s),CD("collection","path",r),s instanceof _y){const u=Rt.fromString(r,...i);return bD(u),new Gt(s,null,u)}{if(!(s instanceof sn||s instanceof Gt))throw new De(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const u=Rt.fromString(s.path,...i).child(Rt.fromString(r));return bD(u),new Gt(s.firestore,null,u)}}function Jf(s,r,...i){if(s=(0,Pt.m9)(s),1===arguments.length&&(r=Fb.I()),CD("doc","path",r),s instanceof _y){const u=Rt.fromString(r,...i);return rw(u),new sn(s,null,new $e(u))}{if(!(s instanceof sn||s instanceof Gt))throw new De(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const u=s._path.child(Rt.fromString(r,...i));return rw(u),new sn(s.firestore,s instanceof Gt?s.converter:null,new $e(u))}}function TD(s,r){return s=(0,Pt.m9)(s),r=(0,Pt.m9)(r),(s instanceof sn||s instanceof Gt)&&(r instanceof sn||r instanceof Gt)&&s.firestore===r.firestore&&s.path===r.path&&s.converter===r.converter}function Xf(s,r){return s=(0,Pt.m9)(s),r=(0,Pt.m9)(r),s instanceof Xn&&r instanceof Xn&&s.firestore===r.firestore&&fl(s._query,r._query)&&s.converter===r.converter}class lx{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new E0(this,"async_queue_retry"),this.Ea=()=>{const i=v0();i&&Re("AsyncQueue","Visibility state changed to "+i.visibilityState),this.rr.tr()};const r=v0();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(r){this.enqueue(r)}enqueueAndForgetEvenWhileRestricted(r){this.Ta(),this.Ia(r)}enterRestrictedMode(r){if(!this.wa){this.wa=!0,this.ya=r||!1;const i=v0();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Ea)}}enqueue(r){if(this.Ta(),this.wa)return new Promise(()=>{});const i=new cr;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(r().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(r){this.enqueueAndForget(()=>(this.da.push(r),this.Aa()))}Aa(){var r=this;return(0,me.Z)(function*(){if(0!==r.da.length){try{yield r.da[0](),r.da.shift(),r.rr.reset()}catch(i){if(!bl(i))throw i;Re("AsyncQueue","Operation failed with retryable error: "+i)}r.da.length>0&&r.rr.Xi(()=>r.Aa())}})()}Ia(r){const i=this.fa.then(()=>(this.ga=!0,r().catch(u=>{throw this.ma=u,this.ga=!1,Tn("INTERNAL UNHANDLED ERROR: ",function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f}(u)),u}).then(u=>(this.ga=!1,u))));return this.fa=i,i}enqueueAfterDelay(r,i,u){this.Ta(),this.pa.indexOf(r)>-1&&(i=0);const c=zI.createAndSchedule(this,r,i,u,f=>this.Ra(f));return this._a.push(c),c}Ta(){this.ma&&Ze()}verifyOperationInProgress(){}Pa(){var r=this;return(0,me.Z)(function*(){let i;do{i=r.fa,yield i}while(i!==r.fa)})()}ba(r){for(const i of this._a)if(i.timerId===r)return!0;return!1}va(r){return this.Pa().then(()=>{this._a.sort((i,u)=>i.targetTimeMs-u.targetTimeMs);for(const i of this._a)if(i.skipDelay(),"all"!==r&&i.timerId===r)break;return this.Pa()})}Va(r){this.pa.push(r)}Ra(r){const i=this._a.indexOf(r);this._a.splice(i,1)}}function sw(s){return function(r,i){if("object"!=typeof r||null===r)return!1;const u=r;for(const c of["next","error","complete"])if(c in u&&"function"==typeof u[c])return!0;return!1}(s)}class AD{constructor(){this._progressObserver={},this._taskCompletionResolver=new cr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(r,i,u){this._progressObserver={next:r,error:i,complete:u}}catch(r){return this._taskCompletionResolver.promise.catch(r)}then(r,i){return this._taskCompletionResolver.promise.then(r,i)}_completeWith(r){this._updateProgress(r),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(r)}_failWith(r){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(r),this._taskCompletionResolver.reject(r)}_updateProgress(r){this._lastProgress=r,this._progressObserver.next&&this._progressObserver.next(r)}}class _n extends _y{constructor(r,i){super(r,i),this.type="firestore",this._queue=new lx,this._persistenceKey="name"in r?r.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||ep(this),this._firestoreClient.terminate()}}function $n(s){return s._firestoreClient||ep(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function ep(s){var r;const i=s._freezeSettings(),u=(f=(null===(r=s._app)||void 0===r?void 0:r.options.appId)||"",new ox(s._databaseId,f,s._persistenceKey,(b=i).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams));var f,b;s._firestoreClient=new gs(s._credentials,s._queue,u)}function aw(s,r,i){const u=new cr;return s.asyncQueue.enqueue((0,me.Z)(function*(){try{yield dD(s,i),yield fD(s,r),u.resolve()}catch(c){if(!("FirebaseError"===(f=c).name?f.code===de.FAILED_PRECONDITION||f.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&f instanceof DOMException)||22===f.code||20===f.code||11===f.code))throw c;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),u.reject(c)}var f})).then(()=>u.promise)}function px(s){if(s._initialized||s._terminated)throw new De(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Xa{constructor(...r){for(let i=0;i<r.length;++i)if(0===r[i].length)throw new De(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hr(r)}isEqual(r){return this._internalPath.isEqual(r._internalPath)}}class lo{constructor(r){this._byteString=r}static fromBase64String(r){try{return new lo(kn.fromBase64String(r))}catch(i){throw new De(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(r){return new lo(kn.fromUint8Array(r))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(r){return this._byteString.isEqual(r._byteString)}}class kl{constructor(r){this._methodName=r}}class Ey{constructor(r,i){if(!isFinite(r)||r<-90||r>90)throw new De(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+r);if(!isFinite(i)||i<-180||i>180)throw new De(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=r,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(r){return this._lat===r._lat&&this._long===r._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(r){return wt(this._lat,r._lat)||wt(this._long,r._long)}}const gx=/^__.*__$/;class mx{constructor(r,i,u){this.data=r,this.fieldMask=i,this.fieldTransforms=u}toMutation(r,i){return null!==this.fieldMask?new Hi(r,this.data,this.fieldMask,i,this.fieldTransforms):new Nf(r,this.data,i,this.fieldTransforms)}}class yx{constructor(r,i,u){this.data=r,this.fieldMask=i,this.fieldTransforms=u}toMutation(r,i){return new Hi(r,this.data,this.fieldMask,i,this.fieldTransforms)}}function ND(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze()}}class wy{constructor(r,i,u,c,f,_){this.settings=r,this.databaseId=i,this.N=u,this.ignoreUndefinedProperties=c,void 0===f&&this.Sa(),this.fieldTransforms=f||[],this.fieldMask=_||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(r){return new wy(Object.assign(Object.assign({},this.settings),r),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(r){var i;const u=null===(i=this.path)||void 0===i?void 0:i.child(r),c=this.Ca({path:u,xa:!1});return c.ka(r),c}$a(r){var i;const u=null===(i=this.path)||void 0===i?void 0:i.child(r),c=this.Ca({path:u,xa:!1});return c.Sa(),c}Oa(r){return this.Ca({path:void 0,xa:!0})}Fa(r){return pw(r,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(r){return void 0!==this.fieldMask.find(i=>r.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>r.isPrefixOf(i.field))}Sa(){if(this.path)for(let r=0;r<this.path.length;r++)this.ka(this.path.get(r))}ka(r){if(0===r.length)throw this.Fa("Document fields must not be empty");if(ND(this.Da)&&gx.test(r))throw this.Fa('Document fields cannot begin and end with "__"')}}class _x{constructor(r,i,u){this.databaseId=r,this.ignoreUndefinedProperties=i,this.N=u||Yo(r)}Ba(r,i,u,c=!1){return new wy({Da:r,methodName:i,La:u,path:hr.emptyPath(),xa:!1,Ma:c},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function kd(s){const r=s._freezeSettings(),i=Yo(s._databaseId);return new _x(s._databaseId,!!r.ignoreUndefinedProperties,i)}function uw(s,r,i,u,c,f={}){const _=s.Ba(f.merge||f.mergeFields?2:0,r,i,c);hw("Data must be an object, but it was:",_,u);const b=wx(u,_);let T,N;if(f.merge)T=new ul(_.fieldMask),N=_.fieldTransforms;else if(f.mergeFields){const M=[];for(const k of f.mergeFields){const W=fw(r,k,i);if(!_.contains(W))throw new De(de.INVALID_ARGUMENT,`Field '${W}' is specified in your field mask but missing from your input data.`);PD(M,W)||M.push(W)}T=new ul(M),N=_.fieldTransforms.filter(k=>T.covers(k.field))}else T=null,N=_.fieldTransforms;return new mx(new zn(b),T,N)}class tp extends kl{_toFieldTransform(r){if(2!==r.Da)throw r.Fa(1===r.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return r.fieldMask.push(r.path),null}isEqual(r){return r instanceof tp}}function RD(s,r,i){return new wy({Da:3,La:r.settings.La,methodName:s._methodName,xa:i},r.databaseId,r.N,r.ignoreUndefinedProperties)}class lw extends kl{_toFieldTransform(r){return new Sm(r.path,new $o)}isEqual(r){return r instanceof lw}}class vx extends kl{constructor(r,i){super(r),this.Ua=i}_toFieldTransform(r){const i=RD(this,r,!0),u=this.Ua.map(f=>Fl(f,i)),c=new pl(u);return new Sm(r.path,c)}isEqual(r){return this===r}}class Ex extends kl{constructor(r,i){super(r),this.Ua=i}_toFieldTransform(r){const i=RD(this,r,!0),u=this.Ua.map(f=>Fl(f,i)),c=new ro(u);return new Sm(r.path,c)}isEqual(r){return this===r}}class ms extends kl{constructor(r,i){super(r),this.qa=i}_toFieldTransform(r){const i=new io(r.N,FE(r.N,this.qa));return new Sm(r.path,i)}isEqual(r){return this===r}}function cw(s,r,i,u){const c=s.Ba(1,r,i);hw("Data must be an object, but it was:",c,u);const f=[],_=zn.empty();ji(u,(T,N)=>{const M=Cy(r,T,i);N=(0,Pt.m9)(N);const k=c.$a(M);if(N instanceof tp)f.push(M);else{const W=Fl(N,k);null!=W&&(f.push(M),_.set(M,W))}});const b=new ul(f);return new yx(_,b,c.fieldTransforms)}function dw(s,r,i,u,c,f){const _=s.Ba(1,r,i),b=[fw(r,u,i)],T=[c];if(f.length%2!=0)throw new De(de.INVALID_ARGUMENT,`Function ${r}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let W=0;W<f.length;W+=2)b.push(fw(r,f[W])),T.push(f[W+1]);const N=[],M=zn.empty();for(let W=b.length-1;W>=0;--W)if(!PD(N,b[W])){const K=b[W];let _e=T[W];_e=(0,Pt.m9)(_e);const Oe=_.$a(K);if(_e instanceof tp)N.push(K);else{const Le=Fl(_e,Oe);null!=Le&&(N.push(K),M.set(K,Le))}}const k=new ul(N);return new yx(M,k,_.fieldTransforms)}function MD(s,r,i,u=!1){return Fl(i,s.Ba(u?4:3,r))}function Fl(s,r){if(OD(s=(0,Pt.m9)(s)))return hw("Unsupported field value:",r,s),wx(s,r);if(s instanceof kl)return function(i,u){if(!ND(u.Da))throw u.Fa(`${i._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Fa(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(u);c&&u.fieldTransforms.push(c)}(s,r),null;if(void 0===s&&r.ignoreUndefinedProperties)return null;if(r.path&&r.fieldMask.push(r.path),s instanceof Array){if(r.settings.xa&&4!==r.Da)throw r.Fa("Nested arrays are not supported");return function(i,u){const c=[];let f=0;for(const _ of i){let b=Fl(_,u.Oa(f));null==b&&(b={nullValue:"NULL_VALUE"}),c.push(b),f++}return{arrayValue:{values:c}}}(s,r)}return function(i,u){if(null===(i=(0,Pt.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return FE(u.N,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const c=Bn.fromDate(i);return{timestampValue:yd(u.N,c)}}if(i instanceof Bn){const c=new Bn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:yd(u.N,c)}}if(i instanceof Ey)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof lo)return{bytesValue:sS(u.N,i._byteString)};if(i instanceof sn){const c=u.databaseId,f=i.firestore._databaseId;if(!f.isEqual(c))throw u.Fa(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ci(i.firestore._databaseId||u.databaseId,i._key.path)}}throw u.Fa(`Unsupported field value: ${yy(i)}`)}(s,r)}function wx(s,r){const i={};return Ub(s)?r.path&&r.path.length>0&&r.fieldMask.push(r.path):ji(s,(u,c)=>{const f=Fl(c,r.Na(u));null!=f&&(i[u]=f)}),{mapValue:{fields:i}}}function OD(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof Bn||s instanceof Ey||s instanceof lo||s instanceof sn||s instanceof kl)}function hw(s,r,i){if(!OD(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const u=yy(i);throw r.Fa("an object"===u?s+" a custom object":s+" "+u)}var u}function fw(s,r,i){if((r=(0,Pt.m9)(r))instanceof Xa)return r._internalPath;if("string"==typeof r)return Cy(s,r);throw pw("Field path arguments must be of type string or FieldPath.",s,!1,void 0,i)}const np=new RegExp("[~\\*/\\[\\]]");function Cy(s,r,i){if(r.search(np)>=0)throw pw(`Invalid field path (${r}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Xa(...r.split("."))._internalPath}catch(u){throw pw(`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function pw(s,r,i,u,c){const f=u&&!u.isEmpty(),_=void 0!==c;let b=`Function ${r}() called with invalid data`;i&&(b+=" (via `toFirestore()`)"),b+=". ";let T="";return(f||_)&&(T+=" (found",f&&(T+=` in field ${u}`),_&&(T+=` in document ${c}`),T+=")"),new De(de.INVALID_ARGUMENT,b+s+T)}function PD(s,r){return s.some(i=>i.isEqual(r))}class by{constructor(r,i,u,c,f){this._firestore=r,this._userDataWriter=i,this._key=u,this._document=c,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const r=new MN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(r)}return this._userDataWriter.convertValue(this._document.data.value)}}get(r){if(this._document){const i=this._document.data.field(gw("DocumentSnapshot.get",r));if(null!==i)return this._userDataWriter.convertValue(i)}}}class MN extends by{data(){return super.data()}}function gw(s,r){return"string"==typeof r?Cy(s,r):r instanceof Xa?r._internalPath:r._delegate._internalPath}class Jo{constructor(r,i){this.hasPendingWrites=r,this.fromCache=i}isEqual(r){return this.hasPendingWrites===r.hasPendingWrites&&this.fromCache===r.fromCache}}class Xo extends by{constructor(r,i,u,c,f,_){super(r,i,u,c,_),this._firestore=r,this._firestoreImpl=r,this.metadata=f}exists(){return super.exists()}data(r={}){if(this._document){if(this._converter){const i=new rp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,r)}return this._userDataWriter.convertValue(this._document.data.value,r.serverTimestamps)}}get(r,i={}){if(this._document){const u=this._document.data.field(gw("DocumentSnapshot.get",r));if(null!==u)return this._userDataWriter.convertValue(u,i.serverTimestamps)}}}class rp extends Xo{data(r={}){return super.data(r)}}class eu{constructor(r,i,u,c){this._firestore=r,this._userDataWriter=i,this._snapshot=c,this.metadata=new Jo(c.hasPendingWrites,c.fromCache),this.query=u}get docs(){const r=[];return this.forEach(i=>r.push(i)),r}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(r,i){this._snapshot.docs.forEach(u=>{r.call(i,new rp(this._firestore,this._userDataWriter,u.key,u,new Jo(this._snapshot.mutatedKeys.has(u.key),this._snapshot.fromCache),this.query.converter))})}docChanges(r={}){const i=!!r.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new De(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,c){if(u._snapshot.oldDocs.isEmpty()){let f=0;return u._snapshot.docChanges.map(_=>({type:"added",doc:new rp(u._firestore,u._userDataWriter,_.doc.key,_.doc,new Jo(u._snapshot.mutatedKeys.has(_.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:f++}))}{let f=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(_=>c||3!==_.type).map(_=>{const b=new rp(u._firestore,u._userDataWriter,_.doc.key,_.doc,new Jo(u._snapshot.mutatedKeys.has(_.doc.key),u._snapshot.fromCache),u.query.converter);let T=-1,N=-1;return 0!==_.type&&(T=f.indexOf(_.doc.key),f=f.delete(_.doc.key)),1!==_.type&&(f=f.add(_.doc),N=f.indexOf(_.doc.key)),{type:ON(_.type),doc:b,oldIndex:T,newIndex:N}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function ON(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze()}}function kD(s,r){return s instanceof Xo&&r instanceof Xo?s._firestore===r._firestore&&s._key.isEqual(r._key)&&(null===s._document?null===r._document:s._document.isEqual(r._document))&&s._converter===r._converter:s instanceof eu&&r instanceof eu&&s._firestore===r._firestore&&Xf(s.query,r.query)&&s.metadata.isEqual(r.metadata)&&s._snapshot.isEqual(r._snapshot)}function FD(s){if(Tm(s)&&0===s.explicitOrderBy.length)throw new De(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ip{}function tr(s,...r){for(const i of r)s=i._apply(s);return s}class PN extends ip{constructor(r,i,u){super(),this.Ka=r,this.ja=i,this.Qa=u,this.type="where"}_apply(r){const i=kd(r.firestore),u=function(c,f,_,b,T,N,M){let k;if(T.isKeyField()){if("array-contains"===N||"array-contains-any"===N)throw new De(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${N}' queries on FieldPath.documentId().`);if("in"===N||"not-in"===N){vw(M,N);const K=[];for(const _e of M)K.push($D(b,c,_e));k={arrayValue:{values:K}}}else k=$D(b,c,M)}else"in"!==N&&"not-in"!==N&&"array-contains-any"!==N||vw(M,N),k=MD(_,"where",M,"in"===N||"not-in"===N);const W=Gr.create(T,N,k);return function(K,_e){if(_e.v()){const Le=NE(K);if(null!==Le&&!Le.isEqual(_e.field))throw new De(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Le.toString()}' and '${_e.field.toString()}'`);const yt=Qb(K);null!==yt&&GD(0,_e.field,yt)}const Oe=function(Le,yt){for(const It of Le.filters)if(yt.indexOf(It.op)>=0)return It.op;return null}(K,function(Le){switch(Le){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(_e.op));if(null!==Oe)throw new De(de.INVALID_ARGUMENT,Oe===_e.op?`Invalid query. You cannot use more than one '${_e.op.toString()}' filter.`:`Invalid query. You cannot use '${_e.op.toString()}' filters with '${Oe.toString()}' filters.`)}(c,W),W}(r._query,0,i,r.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Xn(r.firestore,r.converter,function(c,f){const _=c.filters.concat([f]);return new no(c.path,c.collectionGroup,c.explicitOrderBy.slice(),_,c.limit,c.limitType,c.startAt,c.endAt)}(r._query,u))}}class Cx extends ip{constructor(r,i){super(),this.Ka=r,this.Wa=i,this.type="orderBy"}_apply(r){const i=function(u,c,f){if(null!==u.startAt)throw new De(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new De(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const _=new pd(c,f);return function(b,T){if(null===Qb(b)){const N=NE(b);null!==N&&GD(0,N,T.field)}}(u,_),_}(r._query,this.Ka,this.Wa);return new Xn(r.firestore,r.converter,function(u,c){const f=u.explicitOrderBy.concat([c]);return new no(u.path,u.collectionGroup,f,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(r._query,i))}}class mw extends ip{constructor(r,i,u){super(),this.type=r,this.Ga=i,this.za=u}_apply(r){return new Xn(r.firestore,r.converter,ME(r._query,this.Ga,this.za))}}class Iy extends ip{constructor(r,i,u){super(),this.type=r,this.Ha=i,this.Ja=u}_apply(r){const i=HD(r,this.type,this.Ha,this.Ja);return new Xn(r.firestore,r.converter,(c=i,new no((u=r._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,c,u.endAt)));var u,c}}class sp extends ip{constructor(r,i,u){super(),this.type=r,this.Ha=i,this.Ja=u}_apply(r){const i=HD(r,this.type,this.Ha,this.Ja);return new Xn(r.firestore,r.converter,(c=i,new no((u=r._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,c)));var u,c}}function HD(s,r,i,u){if(i[0]=(0,Pt.m9)(i[0]),i[0]instanceof by)return function(c,f,_,b,T){if(!b)throw new De(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${_}().`);const N=[];for(const M of gd(c))if(M.field.isKeyField())N.push(bf(f,b.key));else{const k=b.data.field(M.field);if(CE(k))throw new De(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const W=M.field.canonicalString();throw new De(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${W}' (used as the orderBy) does not exist.`)}N.push(k)}return new Af(N,T)}(s._query,s.firestore._databaseId,r,i[0]._document,u);{const c=kd(s.firestore);return function(f,_,b,T,N,M){const k=f.explicitOrderBy;if(N.length>k.length)throw new De(de.INVALID_ARGUMENT,`Too many arguments provided to ${T}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const W=[];for(let K=0;K<N.length;K++){const _e=N[K];if(k[K].field.isKeyField()){if("string"!=typeof _e)throw new De(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${T}(), but got a ${typeof _e}`);if(!RE(f)&&-1!==_e.indexOf("/"))throw new De(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${T}() must be a plain document ID, but '${_e}' contains a slash.`);const Oe=f.path.child(Rt.fromString(_e));if(!$e.isDocumentKey(Oe))throw new De(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${T}() must result in a valid document path, but '${Oe}' is not because it contains an odd number of segments.`);const Le=new $e(Oe);W.push(bf(_,Le))}else{const Oe=MD(b,T,_e);W.push(Oe)}}return new Af(W,M)}(s._query,s.firestore._databaseId,c,r,i,u)}}function $D(s,r,i){if("string"==typeof(i=(0,Pt.m9)(i))){if(""===i)throw new De(de.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!RE(r)&&-1!==i.indexOf("/"))throw new De(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const u=r.path.child(Rt.fromString(i));if(!$e.isDocumentKey(u))throw new De(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${u}' is not because it has an odd number of segments (${u.length}).`);return bf(s,new $e(u))}if(i instanceof sn)return bf(s,i._key);throw new De(de.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${yy(i)}.`)}function vw(s,r){if(!Array.isArray(s)||0===s.length)throw new De(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${r.toString()}' filters.`);if(s.length>10)throw new De(de.INVALID_ARGUMENT,`Invalid Query. '${r.toString()}' filters support a maximum of 10 elements in the value array.`)}function GD(s,r,i){if(!i.isEqual(r))throw new De(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${r.toString()}' and so you must also use '${r.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class Ew{convertValue(r,i="none"){switch(dl(r)){case 0:return null;case 1:return r.booleanValue;case 2:return An(r.integerValue||r.doubleValue);case 3:return this.convertTimestamp(r.timestampValue);case 4:return this.convertServerTimestamp(r,i);case 5:return r.stringValue;case 6:return this.convertBytes(hd(r.bytesValue));case 7:return this.convertReference(r.referenceValue);case 8:return this.convertGeoPoint(r.geoPointValue);case 9:return this.convertArray(r.arrayValue,i);case 10:return this.convertObject(r.mapValue,i);default:throw Ze()}}convertObject(r,i){const u={};return ji(r.fields,(c,f)=>{u[c]=this.convertValue(f,i)}),u}convertGeoPoint(r){return new Ey(An(r.latitude),An(r.longitude))}convertArray(r,i){return(r.values||[]).map(u=>this.convertValue(u,i))}convertServerTimestamp(r,i){switch(i){case"previous":const u=jb(r);return null==u?null:this.convertValue(u,i);case"estimate":return this.convertTimestamp(ll(r));default:return null}}convertTimestamp(r){const i=Bo(r);return new Bn(i.seconds,i.nanos)}convertDocumentKey(r,i){const u=Rt.fromString(r);Je(et(u));const c=new Qf(u.get(1),u.get(3)),f=new $e(u.popFirst(5));return c.isEqual(i)||Tn(`Document ${f} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}function Ty(s,r,i){let u;return u=s?i&&(i.merge||i.mergeFields)?s.toFirestore(r,i):s.toFirestore(r):r,u}class ww extends Ew{constructor(r){super(),this.firestore=r}convertBytes(r){return new lo(r)}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return new sn(this.firestore,null,i)}}class qD{constructor(r,i){this._firestore=r,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=kd(r)}set(r,i,u){this._verifyNotCommitted();const c=bn(r,this._firestore),f=Ty(c.converter,i,u),_=uw(this._dataReader,"WriteBatch.set",c._key,f,null!==c.converter,u);return this._mutations.push(_.toMutation(c._key,Fn.none())),this}update(r,i,u,...c){this._verifyNotCommitted();const f=bn(r,this._firestore);let _;return _="string"==typeof(i=(0,Pt.m9)(i))||i instanceof Xa?dw(this._dataReader,"WriteBatch.update",f._key,i,u,c):cw(this._dataReader,"WriteBatch.update",f._key,i),this._mutations.push(_.toMutation(f._key,Fn.exists(!0))),this}delete(r){this._verifyNotCommitted();const i=bn(r,this._firestore);return this._mutations=this._mutations.concat(new $a(i._key,Fn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new De(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bn(s,r){if((s=(0,Pt.m9)(s)).firestore!==r)throw new De(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class co extends Ew{constructor(r){super(),this.firestore=r}convertBytes(r){return new lo(r)}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return new sn(this.firestore,null,i)}}function zD(s,r,i){s=xt(s,sn);const u=xt(s.firestore,_n),c=Ty(s.converter,r,i);return Fd(u,[uw(kd(u),"setDoc",s._key,c,null!==s.converter,i).toMutation(s._key,Fn.none())])}function KD(s,r,i,...u){s=xt(s,sn);const c=xt(s.firestore,_n),f=kd(c);let _;return _="string"==typeof(r=(0,Pt.m9)(r))||r instanceof Xa?dw(f,"updateDoc",s._key,r,i,u):cw(f,"updateDoc",s._key,r),Fd(c,[_.toMutation(s._key,Fn.exists(!0))])}function bw(s,...r){var i,u,c;s=(0,Pt.m9)(s);let f={includeMetadataChanges:!1},_=0;"object"!=typeof r[_]||sw(r[_])||(f=r[_],_++);const b={includeMetadataChanges:f.includeMetadataChanges};if(sw(r[_])){const k=r[_];r[_]=null===(i=k.next)||void 0===i?void 0:i.bind(k),r[_+1]=null===(u=k.error)||void 0===u?void 0:u.bind(k),r[_+2]=null===(c=k.complete)||void 0===c?void 0:c.bind(k)}let T,N,M;if(s instanceof sn)N=xt(s.firestore,_n),M=Ho(s._key.path),T={next:k=>{r[_]&&r[_](Iw(N,s,k))},error:r[_+1],complete:r[_+2]};else{const k=xt(s,Xn);N=xt(k.firestore,_n),M=k._query;const W=new co(N);T={next:K=>{r[_]&&r[_](new eu(N,W,k,K))},error:r[_+1],complete:r[_+2]},FD(s._query)}return function(k,W,K,_e){const Oe=new Kf(_e),Le=new XI(W,Oe,K);return k.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return KI(yield Ol(k),Le)})),()=>{Oe.Xo(),k.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return QI(yield Ol(k),Le)}))}}($n(N),M,b,T)}function Fd(s,r){return function(i,u){const c=new cr;return i.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(s,r,i){return Zf.apply(this,arguments)}(yield J0(i),u,c)})),c.promise}($n(s),r)}function Iw(s,r,i){const u=i.docs.get(r._key),c=new co(s);return new Xo(s,c,r._key,u,new Jo(i.hasPendingWrites,i.fromCache),r.converter)}class tu extends class{constructor(r,i){this._firestore=r,this._transaction=i,this._dataReader=kd(r)}get(r){const i=bn(r,this._firestore),u=new ww(this._firestore);return this._transaction.lookup([i._key]).then(c=>{if(!c||1!==c.length)return Ze();const f=c[0];if(f.isFoundDocument())return new by(this._firestore,u,f.key,f,i.converter);if(f.isNoDocument())return new by(this._firestore,u,i._key,null,i.converter);throw Ze()})}set(r,i,u){const c=bn(r,this._firestore),f=Ty(c.converter,i,u),_=uw(this._dataReader,"Transaction.set",c._key,f,null!==c.converter,u);return this._transaction.set(c._key,_),this}update(r,i,u,...c){const f=bn(r,this._firestore);let _;return _="string"==typeof(i=(0,Pt.m9)(i))||i instanceof Xa?dw(this._dataReader,"Transaction.update",f._key,i,u,c):cw(this._dataReader,"Transaction.update",f._key,i),this._transaction.update(f._key,_),this}delete(r){const i=bn(r,this._firestore);return this._transaction.delete(i._key),this}}{constructor(r,i){super(r,i),this._firestore=r}get(r){const i=bn(r,this._firestore),u=new co(this._firestore);return super.get(r).then(c=>new Xo(this._firestore,u,i._key,c._document,new Jo(!1,!1),i.converter))}}function Aw(s,r){if(void 0===r)return{merge:!1};if(void 0!==r.mergeFields&&void 0!==r.merge)throw new De("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return r}function JD(){if("undefined"==typeof Uint8Array)throw new De("unimplemented","Uint8Arrays are not available in this environment.")}function ho(){if("undefined"==typeof atob)throw new De("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(s){eo=s})(dv.SDK_VERSION),(0,dv._registerComponent)(new Hg.wA("firestore",(s,{options:r})=>{const i=s.getProvider("app").getImmediate(),u=new _n(i,new $A(s.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:!0},r),u._setSettings(r),u},"PUBLIC")),(0,dv.registerVersion)("@firebase/firestore","3.0.1",void 0);class ea{constructor(r){this._delegate=r}static fromBase64String(r){return ho(),new ea(lo.fromBase64String(r))}static fromUint8Array(r){return JD(),new ea(lo.fromUint8Array(r))}toBase64(){return ho(),this._delegate.toBase64()}toUint8Array(){return JD(),this._delegate.toUint8Array()}isEqual(r){return this._delegate.isEqual(r._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function nu(s){return function(s,r){if("object"!=typeof s||null===s)return!1;const i=s;for(const u of["next","error","complete"])if(u in i&&"function"==typeof i[u])return!0;return!1}(s)}class Ld{enableIndexedDbPersistence(r,i){return function(s,r){px(s=xt(s,_n));const i=$n(s),u=s._freezeSettings(),c=new z0;return aw(i,c,new W0(c,u.cacheSizeBytes,null==r?void 0:r.forceOwnership))}(r._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(r){return function(s){px(s=xt(s,_n));const r=$n(s),i=s._freezeSettings(),u=new z0;return aw(r,u,new nx(u,i.cacheSizeBytes))}(r._delegate)}clearIndexedDbPersistence(r){return function(s){if(s._initialized&&!s._terminated)throw new De(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const r=new cr;return s._queue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{yield(i=(0,me.Z)(function*(u){if(!ps.Pt())return Promise.resolve();const c=u+"main";yield ps.delete(c)}),function(u){return i.apply(this,arguments)})(o0(s._databaseId,s._persistenceKey)),r.resolve()}catch(i){r.reject(i)}var i})),r.promise}(r._delegate)}}class XD{constructor(r,i,u){this._delegate=i,this._persistenceProvider=u,this.INTERNAL={delete:()=>this.terminate()},r instanceof Qf||(this._appCompat=r)}get _databaseId(){return this._delegate._databaseId}settings(r){const i=this._delegate._getSettings();!r.merge&&i.host!==r.host&&ld("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),r.merge&&delete(r=Object.assign(Object.assign({},i),r)).merge,this._delegate._setSettings(r)}useEmulator(r,i,u={}){!function(s,r,i,u={}){var c;const f=(s=xt(s,_y))._getSettings();if("firestore.googleapis.com"!==f.host&&f.host!==r&&ld("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},f),{host:`${r}:${i}`,ssl:!1})),u.mockUserToken){let _,b;if("string"==typeof u.mockUserToken)_=u.mockUserToken,b=lr.MOCK_USER;else{_=(0,Pt.Sg)(u.mockUserToken,null===(c=s._app)||void 0===c?void 0:c.options.projectId);const T=u.mockUserToken.sub||u.mockUserToken.user_id;if(!T)throw new De(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new lr(T)}s._credentials=new vm(new HA(_,b))}}(this._delegate,r,i,u)}enableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,me.Z)(function*(){const r=yield mD(s),i=yield yD(s);return r.setNetworkEnabled(!0),function(u){const c=ke(u);return c.Kr.delete(0),xd(c)}(i)}))}($n(s=xt(s,_n)))}(this._delegate)}disableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,me.Z)(function*(){const r=yield mD(s),i=yield yD(s);return r.setNetworkEnabled(!1),(u=(0,me.Z)(function*(c){const f=ke(c);f.Kr.add(0),yield Qo(f),f.Wr.set("Offline")}),function(c){return u.apply(this,arguments)})(i);var u}))}($n(s=xt(s,_n)))}(this._delegate)}enablePersistence(r){let i=!1,u=!1;return r&&(i=!!r.synchronizeTabs,u=!!r.experimentalForceOwningTab,nw("synchronizeTabs",i,"experimentalForceOwningTab",u)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,u)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(s){return function(r){const i=new cr;return r.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(s,r){return L0.apply(this,arguments)}(yield J0(r),i)})),i.promise}($n(s=xt(s,_n)))}(this._delegate)}onSnapshotsInSync(r){return function(s,r){return function(s,r){const i=new Kf(r);return s.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return u=yield Ol(s),c=i,ke(u).Zr.add(c),void c.next();var u,c})),()=>{i.Xo(),s.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return u=yield Ol(s),c=i,void ke(u).Zr.delete(c);var u,c}))}}($n(s=xt(s,_n)),sw(r)?r:{next:r})}(this._delegate,r)}get app(){if(!this._appCompat)throw new De("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(r){try{return new up(this,ux(this._delegate,r))}catch(i){throw pr(i,"collection()","Firestore.collection()")}}doc(r){try{return new Ii(this,Jf(this._delegate,r))}catch(i){throw pr(i,"doc()","Firestore.doc()")}}collectionGroup(r){try{return new gr(this,function(s,r){if(s=xt(s,_y),CD("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new De(de.INVALID_ARGUMENT,`Invalid collection ID '${r}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xn(s,null,(i=r,new no(Rt.emptyPath(),i)));var i}(this._delegate,r))}catch(i){throw pr(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(r){return function(s,r){return function(s,r){const i=new cr;return s.asyncQueue.enqueueAndForget((0,me.Z)(function*(){const u=yield(c=s,gy(c).then(f=>f.datastore));var c;new rx(s.asyncQueue,u,r,i).run()})),i.promise}($n(s),i=>r(new tu(s,i)))}(this._delegate,i=>r(new Sw(this,i)))}batch(){return $n(this._delegate),new xw(new qD(this._delegate,r=>Fd(this._delegate,r)))}loadBundle(r){return function(s,r){const i=$n(s=xt(s,_n)),u=new AD;return function(s,r,i,u){const c=function(f,_){let b;return b="string"==typeof f?(new TextEncoder).encode(f):f,T=function(T,N){if(T instanceof Uint8Array)return py(T,N);if(T instanceof ArrayBuffer)return py(new Uint8Array(T),N);if(T instanceof ReadableStream)return T.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(b),new cD(T,_);var T}(i,Yo(r));s.asyncQueue.enqueueAndForget((0,me.Z)(function*(){!function(s,r,i){const u=ke(s);var c;(c=(0,me.Z)(function*(f,_,b){try{const T=yield _.getMetadata();if(yield function(W,K){const _e=ke(W),Oe=Yn(K.createTime);return _e.persistence.runTransaction("hasNewerBundle","readonly",Le=>_e.Je.getBundleMetadata(Le,K.id)).then(Le=>!!Le&&Le.createTime.compareTo(Oe)>=0)}(f.localStore,T))return yield _.close(),void b._completeWith((W=T,{taskState:"Success",documentsLoaded:W.totalDocuments,bytesLoaded:W.totalBytes,totalDocuments:W.totalDocuments,totalBytes:W.totalBytes}));b._updateProgress(eD(T));const N=new GS(T,f.localStore,_.N);let M=yield _.Qo();for(;M;){const W=yield N.fo(M);W&&b._updateProgress(W),M=yield _.Qo()}const k=yield N.complete();yield Ja(f,k.Tn,void 0),yield function(W,K){const _e=ke(W);return _e.persistence.runTransaction("Save bundle","readwrite",Oe=>_e.Je.saveBundleMetadata(Oe,K))}(f.localStore,T),b._completeWith(k.progress)}catch(T){ld("SyncEngine",`Loading bundle failed with ${T}`),b._failWith(T)}var W}),function(f,_,b){return c.apply(this,arguments)})(u,r,i).then(()=>{u.sharedClientState.notifyBundleLoaded()})}(yield J0(s),c,u)}))}(i,s._databaseId,r,u),u}(this._delegate,r)}namedQuery(r){return function(s,r){return function(s,r){return s.asyncQueue.enqueue((0,me.Z)(function*(){return function(i,u){const c=ke(i);return c.persistence.runTransaction("Get named query","readonly",f=>c.Je.getNamedQuery(f,u))}(yield my(s),r)}))}($n(s=xt(s,_n)),r).then(i=>i?new Xn(s,null,i.query):null)}(this._delegate,r).then(i=>i?new gr(this,i):null)}}class Ny extends Ew{constructor(r){super(),this.firestore=r}convertBytes(r){return new ea(new lo(r))}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return Ii.forKey(i,this.firestore,null)}}class Sw{constructor(r,i){this._firestore=r,this._delegate=i,this._userDataWriter=new Ny(r)}get(r){const i=Ud(r);return this._delegate.get(i).then(u=>new Vd(this._firestore,new Xo(this._firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,i.converter)))}set(r,i,u){const c=Ud(r);return u?(Aw("Transaction.set",u),this._delegate.set(c,i,u)):this._delegate.set(c,i),this}update(r,i,u,...c){const f=Ud(r);return 2===arguments.length?this._delegate.update(f,i):this._delegate.update(f,i,u,...c),this}delete(r){const i=Ud(r);return this._delegate.delete(i),this}}class xw{constructor(r){this._delegate=r}set(r,i,u){const c=Ud(r);return u?(Aw("WriteBatch.set",u),this._delegate.set(c,i,u)):this._delegate.set(c,i),this}update(r,i,u,...c){const f=Ud(r);return 2===arguments.length?this._delegate.update(f,i):this._delegate.update(f,i,u,...c),this}delete(r){const i=Ud(r);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class ru{constructor(r,i,u){this._firestore=r,this._userDataWriter=i,this._delegate=u}fromFirestore(r,i){const u=new rp(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,null);return this._delegate.fromFirestore(new ys(this._firestore,u),null!=i?i:{})}toFirestore(r,i){return i?this._delegate.toFirestore(r,i):this._delegate.toFirestore(r)}static getInstance(r,i){const u=ru.INSTANCES;let c=u.get(r);c||(c=new WeakMap,u.set(r,c));let f=c.get(i);return f||(f=new ru(r,new Ny(r),i),c.set(i,f)),f}}ru.INSTANCES=new WeakMap;class Ii{constructor(r,i){this.firestore=r,this._delegate=i,this._userDataWriter=new Ny(r)}static forPath(r,i,u){if(r.length%2!=0)throw new De("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${r.canonicalString()} has ${r.length}`);return new Ii(i,new sn(i._delegate,u,new $e(r)))}static forKey(r,i,u){return new Ii(i,new sn(i._delegate,u,r))}get id(){return this._delegate.id}get parent(){return new up(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(r){try{return new up(this.firestore,ux(this._delegate,r))}catch(i){throw pr(i,"collection()","DocumentReference.collection()")}}isEqual(r){return(r=(0,Pt.m9)(r))instanceof sn&&TD(this._delegate,r)}set(r,i){i=Aw("DocumentReference.set",i);try{return i?zD(this._delegate,r,i):zD(this._delegate,r)}catch(u){throw pr(u,"setDoc()","DocumentReference.set()")}}update(r,i,...u){try{return 1===arguments.length?KD(this._delegate,r):KD(this._delegate,r,i,...u)}catch(c){throw pr(c,"updateDoc()","DocumentReference.update()")}}delete(){return function(s){return Fd(xt(s.firestore,_n),[new $a(s._key,Fn.none())])}(this._delegate)}onSnapshot(...r){const i=eT(r),u=tT(r,c=>new Vd(this.firestore,new Xo(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return bw(this._delegate,i,u)}get(r){let i;return i="cache"===(null==r?void 0:r.source)?function(s){s=xt(s,sn);const r=xt(s.firestore,_n),i=$n(r),u=new co(r);return function(s,r){const i=new cr;return s.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(u=(0,me.Z)(function*(c,f,_){try{const b=yield function(T,N){const M=ke(T);return M.persistence.runTransaction("read document","readonly",k=>M.Qn.An(k,N))}(c,f);b.isFoundDocument()?_.resolve(b):b.isNoDocument()?_.resolve(null):_.reject(new De(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(b){const T=Hf(b,`Failed to get document '${f} from cache`);_.reject(T)}}),function(c,f,_){return u.apply(this,arguments)})(yield my(s),r,i);var u})),i.promise}(i,s._key).then(c=>new Xo(r,u,s._key,c,new Jo(null!==c&&c.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===(null==r?void 0:r.source)?function(s){s=xt(s,sn);const r=xt(s.firestore,_n);return ED($n(r),s._key,{source:"server"}).then(i=>Iw(r,s,i))}(this._delegate):function(s){s=xt(s,sn);const r=xt(s.firestore,_n);return ED($n(r),s._key).then(i=>Iw(r,s,i))}(this._delegate),i.then(u=>new Vd(this.firestore,new Xo(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)))}withConverter(r){return new Ii(this.firestore,this._delegate.withConverter(r?ru.getInstance(this.firestore,r):null))}}function pr(s,r,i){return s.message=s.message.replace(r,i),s}function eT(s){for(const r of s)if("object"==typeof r&&!nu(r))return r;return{}}function tT(s,r){var i,u;let c;return c=nu(s[0])?s[0]:nu(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:f=>{c.next&&c.next(r(f))},error:null===(i=c.error)||void 0===i?void 0:i.bind(c),complete:null===(u=c.complete)||void 0===u?void 0:u.bind(c)}}class Vd{constructor(r,i){this._firestore=r,this._delegate=i}get ref(){return new Ii(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(r){return this._delegate.data(r)}get(r,i){return this._delegate.get(r,i)}isEqual(r){return kD(this._delegate,r._delegate)}}class ys extends Vd{data(r){const i=this._delegate.data(r);return function(s,r){s||Ze()}(void 0!==i),i}}class gr{constructor(r,i){this.firestore=r,this._delegate=i,this._userDataWriter=new Ny(r)}where(r,i,u){try{return new gr(this.firestore,tr(this._delegate,function(s,r,i){const u=r,c=gw("where",s);return new PN(c,u,i)}(r,i,u)))}catch(c){throw pr(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(r,i){try{return new gr(this.firestore,tr(this._delegate,function(s,r="asc"){const i=r,u=gw("orderBy",s);return new Cx(u,i)}(r,i)))}catch(u){throw pr(u,/(orderBy|where)\(\)/,"Query.$1()")}}limit(r){try{return new gr(this.firestore,tr(this._delegate,function(s){return ID("limit",s),new mw("limit",s,"F")}(r)))}catch(i){throw pr(i,"limit()","Query.limit()")}}limitToLast(r){try{return new gr(this.firestore,tr(this._delegate,function(s){return ID("limitToLast",s),new mw("limitToLast",s,"L")}(r)))}catch(i){throw pr(i,"limitToLast()","Query.limitToLast()")}}startAt(...r){try{return new gr(this.firestore,tr(this._delegate,function(...s){return new Iy("startAt",s,!0)}(...r)))}catch(i){throw pr(i,"startAt()","Query.startAt()")}}startAfter(...r){try{return new gr(this.firestore,tr(this._delegate,function(...s){return new Iy("startAfter",s,!1)}(...r)))}catch(i){throw pr(i,"startAfter()","Query.startAfter()")}}endBefore(...r){try{return new gr(this.firestore,tr(this._delegate,function(...s){return new sp("endBefore",s,!0)}(...r)))}catch(i){throw pr(i,"endBefore()","Query.endBefore()")}}endAt(...r){try{return new gr(this.firestore,tr(this._delegate,function(...s){return new sp("endAt",s,!1)}(...r)))}catch(i){throw pr(i,"endAt()","Query.endAt()")}}isEqual(r){return Xf(this._delegate,r._delegate)}get(r){let i;return i="cache"===(null==r?void 0:r.source)?function(s){s=xt(s,Xn);const r=xt(s.firestore,_n),i=$n(r),u=new co(r);return function(s,r){const i=new cr;return s.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(u=(0,me.Z)(function*(c,f,_){try{const b=yield Ka(c,f,!0),T=new ZS(f,b.Gn),N=T.Io(b.documents),M=T.applyChanges(N,!1);_.resolve(M.snapshot)}catch(b){const T=Hf(b,`Failed to execute query '${f} against cache`);_.reject(T)}}),function(c,f,_){return u.apply(this,arguments)})(yield my(s),r,i);var u})),i.promise}(i,s._query).then(c=>new eu(r,u,s,c))}(this._delegate):"server"===(null==r?void 0:r.source)?function(s){s=xt(s,Xn);const r=xt(s.firestore,_n),i=$n(r),u=new co(r);return ew(i,s._query,{source:"server"}).then(c=>new eu(r,u,s,c))}(this._delegate):function(s){s=xt(s,Xn);const r=xt(s.firestore,_n),i=$n(r),u=new co(r);return FD(s._query),ew(i,s._query).then(c=>new eu(r,u,s,c))}(this._delegate),i.then(u=>new Nw(this.firestore,new eu(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)))}onSnapshot(...r){const i=eT(r),u=tT(r,c=>new Nw(this.firestore,new eu(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return bw(this._delegate,i,u)}withConverter(r){return new gr(this.firestore,this._delegate.withConverter(r?ru.getInstance(this.firestore,r):null))}}class Rx{constructor(r,i){this._firestore=r,this._delegate=i}get type(){return this._delegate.type}get doc(){return new ys(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Nw{constructor(r,i){this._firestore=r,this._delegate=i}get query(){return new gr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(r=>new ys(this._firestore,r))}docChanges(r){return this._delegate.docChanges(r).map(i=>new Rx(this._firestore,i))}forEach(r,i){this._delegate.forEach(u=>{r.call(i,new ys(this._firestore,u))})}isEqual(r){return kD(this._delegate,r._delegate)}}class up extends gr{constructor(r,i){super(r,i),this.firestore=r,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const r=this._delegate.parent;return r?new Ii(this.firestore,r):null}doc(r){try{return new Ii(this.firestore,void 0===r?Jf(this._delegate):Jf(this._delegate,r))}catch(i){throw pr(i,"doc()","CollectionReference.doc()")}}add(r){return function(s,r){const i=xt(s.firestore,_n),u=Jf(s),c=Ty(s.converter,r);return Fd(i,[uw(kd(s.firestore),"addDoc",u._key,c,null!==s.converter,{}).toMutation(u._key,Fn.exists(!1))]).then(()=>u)}(this._delegate,r).then(i=>new Ii(this.firestore,i))}isEqual(r){return TD(this._delegate,r._delegate)}withConverter(r){return new up(this.firestore,this._delegate.withConverter(r?ru.getInstance(this.firestore,r):null))}}function Ud(s){return xt(s,sn)}class nT{constructor(...r){this._delegate=new Xa(...r)}static documentId(){return new nT(hr.keyField().canonicalString())}isEqual(r){return(r=(0,Pt.m9)(r))instanceof Xa&&this._delegate._internalPath.isEqual(r._internalPath)}}class Bd{constructor(r){this._delegate=r}static serverTimestamp(){const r=new lw("serverTimestamp");return r._methodName="FieldValue.serverTimestamp",new Bd(r)}static delete(){const r=new tp("deleteField");return r._methodName="FieldValue.delete",new Bd(r)}static arrayUnion(...r){const i=function(...s){return new vx("arrayUnion",s)}(...r);return i._methodName="FieldValue.arrayUnion",new Bd(i)}static arrayRemove(...r){const i=function(...s){return new Ex("arrayRemove",s)}(...r);return i._methodName="FieldValue.arrayRemove",new Bd(i)}static increment(r){const i=function(s){return new ms("increment",s)}(r);return i._methodName="FieldValue.increment",new Bd(i)}isEqual(r){return this._delegate.isEqual(r._delegate)}}const Mx={Firestore:XD,GeoPoint:Ey,Timestamp:Bn,Blob:ea,Transaction:Sw,WriteBatch:xw,DocumentReference:Ii,DocumentSnapshot:Vd,Query:gr,QueryDocumentSnapshot:ys,QuerySnapshot:Nw,CollectionReference:up,FieldPath:nT,FieldValue:Bd,setLogLevel:function(s){!function(s){Bi.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};function Px(s,r){return function(s,r=iN.z){return new Cr.y(i=>{let u;return null!=r?r.schedule(()=>{u=s.onSnapshot({includeMetadataChanges:!0},i)}):u=s.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=u&&u()}})}(s,r)}function Rw(s,r){return Px(s,r).pipe((0,it.U)(i=>({payload:i,type:"query"})))}function Mw(s,r){return Rw(s,r).pipe(Nu(void 0),JC(),(0,it.U)(([i,u])=>{const c=u.payload.docChanges(),f=c.map(_=>({type:_.type,payload:_}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((_,b)=>{const T=c.find(M=>M.doc.ref.isEqual(_.ref)),N=null==i?void 0:i.payload.docs.find(M=>M.ref.isEqual(_.ref));T&&JSON.stringify(T.doc.metadata)===JSON.stringify(_.metadata)||!T&&N&&JSON.stringify(N.metadata)===JSON.stringify(_.metadata)||f.push({type:"modified",payload:{oldIndex:b,newIndex:b,type:"modified",doc:_}})}),f}))}function kx(s,r,i){return Mw(s,i).pipe(_a((u,c)=>function(s,r,i){return r.forEach(u=>{i.indexOf(u.type)>-1&&(s=function(s,r){switch(r.type){case"added":if(!s[r.newIndex]||!s[r.newIndex].doc.ref.isEqual(r.doc.ref))return rT(s,r.newIndex,0,r);break;case"modified":if(null==s[r.oldIndex]||s[r.oldIndex].doc.ref.isEqual(r.doc.ref)){if(r.oldIndex!==r.newIndex){const i=s.slice();return i.splice(r.oldIndex,1),i.splice(r.newIndex,0,r),i}return rT(s,r.newIndex,1,r)}break;case"removed":if(s[r.oldIndex]&&s[r.oldIndex].doc.ref.isEqual(r.doc.ref))return rT(s,r.oldIndex,1)}return s}(s,u))}),s}(u,c.map(f=>f.payload),r),[]),i=>i.lift(new tb(void 0,void 0)),(0,it.U)(u=>u.map(c=>({type:c.type,payload:c}))))}function rT(s,r,i,...u){const c=s.slice();return c.splice(r,i,...u),c}function a(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}!function(s){(function(s,r){s.INTERNAL.registerComponent(new Hg.wA("firestore-compat",i=>((r,i)=>new XD(r,i,new Ld))(i.getProvider("app-compat").getImmediate(),i.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Mx)))})(s),s.registerVersion("@firebase/firestore-compat","0.1.1")}(nb.Z);class l{constructor(r,i,u){this.ref=r,this.query=i,this.afs=u}stateChanges(r){let i=Mw(this.query,this.afs.schedulers.outsideAngular);return r&&r.length>0&&(i=i.pipe((0,it.U)(u=>u.filter(c=>r.indexOf(c.type)>-1)))),i.pipe(Nu(void 0),JC(),ks(([u,c])=>c.length>0||!u),(0,it.U)(([u,c])=>c),Zn.iC)}auditTrail(r){return this.stateChanges(r).pipe(_a((i,u)=>[...i,...u],[]))}snapshotChanges(r){const i=a(r);return kx(this.query,i,this.afs.schedulers.outsideAngular).pipe(Zn.iC)}valueChanges(r={}){return Rw(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(i=>i.payload.docs.map(u=>r.idField?Object.assign(Object.assign({},u.data()),{[r.idField]:u.id}):u.data())),Zn.iC)}get(r){return(0,Qt.D)(this.query.get(r)).pipe(Zn.iC)}add(r){return this.ref.add(r)}doc(r){return new d(this.ref.doc(r),this.afs)}}class d{constructor(r,i){this.ref=r,this.afs=i}set(r,i){return this.ref.set(r,i)}update(r){return this.ref.update(r)}delete(){return this.ref.delete()}collection(r,i){const u=this.ref.collection(r),{ref:c,query:f}=A(u,i);return new l(c,f,this.afs)}snapshotChanges(){return function(s,r){return Px(s,r).pipe(Nu(void 0),JC(),(0,it.U)(([i,u])=>u.exists?(null==i?void 0:i.exists)?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Zn.iC)}valueChanges(r={}){return this.snapshotChanges().pipe((0,it.U)(({payload:i})=>r.idField?Object.assign(Object.assign({},i.data()),{[r.idField]:i.id}):i.data()))}get(r){return(0,Qt.D)(this.ref.get(r)).pipe(Zn.iC)}}class h{constructor(r,i){this.query=r,this.afs=i}stateChanges(r){return r&&0!==r.length?Mw(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(i=>i.filter(u=>r.indexOf(u.type)>-1)),ks(i=>i.length>0),Zn.iC):Mw(this.query,this.afs.schedulers.outsideAngular).pipe(Zn.iC)}auditTrail(r){return this.stateChanges(r).pipe(_a((i,u)=>[...i,...u],[]))}snapshotChanges(r){const i=a(r);return kx(this.query,i,this.afs.schedulers.outsideAngular).pipe(Zn.iC)}valueChanges(r={}){return Rw(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(u=>u.payload.docs.map(c=>r.idField?Object.assign({[r.idField]:c.id},c.data()):c.data())),Zn.iC)}get(r){return(0,Qt.D)(this.query.get(r)).pipe(Zn.iC)}}const g=new m.OlP("angularfire2.enableFirestorePersistence"),v=new m.OlP("angularfire2.firestore.persistenceSettings"),w=new m.OlP("angularfire2.firestore.settings"),D=new m.OlP("angularfire2.firestore.use-emulator");function A(s,r=(i=>i)){return{query:r(s),ref:s}}let S=(()=>{class s{constructor(i,u,c,f,_,b,T,N,M,k,W,K,_e,Oe,Le,yt){this.schedulers=T;const It=(0,us.on)(i,b,u),_t=M;k&&qh(It,b,W,_e,Oe,Le,K,yt),[this.firestore,this.persistenceEnabled$]=(0,Zn.cc)(`${It.name}.firestore`,"AngularFirestore",It.name,()=>{const qt=b.runOutsideAngular(()=>It.firestore());if(f&&qt.settings(f),_t&&qt.useEmulator(..._t),c&&!Hl(_)){const fi=()=>{try{return(0,Qt.D)(qt.enablePersistence(N||void 0).then(()=>!0,()=>!1))}catch(iT){return"undefined"!=typeof console&&console.warn(iT),(0,Ye.of)(!1)}};return[qt,b.runOutsideAngular(fi)]}return[qt,(0,Ye.of)(!1)]},[f,_t,c])}collection(i,u){let c;c="string"==typeof i?this.firestore.collection(i):i;const{ref:f,query:_}=A(c,u),b=this.schedulers.ngZone.run(()=>f);return new l(b,_,this)}collectionGroup(i,u){const c=u||(_=>_),f=this.firestore.collectionGroup(i);return new h(c(f),this)}doc(i){let u;u="string"==typeof i?this.firestore.doc(i):i;const c=this.schedulers.ngZone.run(()=>u);return new d(c,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(us.Dh),m.LFG(us.xv,8),m.LFG(g,8),m.LFG(w,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(Zn.HU),m.LFG(v,8),m.LFG(D,8),m.LFG(Wu,8),m.LFG(N_,8),m.LFG(Ig,8),m.LFG(AT,8),m.LFG(R_,8),m.LFG(ST,8),m.LFG(qs,8))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),R=(()=>{class s{constructor(){Gs.Z.registerVersion("angularfire",Zn.q4.full,"fst-compat")}static enablePersistence(i){return{ngModule:s,providers:[{provide:g,useValue:!0},{provide:v,useValue:i}]}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({providers:[S]}),s})();const P_firebase={apiKey:"AIzaSyDYXQRoLBUS4l1no8FeWtTLzBtpjqeFe4Y",authDomain:"laboratorio-iv-5fb4e.firebaseapp.com",databaseURL:"https://laboratorio-iv-5fb4e-default-rtdb.firebaseio.com",projectId:"laboratorio-iv-5fb4e",storageBucket:"laboratorio-iv-5fb4e.appspot.com",messagingSenderId:"176267864255",appId:"1:176267864255:web:5028d52b48bc39a4363e0a"};let U=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s,bootstrap:[CT]}),s.\u0275inj=m.cJS({providers:[],imports:[[Rs,Li,us.hO.initializeApp(P_firebase),M_,R,Li,tN]]}),s})();(0,m.G48)(),$y().bootstrapModule(U).catch(s=>console.error(s))},4762:(He,Ee,F)=>{"use strict";F.d(Ee,{ZT:()=>ie,pi:()=>H,_T:()=>te,mG:()=>he,Jh:()=>z,XA:()=>$,CR:()=>B,ev:()=>ee});var m=function(oe,ne){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ce,fe){ce.__proto__=fe}||function(ce,fe){for(var ae in fe)Object.prototype.hasOwnProperty.call(fe,ae)&&(ce[ae]=fe[ae])})(oe,ne)};function ie(oe,ne){if("function"!=typeof ne&&null!==ne)throw new TypeError("Class extends value "+String(ne)+" is not a constructor or null");function ce(){this.constructor=oe}m(oe,ne),oe.prototype=null===ne?Object.create(ne):(ce.prototype=ne.prototype,new ce)}var H=function(){return(H=Object.assign||function(ne){for(var ce,fe=1,ae=arguments.length;fe<ae;fe++)for(var Q in ce=arguments[fe])Object.prototype.hasOwnProperty.call(ce,Q)&&(ne[Q]=ce[Q]);return ne}).apply(this,arguments)};function te(oe,ne){var ce={};for(var fe in oe)Object.prototype.hasOwnProperty.call(oe,fe)&&ne.indexOf(fe)<0&&(ce[fe]=oe[fe]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var ae=0;for(fe=Object.getOwnPropertySymbols(oe);ae<fe.length;ae++)ne.indexOf(fe[ae])<0&&Object.prototype.propertyIsEnumerable.call(oe,fe[ae])&&(ce[fe[ae]]=oe[fe[ae]])}return ce}function he(oe,ne,ce,fe){return new(ce||(ce=Promise))(function(Q,Se){function Ge(lt){try{qe(fe.next(lt))}catch(Vt){Se(Vt)}}function mt(lt){try{qe(fe.throw(lt))}catch(Vt){Se(Vt)}}function qe(lt){lt.done?Q(lt.value):function(Q){return Q instanceof ce?Q:new ce(function(Se){Se(Q)})}(lt.value).then(Ge,mt)}qe((fe=fe.apply(oe,ne||[])).next())})}function z(oe,ne){var fe,ae,Q,Se,ce={label:0,sent:function(){if(1&Q[0])throw Q[1];return Q[1]},trys:[],ops:[]};return Se={next:Ge(0),throw:Ge(1),return:Ge(2)},"function"==typeof Symbol&&(Se[Symbol.iterator]=function(){return this}),Se;function Ge(qe){return function(lt){return function(qe){if(fe)throw new TypeError("Generator is already executing.");for(;ce;)try{if(fe=1,ae&&(Q=2&qe[0]?ae.return:qe[0]?ae.throw||((Q=ae.return)&&Q.call(ae),0):ae.next)&&!(Q=Q.call(ae,qe[1])).done)return Q;switch(ae=0,Q&&(qe=[2&qe[0],Q.value]),qe[0]){case 0:case 1:Q=qe;break;case 4:return ce.label++,{value:qe[1],done:!1};case 5:ce.label++,ae=qe[1],qe=[0];continue;case 7:qe=ce.ops.pop(),ce.trys.pop();continue;default:if(!(Q=(Q=ce.trys).length>0&&Q[Q.length-1])&&(6===qe[0]||2===qe[0])){ce=0;continue}if(3===qe[0]&&(!Q||qe[1]>Q[0]&&qe[1]<Q[3])){ce.label=qe[1];break}if(6===qe[0]&&ce.label<Q[1]){ce.label=Q[1],Q=qe;break}if(Q&&ce.label<Q[2]){ce.label=Q[2],ce.ops.push(qe);break}Q[2]&&ce.ops.pop(),ce.trys.pop();continue}qe=ne.call(oe,ce)}catch(lt){qe=[6,lt],ae=0}finally{fe=Q=0}if(5&qe[0])throw qe[1];return{value:qe[0]?qe[1]:void 0,done:!0}}([qe,lt])}}}function $(oe){var ne="function"==typeof Symbol&&Symbol.iterator,ce=ne&&oe[ne],fe=0;if(ce)return ce.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&fe>=oe.length&&(oe=void 0),{value:oe&&oe[fe++],done:!oe}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}function B(oe,ne){var ce="function"==typeof Symbol&&oe[Symbol.iterator];if(!ce)return oe;var ae,Se,fe=ce.call(oe),Q=[];try{for(;(void 0===ne||ne-- >0)&&!(ae=fe.next()).done;)Q.push(ae.value)}catch(Ge){Se={error:Ge}}finally{try{ae&&!ae.done&&(ce=fe.return)&&ce.call(fe)}finally{if(Se)throw Se.error}}return Q}function ee(oe,ne,ce){if(ce||2===arguments.length)for(var Q,fe=0,ae=ne.length;fe<ae;fe++)(Q||!(fe in ne))&&(Q||(Q=Array.prototype.slice.call(ne,0,fe)),Q[fe]=ne[fe]);return oe.concat(Q||Array.prototype.slice.call(ne))}},8239:(He,Ee,F)=>{"use strict";function m(H,te,pe,re,ye,he,z){try{var L=H[he](z),j=L.value}catch($){return void pe($)}L.done?te(j):Promise.resolve(j).then(re,ye)}function ie(H){return function(){var te=this,pe=arguments;return new Promise(function(re,ye){var he=H.apply(te,pe);function z(j){m(he,re,ye,z,L,"next",j)}function L(j){m(he,re,ye,z,L,"throw",j)}z(void 0)})}}F.d(Ee,{Z:()=>ie})}},He=>{He(He.s=9542)}]);